var Dt=Object.defineProperty;var Le=Object.getOwnPropertySymbols;var zt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable;var Me=(a,e,t)=>e in a?Dt(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,me=(a,e)=>{for(var t in e||(e={}))zt.call(e,t)&&Me(a,t,e[t]);if(Le)for(var t of Le(e))St.call(e,t)&&Me(a,t,e[t]);return a};import{X as It,S as J,i as Y,s as Q,e as E,t as A,c as C,a as y,h as B,d as _,b,g as p,H as g,j as R,F as oe,k as V,m as j,R as ne,Y as Te,N as ie,f as z,J as fe,K as re,L as ue,q as S,o as T,W as De,V as gt,G as bt,I as vt,n as le,p as te,r as pe,D as Tt,v as Vt,Z as Ie,_ as Pe,l as q,$ as jt,Q as W,w as U,x as X,y as G,B as Z,a0 as Ne,a1 as Ae,a2 as Pt,a3 as Nt,O as be,a4 as At,U as Bt,a5 as Lt}from"../chunks/vendor-88ee4c21.js";import{a as kt,b as Mt}from"../chunks/paths-396f020f.js";import{m as Ke,c as Kt,a as Oe,b as ze,l as ye,d as ke,e as Ve,f as Ot,t as Ft,v as qt,g as Ht,p as Rt}from"../chunks/config-597a54ed.js";import{c as ve}from"../chunks/singletons-d1fb5791.js";const Fe="https://raw.githubusercontent.com/jtrim-ons/key-pop-api-downloader/main/generated/";function Wt(a){let e=[...a].sort((l,n)=>l.key.localeCompare(n.key));return{selString:a.length==0?"data":e.map((l,n)=>n<e.length-1?`${l.key}-${l.code}`:`${l.key}`).join("/"),lastCode:a.length>0?e[e.length-1].code:null}}async function pt(a,e=[],t=window.fetch){if(e.length>0&&!e[0].newFormat)throw new Error("OLD FORMAT!");let{selString:l,lastCode:n}=Wt(e),i={data:{}},s;if(e.length===0){let f=`${Fe}${e.length}var_percent/${l}.json`;s=await(await t(f)).json()}else{let f=`${Fe}${e.length}var-combined_percent/${l}.json`,r=await(await t(f)).json();s=r.bar_chart_data[n],i.mapData=r.map_data[n],i.total_pop=s.total_pop}for(let f of a){i.data[f.key]={};for(let o of f.tables)i.data[f.key][o.code]={values:s[o.code]}}return i}function Ut(a,e,t){for(let l=1;l<e.length;l++)if(a<=e[l])return t[l-1]}async function Gt(a,e,t=window.fetch){let n=await(await t(a)).json();return await It(n,e)}function _e(a){return a.charAt(0).toUpperCase()+a.slice(1)}function wt(a){if(!a)return 0;let e=0;for(let t=0;t<a.length;t++)e+=a[t];return e}function qe(a){return a.replace(new RegExp(" \\([0-9]* categories\\)"),"")}function He(a){for(const e of a)if(e.var in Ke)return Ke[e.var][e.code];return null}function je(a,e,t){let l=t.all[a][e].values,n=t.selected[a][e].values,i=[];return Kt[e].forEach((s,f)=>{let o=s.label,r=l.percent[f],u=n.percent[f];t.selected.total_pop!=t.all.total_pop&&i.push({group:"This group",category:o,value:u}),i.push({group:"Whole population",category:o,value:r})}),i}function Re(a){if(a===100)return"100";const e=a.toFixed(1);return e!=="0.0"?e:"Less than 0.05"}function We(a,e,t){const l=a.slice();return l[9]=e[t],l}function Ue(a){let e,t,l;return{c(){e=E("header"),t=E("h3"),l=A(a[2]),this.h()},l(n){e=C(n,"HEADER",{class:!0});var i=y(e);t=C(i,"H3",{class:!0});var s=y(t);l=B(s,a[2]),s.forEach(_),i.forEach(_),this.h()},h(){b(t,"class","margin-top--0 margin-right--0 margin-bottom--0 margin-left--0 svelte-1krn9ab"),b(e,"class","margin-top--1")},m(n,i){p(n,e,i),g(e,t),g(t,l)},p(n,i){i&4&&R(l,n[2])},d(n){n&&_(e)}}}function Ge(a){let e,t=a[3],l=[];for(let n=0;n<t.length;n+=1)l[n]=Ze(We(a,t,n));return{c(){e=E("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=C(n,"DIV",{class:!0});var i=y(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){b(e,"class","margin-top--2")},m(n,i){p(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&8){t=n[3];let s;for(s=0;s<t.length;s+=1){const f=We(n,t,s);l[s]?l[s].p(f,i):(l[s]=Ze(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),ne(l,n)}}}function Ze(a){let e,t=a[9].label+"",l,n,i,s,f;return{c(){e=E("a"),l=A(t),n=V(),this.h()},l(o){e=C(o,"A",{href:!0,class:!0,"aria-label":!0,"data-gtm-label":!0});var r=y(e);l=B(r,t),n=j(r),r.forEach(_),this.h()},h(){b(e,"href",i=a[9].url),b(e,"class","tile__link"),b(e,"aria-label",s=a[9].label),b(e,"data-gtm-label",f=a[9].label)},m(o,r){p(o,e,r),g(e,l),g(e,n)},p(o,r){r&8&&t!==(t=o[9].label+"")&&R(l,t),r&8&&i!==(i=o[9].url)&&b(e,"href",i),r&8&&s!==(s=o[9].label)&&b(e,"aria-label",s),r&8&&f!==(f=o[9].label)&&b(e,"data-gtm-label",f)},d(o){o&&_(e)}}}function Zt(a){let e,t,l,n,i=`span ${a[0]==1?1:a[0]>a[5]?a[5]:a[0]}`,s=`span ${a[1]}`,f,o=a[2]&&Ue(a);const r=a[8].default,u=oe(r,a,a[7],null);let h=a[3]&&a[3][0]&&Ge(a);return{c(){e=E("div"),o&&o.c(),t=V(),u&&u.c(),l=V(),h&&h.c(),this.h()},l(c){e=C(c,"DIV",{class:!0});var d=y(e);o&&o.l(d),t=j(d),u&&u.l(d),l=j(d),h&&h.l(d),d.forEach(_),this.h()},h(){b(e,"class",n=Te(a[4]?"":"tile tile__content")+" svelte-1krn9ab"),ie(e,"blank",a[4]),z(e,"grid-column",i,!1),z(e,"grid-row",s,!1)},m(c,d){p(c,e,d),o&&o.m(e,null),g(e,t),u&&u.m(e,null),g(e,l),h&&h.m(e,null),f=!0},p(c,[d]){c[2]?o?o.p(c,d):(o=Ue(c),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u&&u.p&&(!f||d&128)&&fe(u,r,c,c[7],f?ue(r,c[7],d,null):re(c[7]),null),c[3]&&c[3][0]?h?h.p(c,d):(h=Ge(c),h.c(),h.m(e,null)):h&&(h.d(1),h=null),(!f||d&16&&n!==(n=Te(c[4]?"":"tile tile__content")+" svelte-1krn9ab"))&&b(e,"class",n),d&16&&ie(e,"blank",c[4]),d&33&&i!==(i=`span ${c[0]==1?1:c[0]>c[5]?c[5]:c[0]}`)&&z(e,"grid-column",i,!1),d&2&&s!==(s=`span ${c[1]}`)&&z(e,"grid-row",s,!1)},i(c){f||(S(u,c),f=!0)},o(c){T(u,c),f=!1},d(c){c&&_(e),o&&o.d(),u&&u.d(c),h&&h.d()}}}function Xt(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{colspan:s=1}=e,{rowspan:f=1}=e,{title:o=null}=e,{links:r=null}=e,{blank:u=!1}=e;const{cols:h}=De("tiles");return gt(a,h,c=>t(5,l=c)),a.$$set=c=>{"colspan"in c&&t(0,s=c.colspan),"rowspan"in c&&t(1,f=c.rowspan),"title"in c&&t(2,o=c.title),"links"in c&&t(3,r=c.links),"blank"in c&&t(4,u=c.blank),"$$scope"in c&&t(7,i=c.$$scope)},[s,f,o,r,u,l,h,i,n]}class ge extends J{constructor(e){super();Y(this,e,Xt,Zt,Q,{colspan:0,rowspan:1,title:2,links:3,blank:4})}}const Jt=a=>({}),Xe=a=>({});function Je(a){let e,t,l,n;const i=a[6].meta,s=oe(i,a,a[5],Xe);return{c(){e=E("h2"),t=A(a[0]),l=V(),s&&s.c(),this.h()},l(f){e=C(f,"H2",{id:!0,class:!0});var o=y(e);t=B(o,a[0]),o.forEach(_),l=j(f),s&&s.l(f),this.h()},h(){b(e,"id","topics"),b(e,"class","svelte-1328dmd")},m(f,o){p(f,e,o),g(e,t),p(f,l,o),s&&s.m(f,o),n=!0},p(f,o){(!n||o&1)&&R(t,f[0]),s&&s.p&&(!n||o&32)&&fe(s,i,f,f[5],n?ue(i,f[5],o,Jt):re(f[5]),Xe)},i(f){n||(S(s,f),n=!0)},o(f){T(s,f),n=!1},d(f){f&&_(e),f&&_(l),s&&s.d(f)}}}function Yt(a){let e,t,l,n,i=`repeat(auto-fit, minmax(min(${a[1]}px, 100%), 1fr))`,s=`${a[2]}px`,f,o=a[0]&&Je(a);const r=a[6].default,u=oe(r,a,a[5],null);return{c(){e=E("div"),o&&o.c(),t=V(),l=E("div"),u&&u.c(),this.h()},l(h){e=C(h,"DIV",{class:!0});var c=y(e);o&&o.l(c),t=j(c),l=C(c,"DIV",{class:!0});var d=y(l);u&&u.l(d),d.forEach(_),c.forEach(_),this.h()},h(){b(l,"class","tiles-grid margin-bottom svelte-1328dmd"),bt(()=>a[7].call(l)),z(l,"grid-template-columns",i,!1),z(l,"grid-gap",s,!1),b(e,"class","tiles")},m(h,c){p(h,e,c),o&&o.m(e,null),g(e,t),g(e,l),u&&u.m(l,null),n=vt(l,a[7].bind(l)),f=!0},p(h,[c]){h[0]?o?(o.p(h,c),c&1&&S(o,1)):(o=Je(h),o.c(),S(o,1),o.m(e,t)):o&&(le(),T(o,1,1,()=>{o=null}),te()),u&&u.p&&(!f||c&32)&&fe(u,r,h,h[5],f?ue(r,h[5],c,null):re(h[5]),null),c&2&&i!==(i=`repeat(auto-fit, minmax(min(${h[1]}px, 100%), 1fr))`)&&z(l,"grid-template-columns",i,!1),c&4&&s!==(s=`${h[2]}px`)&&z(l,"grid-gap",s,!1)},i(h){f||(S(o),S(u,h),f=!0)},o(h){T(o),T(u,h),f=!1},d(h){h&&_(e),o&&o.d(),u&&u.d(h),n()}}}function Qt(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{colwidth:f=280}=e,{gridgap:o=16}=e,r;const u=Tt(3);pe("tiles",{cols:u});function h(){r=this.clientWidth,t(3,r)}return a.$$set=c=>{"title"in c&&t(0,s=c.title),"colwidth"in c&&t(1,f=c.colwidth),"gridgap"in c&&t(2,o=c.gridgap),"$$scope"in c&&t(5,i=c.$$scope)},a.$$.update=()=>{a.$$.dirty&14&&t(4,l=r?Math.floor((r+o)/(f+o)):3),a.$$.dirty&16&&u.set(l)},[s,f,o,r,l,i,n,h]}class Be extends J{constructor(e){super();Y(this,e,Qt,Yt,Q,{title:0,colwidth:1,gridgap:2})}}function Ye(a){let e;const t=a[14].default,l=oe(t,a,a[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&8192)&&fe(l,t,n,n[13],e?ue(t,n[13],i,null):re(n[13]),null)},i(n){e||(S(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function $t(a){let e,t,l=a[0]&&Ye(a);return{c(){e=E("div"),l&&l.c(),this.h()},l(n){e=C(n,"DIV",{id:!0,class:!0});var i=y(e);l&&l.l(i),i.forEach(_),this.h()},h(){b(e,"id",a[1]),b(e,"class","svelte-78euky")},m(n,i){p(n,e,i),l&&l.m(e,null),a[15](e),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&S(l,1)):(l=Ye(n),l.c(),S(l,1),l.m(e,null)):l&&(le(),T(l,1,1,()=>{l=null}),te()),(!t||i&2)&&b(e,"id",n[1])},i(n){t||(S(l),t=!0)},o(n){T(l),t=!1},d(n){n&&_(e),l&&l.d(),a[15](null)}}}function xt(a,e,t){let{$$slots:l={},$$scope:n}=e,{map:i}=e,{id:s="map"}=e,{location:f={bounds:[[-5.816,49.864],[1.863,55.872]]}}=e,{maxbounds:o=[[-13,48],[5,60]]}=e,{style:r="https://bothness.github.io/ons-basemaps/data/style-omt.json"}=e,{interactive:u=!0}=e,{minzoom:h=0}=e,{maxzoom:c=10}=e,{zoom:d=null}=e,{scrollzoom:m=!0}=e,{geolocate:v=!0}=e,{zoomcontrol:D=!0}=e,I,M;pe("map",{getMap:()=>i}),f.bounds?M={bounds:f.bounds}:f.lon&&f.lat&&(M={center:[f.lon,f.lat]},f.zoom&&(M.zoom=f.zoom)),o&&(M.maxBounds=o),Vt(()=>{t(0,i=new Ie.Map(me({container:I,style:r,minZoom:h,maxZoom:c,interactive:u},M))),D&&i.addControl(new Ie.NavigationControl({showCompass:!1})),m||i.scrollZoom.disable(),v&&i.addControl(new Ie.GeolocateControl),i.on("load",()=>{t(3,d=i.getZoom())}),i.on("zoom",()=>{t(3,d=i.getZoom())})});function P(w){Pe[w?"unshift":"push"](()=>{I=w,t(2,I)})}return a.$$set=w=>{"map"in w&&t(0,i=w.map),"id"in w&&t(1,s=w.id),"location"in w&&t(4,f=w.location),"maxbounds"in w&&t(5,o=w.maxbounds),"style"in w&&t(6,r=w.style),"interactive"in w&&t(7,u=w.interactive),"minzoom"in w&&t(8,h=w.minzoom),"maxzoom"in w&&t(9,c=w.maxzoom),"zoom"in w&&t(3,d=w.zoom),"scrollzoom"in w&&t(10,m=w.scrollzoom),"geolocate"in w&&t(11,v=w.geolocate),"zoomcontrol"in w&&t(12,D=w.zoomcontrol),"$$scope"in w&&t(13,n=w.$$scope)},[i,s,I,d,f,o,r,u,h,c,m,v,D,n,l,P]}class en extends J{constructor(e){super();Y(this,e,xt,$t,Q,{map:0,id:1,location:4,maxbounds:5,style:6,interactive:7,minzoom:8,maxzoom:9,zoom:3,scrollzoom:10,geolocate:11,zoomcontrol:12})}}function Qe(a){let e;const t=a[11].default,l=oe(t,a,a[10],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&1024)&&fe(l,t,n,n[10],e?ue(t,n[10],i,null):re(n[10]),null)},i(n){e||(S(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function ln(a){let e,t,l=a[0]&&Qe(a);return{c(){l&&l.c(),e=q()},l(n){l&&l.l(n),e=q()},m(n,i){l&&l.m(n,i),p(n,e,i),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&S(l,1)):(l=Qe(n),l.c(),S(l,1),l.m(e.parentNode,e)):l&&(le(),T(l,1,1,()=>{l=null}),te())},i(n){t||(S(l),t=!0)},o(n){T(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function tn(a,e,t){let{$$slots:l={},$$scope:n}=e,{id:i}=e,{type:s}=e,{url:f=null}=e,{props:o={}}=e,{data:r=null}=e,{layer:u=null}=e,{promoteId:h=null}=e,{minzoom:c=null}=e,{maxzoom:d=null}=e,m=!1;const{getMap:v}=De("map"),D=v();pe("source",{source:i,sourceLayer:u}),D.getSource(i)&&D.removeSource(i);function I(){D.isSourceLoaded(i)?t(0,m=!0):setTimeout(()=>{I()},500)}function M(){D.isStyleLoaded(i)?(P(),document.querySelector("#map canvas")&&document.querySelector("#map canvas").tabIndex=="0"&&(document.querySelector("#map canvas").tabIndex="-1")):setTimeout(()=>{M()},500)}c&&(o.minzoom=c),d&&(o.maxzoom=d),u&&h?(o.promoteId={},o.promoteId[u]=h):h&&(o.promoteId=h);function P(){s=="geojson"?r?(D.addSource(i,me({type:s,data:r},o)),I()):f&&(D.addSource(i,me({type:s,data:f},o)),I()):s=="vector"&&(D.addSource(i,me({type:s,tiles:[f]},o)),I())}M();function w(){D.getSource(i).setData(r)}return a.$$set=F=>{"id"in F&&t(2,i=F.id),"type"in F&&t(3,s=F.type),"url"in F&&t(4,f=F.url),"props"in F&&t(1,o=F.props),"data"in F&&t(5,r=F.data),"layer"in F&&t(6,u=F.layer),"promoteId"in F&&t(7,h=F.promoteId),"minzoom"in F&&t(8,c=F.minzoom),"maxzoom"in F&&t(9,d=F.maxzoom),"$$scope"in F&&t(10,n=F.$$scope)},a.$$.update=()=>{a.$$.dirty&33&&m&&r&&w()},[m,o,i,s,f,r,u,h,c,d,n,l]}class nn extends J{constructor(e){super();Y(this,e,tn,ln,Q,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}function an(a,e,t){const l=jt(),n=new Ie.Popup({closeButton:!1,closeOnClick:!1});let{id:i}=e,{type:s}=e,{filter:f=null}=e,{layout:o={}}=e,{paint:r={}}=e,{data:u=null}=e,{geoCode:h=null}=e,{colorCode:c=null}=e,{nameCode:d=null}=e,{valueCode:m=null}=e,{click:v=!1}=e,{ignoreClick:D=!1}=e,{clickCenter:I=!1}=e,{selected:M=null}=e,{hover:P=!1}=e,{hovered:w=null}=e,{highlight:F=!1}=e,{highlightKey:k="highlighted"}=e,{highlighted:N=[]}=e,{order:K=null}=e,{maxzoom:L=null}=e,{minzoom:H=null}=e,{tooltip:ae=!1}=e;const{source:ee,sourceLayer:x}=De("source"),{getMap:ce}=De("map"),$=ce();let he=null,de=null,Ee=[];$.getLayer(i)&&$.removeLayer(i);let Ce={id:i,type:s,source:ee,paint:r,layout:o};f&&(Ce.filter=f),x&&(Ce["source-layer"]=x),L&&(Ce.maxzoom=L),H&&(Ce.minzoom=H),$.addLayer(Ce,K);function yt(){u.forEach(O=>{$.setFeatureState({source:ee,sourceLayer:x,id:O[h]},{color:c?O[c]:null,name:d?O[d]:null,value:m?O[m]:null})})}return v&&$.on("click",i,O=>{if(O.features.length>0&&!D){if(t(0,M=O.features[0].id),l("select",{code:M}),he&&$.setFeatureState({source:ee,sourceLayer:x,id:he},{selected:!1}),$.setFeatureState({source:ee,sourceLayer:x,id:M},{selected:!0}),I){let se=centroid(O.features[0].toJSON().geometry);$.flyTo({center:se.geometry.coordinates})}t(23,he=M)}}),P&&($.on("mousemove",i,O=>{if(O.features.length>0){w&&$.setFeatureState({source:ee,sourceLayer:x,id:w},{hovered:!1}),t(1,w=t(24,de=O.features[0].id)),$.setFeatureState({source:ee,sourceLayer:x,id:w},{hovered:!0}),$.getCanvas().style.cursor="pointer";let se=$.getFeatureState({source:ee,sourceLayer:x,id:w});ae&&se.name&&n.setLngLat(O.lngLat).setHTML(`<strong>${se.name}</strong>${se.value!=null?"<br/>"+se.value.toFixed(1)+"%":"<br/>Data not available"}`).addTo($)}}),$.on("mouseleave",i,O=>{w&&$.setFeatureState({source:ee,sourceLayer:x,id:w},{hovered:!1}),t(1,w=t(24,de=null)),$.getCanvas().style.cursor="",ae&&n.remove()})),a.$$set=O=>{"id"in O&&t(2,i=O.id),"type"in O&&t(3,s=O.type),"filter"in O&&t(4,f=O.filter),"layout"in O&&t(5,o=O.layout),"paint"in O&&t(6,r=O.paint),"data"in O&&t(7,u=O.data),"geoCode"in O&&t(8,h=O.geoCode),"colorCode"in O&&t(9,c=O.colorCode),"nameCode"in O&&t(10,d=O.nameCode),"valueCode"in O&&t(11,m=O.valueCode),"click"in O&&t(12,v=O.click),"ignoreClick"in O&&t(13,D=O.ignoreClick),"clickCenter"in O&&t(14,I=O.clickCenter),"selected"in O&&t(0,M=O.selected),"hover"in O&&t(15,P=O.hover),"hovered"in O&&t(1,w=O.hovered),"highlight"in O&&t(16,F=O.highlight),"highlightKey"in O&&t(17,k=O.highlightKey),"highlighted"in O&&t(18,N=O.highlighted),"order"in O&&t(19,K=O.order),"maxzoom"in O&&t(20,L=O.maxzoom),"minzoom"in O&&t(21,H=O.minzoom),"tooltip"in O&&t(22,ae=O.tooltip)},a.$$.update=()=>{a.$$.dirty[0]&640&&(u||c)&&yt(),a.$$.dirty[0]&34013184&&F&&N!=Ee&&(Ee[0]&&Ee.forEach(O=>{let se={};se[k]=!1,$.setFeatureState({source:ee,sourceLayer:x,id:O},se)}),t(25,Ee=N),N[0]&&N.forEach(O=>{let se={};se[k]=!0,$.setFeatureState({source:ee,sourceLayer:x,id:O},se)})),a.$$.dirty[0]&8392705&&v&&M!=he&&(he&&$.setFeatureState({source:ee,sourceLayer:x,id:he},{selected:!1}),M&&$.setFeatureState({source:ee,sourceLayer:x,id:M},{selected:!0}),t(23,he=M)),a.$$.dirty[0]&16809986&&P&&w!=de&&(de&&$.setFeatureState({source:ee,sourceLayer:x,id:de},{hovered:!1}),w&&$.setFeatureState({source:ee,sourceLayer:x,id:w},{hovered:!0}),t(24,de=w))},[M,w,i,s,f,o,r,u,h,c,d,m,v,D,I,P,F,k,N,K,L,H,ae,he,de,Ee]}class $e extends J{constructor(e){super();Y(this,e,an,null,Q,{id:2,type:3,filter:4,layout:5,paint:6,data:7,geoCode:8,colorCode:9,nameCode:10,valueCode:11,click:12,ignoreClick:13,clickCenter:14,selected:0,hover:15,hovered:1,highlight:16,highlightKey:17,highlighted:18,order:19,maxzoom:20,minzoom:21,tooltip:22},null,[-1,-1])}}function xe(a,e,t){const l=a.slice();return l[10]=e[t],l[12]=t,l}function el(a){let e,t,l,n,i,s=a[6](a[4][a[12]])+"",f;return{c(){e=E("div"),t=V(),l=E("div"),n=V(),i=E("div"),f=A(s),this.h()},l(o){e=C(o,"DIV",{class:!0,style:!0}),y(e).forEach(_),t=j(o),l=C(o,"DIV",{class:!0,style:!0}),y(l).forEach(_),n=j(o),i=C(o,"DIV",{class:!0,style:!0});var r=y(i);f=B(r,s),r.forEach(_),this.h()},h(){b(e,"class","block svelte-j1hxpu"),z(e,"width",100/(a[4].length-1)+"%"),z(e,"left",a[12]*(100/(a[4].length-1))+"%"),z(e,"background-color",a[5][a[12]]),b(l,"class","line svelte-j1hxpu"),z(l,"left",a[12]*(100/(a[4].length-1))+"%"),b(i,"class","tick svelte-j1hxpu"),z(i,"left",a[12]*(100/(a[4].length-1))+"%"),ie(i,"tick-start",a[12]==0)},m(o,r){p(o,e,r),p(o,t,r),p(o,l,r),p(o,n,r),p(o,i,r),g(i,f)},p(o,r){r&16&&z(e,"width",100/(o[4].length-1)+"%"),r&16&&z(e,"left",o[12]*(100/(o[4].length-1))+"%"),r&32&&z(e,"background-color",o[5][o[12]]),r&16&&z(l,"left",o[12]*(100/(o[4].length-1))+"%"),r&80&&s!==(s=o[6](o[4][o[12]])+"")&&R(f,s),r&16&&z(i,"left",o[12]*(100/(o[4].length-1))+"%")},d(o){o&&_(e),o&&_(t),o&&_(l),o&&_(n),o&&_(i)}}}function ll(a){let e,t,l,n=a[7](a[1])+"",i,s;return{c(){e=E("div"),t=V(),l=E("div"),i=A(n),s=A(a[8]),this.h()},l(f){e=C(f,"DIV",{class:!0,style:!0}),y(e).forEach(_),t=j(f),l=C(f,"DIV",{class:!0,style:!0});var o=y(l);i=B(o,n),s=B(o,a[8]),o.forEach(_),this.h()},h(){b(e,"class","marker svelte-j1hxpu"),z(e,"width",a[2]+"px"),z(e,"left","calc("+a[9](a[1],a[4])+"% - "+a[2]/2+"px)"),b(l,"class","value svelte-j1hxpu"),z(l,"left",a[9](a[1],a[4])+"%")},m(f,o){p(f,e,o),p(f,t,o),p(f,l,o),g(l,i),g(l,s)},p(f,o){o&4&&z(e,"width",f[2]+"px"),o&22&&z(e,"left","calc("+f[9](f[1],f[4])+"% - "+f[2]/2+"px)"),o&130&&n!==(n=f[7](f[1])+"")&&R(i,n),o&256&&R(s,f[8]),o&18&&z(l,"left",f[9](f[1],f[4])+"%")},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function tl(a){let e,t,l,n=a[7](a[0])+"",i,s;return{c(){e=E("div"),t=V(),l=E("div"),i=A(n),s=A(a[8]),this.h()},l(f){e=C(f,"DIV",{class:!0,style:!0}),y(e).forEach(_),t=j(f),l=C(f,"DIV",{class:!0,style:!0});var o=y(l);i=B(o,n),s=B(o,a[8]),o.forEach(_),this.h()},h(){b(e,"class","marker marker-hovered svelte-j1hxpu"),z(e,"width",a[2]+"px"),z(e,"left","calc("+a[9](a[0],a[4])+"% - "+a[2]/2+"px)"),b(l,"class","value svelte-j1hxpu"),z(l,"left",a[9](a[0],a[4])+"%")},m(f,o){p(f,e,o),p(f,t,o),p(f,l,o),g(l,i),g(l,s)},p(f,o){o&4&&z(e,"width",f[2]+"px"),o&21&&z(e,"left","calc("+f[9](f[0],f[4])+"% - "+f[2]/2+"px)"),o&129&&n!==(n=f[7](f[0])+"")&&R(i,n),o&256&&R(s,f[8]),o&17&&z(l,"left",f[9](f[0],f[4])+"%")},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function sn(a){let e,t,l,n,i,s=a[6](a[4][a[4].length-1])+"",f,o,r,u,h=a[4].slice(1),c=[];for(let v=0;v<h.length;v+=1)c[v]=el(xe(a,h,v));let d=a[1]&&ll(a),m=a[0]&&tl(a);return{c(){e=E("div");for(let v=0;v<c.length;v+=1)c[v].c();t=V(),l=E("div"),n=V(),i=E("div"),f=A(s),o=A(a[8]),r=V(),d&&d.c(),u=V(),m&&m.c(),this.h()},l(v){e=C(v,"DIV",{class:!0,style:!0});var D=y(e);for(let M=0;M<c.length;M+=1)c[M].l(D);t=j(D),l=C(D,"DIV",{class:!0,style:!0}),y(l).forEach(_),n=j(D),i=C(D,"DIV",{class:!0,style:!0});var I=y(i);f=B(I,s),o=B(I,a[8]),I.forEach(_),r=j(D),d&&d.l(D),u=j(D),m&&m.l(D),D.forEach(_),this.h()},h(){b(l,"class","line svelte-j1hxpu"),z(l,"left","100%"),b(i,"class","tick tick-end svelte-j1hxpu"),z(i,"left","100%"),b(e,"class","container svelte-j1hxpu"),z(e,"height",a[3]+"px")},m(v,D){p(v,e,D);for(let I=0;I<c.length;I+=1)c[I].m(e,null);g(e,t),g(e,l),g(e,n),g(e,i),g(i,f),g(i,o),g(e,r),d&&d.m(e,null),g(e,u),m&&m.m(e,null)},p(v,[D]){if(D&112){h=v[4].slice(1);let I;for(I=0;I<h.length;I+=1){const M=xe(v,h,I);c[I]?c[I].p(M,D):(c[I]=el(M),c[I].c(),c[I].m(e,t))}for(;I<c.length;I+=1)c[I].d(1);c.length=h.length}D&80&&s!==(s=v[6](v[4][v[4].length-1])+"")&&R(f,s),D&256&&R(o,v[8]),v[1]?d?d.p(v,D):(d=ll(v),d.c(),d.m(e,u)):d&&(d.d(1),d=null),v[0]?m?m.p(v,D):(m=tl(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null),D&8&&z(e,"height",v[3]+"px")},i:W,o:W,d(v){v&&_(e),ne(c,v),d&&d.d(),m&&m.d()}}}function on(a,e,t){let{hovered:l=null}=e,{selected:n=null}=e,{lineWidth:i=3}=e,{height:s=15}=e,{breaks:f=[0,20,40,60,80,100]}=e,{colors:o=["rgba(234,236,177,.8)","rgba(169,216,145,.8)","rgba(0,167,186,.8)","rgba(0,78,166,.8)","rgba(0,13,84,.8)"]}=e,{formatTick:r=d=>d.toFixed(1)}=e,{formatVal:u=d=>d.toFixed(1)}=e,{suffix:h="%"}=e;const c=(d,m)=>{let v=0;for(;d>m[v+1];)v+=1;let D=100/(m.length-1),I=(d-m[v])/(m[v+1]-m[v]);return(v+I)*D};return a.$$set=d=>{"hovered"in d&&t(0,l=d.hovered),"selected"in d&&t(1,n=d.selected),"lineWidth"in d&&t(2,i=d.lineWidth),"height"in d&&t(3,s=d.height),"breaks"in d&&t(4,f=d.breaks),"colors"in d&&t(5,o=d.colors),"formatTick"in d&&t(6,r=d.formatTick),"formatVal"in d&&t(7,u=d.formatVal),"suffix"in d&&t(8,h=d.suffix)},[l,n,i,s,f,o,r,u,h,c]}class fn extends J{constructor(e){super();Y(this,e,on,sn,Q,{hovered:0,selected:1,lineWidth:2,height:3,breaks:4,colors:5,formatTick:6,formatVal:7,suffix:8})}}function nl(a,e,t){const l=a.slice();return l[2]=e[t],l[4]=t,l}function il(a){let e,t,l,n=a[2].name+"",i,s,f,o=a[2].value.toFixed(1)+"",r,u,h;return{c(){e=E("tr"),t=E("td"),l=E("strong"),i=A(n),s=V(),f=E("td"),r=A(o),u=A("%"),h=V(),this.h()},l(c){e=C(c,"TR",{});var d=y(e);t=C(d,"TD",{});var m=y(t);l=C(m,"STRONG",{});var v=y(l);i=B(v,n),v.forEach(_),m.forEach(_),s=j(d),f=C(d,"TD",{class:!0});var D=y(f);r=B(D,o),u=B(D,"%"),D.forEach(_),h=j(d),d.forEach(_),this.h()},h(){b(f,"class","text-right svelte-vtsuxa")},m(c,d){p(c,e,d),g(e,t),g(t,l),g(l,i),g(e,s),g(e,f),g(f,r),g(f,u),g(e,h)},p(c,d){d&1&&n!==(n=c[2].name+"")&&R(i,n),d&1&&o!==(o=c[2].value.toFixed(1)+"")&&R(r,o)},d(c){c&&_(e)}}}function rn(a){let e,t,l=a[0],n=[];for(let i=0;i<l.length;i+=1)n[i]=il(nl(a,l,i));return{c(){e=E("table"),t=E("tbody");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=C(i,"TABLE",{class:!0});var s=y(e);t=C(s,"TBODY",{});var f=y(t);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(_),s.forEach(_),this.h()},h(){b(e,"class","table-rank text-small svelte-vtsuxa")},m(i,s){p(i,e,s),g(e,t);for(let f=0;f<n.length;f+=1)n[f].m(t,null)},p(i,[s]){if(s&1){l=i[0];let f;for(f=0;f<l.length;f+=1){const o=nl(i,l,f);n[f]?n[f].p(o,s):(n[f]=il(o),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},i:W,o:W,d(i){i&&_(e),ne(n,i)}}}function un(a,e,t){let{data:l}=e,{offset:n=1}=e;return a.$$set=i=>{"data"in i&&t(0,l=i.data),"offset"in i&&t(1,n=i.offset)},[l,n]}class Et extends J{constructor(e){super();Y(this,e,un,rn,Q,{data:0,offset:1})}}function cn(a){let e,t;return{c(){e=E("p"),t=A(`For each lower-tier local authority area in England and Wales, the map
      shows the count of people in the categories chosen above as a percentage
      of the area's total population.`),this.h()},l(l){e=C(l,"P",{class:!0});var n=y(e);t=B(n,`For each lower-tier local authority area in England and Wales, the map
      shows the count of people in the categories chosen above as a percentage
      of the area's total population.`),n.forEach(_),this.h()},h(){b(e,"class","subtitle svelte-1ijey3s")},m(l,n){p(l,e,n),g(e,t)},d(l){l&&_(e)}}}function al(a){let e,t;return e=new nn({props:{id:"lad",type:"geojson",data:a[0].geojson,promoteId:a[2].code,$$slots:{default:[hn]},$$scope:{ctx:a}}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=l[0].geojson),n&4&&(i.promoteId=l[2].code),n&545&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function hn(a){let e,t,l,n,i;function s(o){a[6](o)}let f={id:"lad-fill",data:a[0].geoPerc,geoCode:"code",nameCode:"name",colorCode:"color",valueCode:"value",hover:!0,tooltip:!0,type:"fill",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.8},order:"highway_name_other"};return a[5]!==void 0&&(f.hovered=a[5]),e=new $e({props:f}),Pe.push(()=>Ne(e,"hovered",s)),n=new $e({props:{id:"lad-line",type:"line",paint:{"line-color":"orange","line-width":2,"line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]},order:"highway_name_other"}}),{c(){U(e.$$.fragment),l=V(),U(n.$$.fragment)},l(o){X(e.$$.fragment,o),l=j(o),X(n.$$.fragment,o)},m(o,r){G(e,o,r),p(o,l,r),G(n,o,r),i=!0},p(o,r){const u={};r&1&&(u.data=o[0].geoPerc),!t&&r&32&&(t=!0,u.hovered=o[5],Ae(()=>t=!1)),e.$set(u)},i(o){i||(S(e.$$.fragment,o),S(n.$$.fragment,o),i=!0)},o(o){T(e.$$.fragment,o),T(n.$$.fragment,o),i=!1},d(o){Z(e,o),o&&_(l),Z(n,o)}}}function _n(a){let e,t,l=a[0].geojson&&a[0].geoPerc&&al(a);return{c(){l&&l.c(),e=q()},l(n){l&&l.l(n),e=q()},m(n,i){l&&l.m(n,i),p(n,e,i),t=!0},p(n,i){n[0].geojson&&n[0].geoPerc?l?(l.p(n,i),i&1&&S(l,1)):(l=al(n),l.c(),S(l,1),l.m(e.parentNode,e)):l&&(le(),T(l,1,1,()=>{l=null}),te())},i(n){t||(S(l),t=!0)},o(n){T(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function sl(a){let e,t,l;return t=new fn({props:{breaks:a[0].geoBreaks,hovered:a[5]&&a[0].geoPerc.find(a[7])?a[0].geoPerc.find(a[8]).value:null,colors:a[0].geoBreaks[1]==100?[a[4].seq[4]]:a[4].seq}}),{c(){e=E("div"),U(t.$$.fragment),this.h()},l(n){e=C(n,"DIV",{});var i=y(e);X(t.$$.fragment,i),i.forEach(_),this.h()},h(){z(e,"height","38px",!1),z(e,"width","100%",!1)},m(n,i){p(n,e,i),G(t,e,null),l=!0},p(n,i){const s={};i&1&&(s.breaks=n[0].geoBreaks),i&33&&(s.hovered=n[5]&&n[0].geoPerc.find(n[7])?n[0].geoPerc.find(n[8]).value:null),i&17&&(s.colors=n[0].geoBreaks[1]==100?[n[4].seq[4]]:n[4].seq),t.$set(s)},i(n){l||(S(t.$$.fragment,n),l=!0)},o(n){T(t.$$.fragment,n),l=!1},d(n){n&&_(e),Z(t)}}}function dn(a){let e,t,l,n,i;t=new en({props:{style:a[1],$$slots:{default:[_n]},$$scope:{ctx:a}}});let s=a[0].geoBreaks&&a[0].geoPerc&&sl(a);return{c(){e=E("div"),U(t.$$.fragment),l=V(),s&&s.c(),n=q(),this.h()},l(f){e=C(f,"DIV",{});var o=y(e);X(t.$$.fragment,o),o.forEach(_),l=j(f),s&&s.l(f),n=q(),this.h()},h(){z(e,"height","450px",!1)},m(f,o){p(f,e,o),G(t,e,null),p(f,l,o),s&&s.m(f,o),p(f,n,o),i=!0},p(f,o){const r={};o&2&&(r.style=f[1]),o&549&&(r.$$scope={dirty:o,ctx:f}),t.$set(r),f[0].geoBreaks&&f[0].geoPerc?s?(s.p(f,o),o&1&&S(s,1)):(s=sl(f),s.c(),S(s,1),s.m(n.parentNode,n)):s&&(le(),T(s,1,1,()=>{s=null}),te())},i(f){i||(S(t.$$.fragment,f),S(s),i=!0)},o(f){T(t.$$.fragment,f),T(s),i=!1},d(f){f&&_(e),Z(t),f&&_(l),s&&s.d(f),f&&_(n)}}}function mn(a){let e,t;return{c(){e=E("span"),t=A("Make a selection to see rankings."),this.h()},l(l){e=C(l,"SPAN",{class:!0});var n=y(e);t=B(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){b(e,"class","muted svelte-1ijey3s")},m(l,n){p(l,e,n),g(e,t)},p:W,i:W,o:W,d(l){l&&_(e)}}}function gn(a){let e,t;return e=new Et({props:{data:[...a[0].geoPerc].filter(ol).sort(fl).slice(0,5)}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=[...l[0].geoPerc].filter(ol).sort(fl).slice(0,5)),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function bn(a){let e,t,l,n;const i=[gn,mn],s=[];function f(o,r){return o[0].geoPerc&&o[3][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=q()},l(o){t.l(o),l=q()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(le(),T(s[u],1,1,()=>{s[u]=null}),te(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),S(t,1),t.m(l.parentNode,l))},i(o){n||(S(t),n=!0)},o(o){T(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function vn(a){let e,t;return{c(){e=E("span"),t=A("Make a selection to see rankings."),this.h()},l(l){e=C(l,"SPAN",{class:!0});var n=y(e);t=B(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){b(e,"class","muted svelte-1ijey3s")},m(l,n){p(l,e,n),g(e,t)},p:W,i:W,o:W,d(l){l&&_(e)}}}function kn(a){let e,t;return e=new Et({props:{data:a[0].geoPerc.filter(rl).sort(ul).slice(-5),offset:a[0].geoPerc.filter(cl).length-4}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=l[0].geoPerc.filter(rl).sort(ul).slice(-5)),n&1&&(i.offset=l[0].geoPerc.filter(cl).length-4),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function pn(a){let e,t,l,n;const i=[kn,vn],s=[];function f(o,r){return o[0].geoPerc&&o[3][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=q()},l(o){t.l(o),l=q()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(le(),T(s[u],1,1,()=>{s[u]=null}),te(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),S(t,1),t.m(l.parentNode,l))},i(o){n||(S(t),n=!0)},o(o){T(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function wn(a){let e,t,l,n,i,s,f,o;return e=new ge({props:{colspan:3,rowspan:1,blank:!0,$$slots:{default:[cn]},$$scope:{ctx:a}}}),l=new ge({props:{colspan:2,rowspan:2,blank:!0,$$slots:{default:[dn]},$$scope:{ctx:a}}}),i=new ge({props:{title:"Areas with high %",$$slots:{default:[bn]},$$scope:{ctx:a}}}),f=new ge({props:{title:"Areas with low %",$$slots:{default:[pn]},$$scope:{ctx:a}}}),{c(){U(e.$$.fragment),t=V(),U(l.$$.fragment),n=V(),U(i.$$.fragment),s=V(),U(f.$$.fragment)},l(r){X(e.$$.fragment,r),t=j(r),X(l.$$.fragment,r),n=j(r),X(i.$$.fragment,r),s=j(r),X(f.$$.fragment,r)},m(r,u){G(e,r,u),p(r,t,u),G(l,r,u),p(r,n,u),G(i,r,u),p(r,s,u),G(f,r,u),o=!0},p(r,u){const h={};u&512&&(h.$$scope={dirty:u,ctx:r}),e.$set(h);const c={};u&567&&(c.$$scope={dirty:u,ctx:r}),l.$set(c);const d={};u&521&&(d.$$scope={dirty:u,ctx:r}),i.$set(d);const m={};u&521&&(m.$$scope={dirty:u,ctx:r}),f.$set(m)},i(r){o||(S(e.$$.fragment,r),S(l.$$.fragment,r),S(i.$$.fragment,r),S(f.$$.fragment,r),o=!0)},o(r){T(e.$$.fragment,r),T(l.$$.fragment,r),T(i.$$.fragment,r),T(f.$$.fragment,r),o=!1},d(r){Z(e,r),r&&_(t),Z(l,r),r&&_(n),Z(i,r),r&&_(s),Z(f,r)}}}function En(a){let e,t;return e=new Be({props:{title:"Population by area",$$slots:{default:[wn]},$$scope:{ctx:a}}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,[n]){const i={};n&575&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}const ol=a=>a.value!=null,fl=(a,e)=>e.value-a.value,rl=a=>a.value!=null,ul=(a,e)=>e.value-a.value,cl=a=>a.value!=null;function Cn(a,e,t){let{data:l}=e,{mapStyle:n}=e,{ladBounds:i}=e,{selected:s}=e,{colors:f}=e,o;function r(c){o=c,t(5,o)}const u=c=>c.code==o,h=c=>c.code==o;return a.$$set=c=>{"data"in c&&t(0,l=c.data),"mapStyle"in c&&t(1,n=c.mapStyle),"ladBounds"in c&&t(2,i=c.ladBounds),"selected"in c&&t(3,s=c.selected),"colors"in c&&t(4,f=c.colors)},[l,n,i,s,f,o,r,u,h]}class yn extends J{constructor(e){super();Y(this,e,Cn,En,Q,{data:0,mapStyle:1,ladBounds:2,selected:3,colors:4})}}function Dn(a){let e,t,l;var n=a[3];function i(s){return{props:{data:s[2].selected&&je("residents",s[1].code,s[2])}}}return n&&(e=new n(i(a))),{c(){e&&U(e.$$.fragment),t=q()},l(s){e&&X(e.$$.fragment,s),t=q()},m(s,f){e&&G(e,s,f),p(s,t,f),l=!0},p(s,f){const o={};if(f&6&&(o.data=s[2].selected&&je("residents",s[1].code,s[2])),n!==(n=s[3])){if(e){le();const r=e;T(r.$$.fragment,1,0,()=>{Z(r,1)}),te()}n?(e=new n(i(s)),U(e.$$.fragment),S(e.$$.fragment,1),G(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&S(e.$$.fragment,s),l=!0)},o(s){e&&T(e.$$.fragment,s),l=!1},d(s){s&&_(t),e&&Z(e,s)}}}function zn(a){let e,t=ze.nodata+"",l;return{c(){e=E("span"),l=A(t),this.h()},l(n){e=C(n,"SPAN",{class:!0});var i=y(e);l=B(i,t),i.forEach(_),this.h()},h(){b(e,"class","num-desc svelte-1yn8adz")},m(n,i){p(n,e,i),g(e,l)},p:W,i:W,o:W,d(n){n&&_(e)}}}function Sn(a){let e,t=ze.blocked+"",l;return{c(){e=E("span"),l=A(t),this.h()},l(n){e=C(n,"SPAN",{class:!0});var i=y(e);l=B(i,t),i.forEach(_),this.h()},h(){b(e,"class","num-desc svelte-1yn8adz")},m(n,i){p(n,e,i),g(e,l)},p:W,i:W,o:W,d(n){n&&_(e)}}}function In(a){let e,t,l,n,i,s=Oe[a[1].code]+"",f,o;const r=[Sn,zn,Dn],u=[];function h(c,d){return c[2].selected.residents[c[1].code].values==="blocked"?0:c[2].selected.residents[c[1].code].values.percent[0]==null?1:2}return e=h(a),t=u[e]=r[e](a),{c(){t.c(),l=V(),n=E("span"),i=A("% of "),f=A(s),this.h()},l(c){t.l(c),l=j(c),n=C(c,"SPAN",{class:!0});var d=y(n);i=B(d,"% of "),f=B(d,s),d.forEach(_),this.h()},h(){b(n,"class","num-desc svelte-1yn8adz")},m(c,d){u[e].m(c,d),p(c,l,d),p(c,n,d),g(n,i),g(n,f),o=!0},p(c,d){let m=e;e=h(c),e===m?u[e].p(c,d):(le(),T(u[m],1,1,()=>{u[m]=null}),te(),t=u[e],t?t.p(c,d):(t=u[e]=r[e](c),t.c()),S(t,1),t.m(l.parentNode,l)),(!o||d&2)&&s!==(s=Oe[c[1].code]+"")&&R(f,s)},i(c){o||(S(t),o=!0)},o(c){T(t),o=!1},d(c){u[e].d(c),c&&_(l),c&&_(n)}}}function Tn(a){let e,t;return e=new ge({props:{title:a[0],$$slots:{default:[In]},$$scope:{ctx:a}}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,[n]){const i={};n&1&&(i.title=l[0]),n&30&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Vn(a,e,t){let{title:l}=e,{table:n}=e,{data:i}=e,{chart_type:s}=e;return a.$$set=f=>{"title"in f&&t(0,l=f.title),"table"in f&&t(1,n=f.table),"data"in f&&t(2,i=f.data),"chart_type"in f&&t(3,s=f.chart_type)},[l,n,i,s]}class jn extends J{constructor(e){super();Y(this,e,Vn,Tn,Q,{title:0,table:1,data:2,chart_type:3})}}function Pn(a){let e,t;const l=a[5].default,n=oe(l,a,a[4],null);return{c(){e=E("mark"),n&&n.c(),this.h()},l(i){e=C(i,"MARK",{class:!0,style:!0,role:!0});var s=y(e);n&&n.l(s),s.forEach(_),this.h()},h(){b(e,"class","em svelte-1602h77"),z(e,"background-color",a[0]),z(e,"color",a[2]),b(e,"role","presentation"),ie(e,"nowrap",a[1])},m(i,s){p(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){n&&n.p&&(!t||s&16)&&fe(n,l,i,i[4],t?ue(l,i[4],s,null):re(i[4]),null),(!t||s&1)&&z(e,"background-color",i[0]),(!t||s&4)&&z(e,"color",i[2]),s&2&&ie(e,"nowrap",i[1])},i(i){t||(S(n,i),t=!0)},o(i){T(n,i),t=!1},d(i){i&&_(e),n&&n.d(i)}}}function Nn(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{color:s="lightgrey"}=e,{nowrap:f=!0}=e;function o(u){return(u[0]*299+u[1]*587+u[2]*114)/1e3>125?"black":"white"}let r="black";return a.$$set=u=>{"color"in u&&t(0,s=u.color),"nowrap"in u&&t(1,f=u.nowrap),"$$scope"in u&&t(4,i=u.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&t(3,l=Pt(s).rgb),a.$$.dirty&8&&l&&t(2,r=o(l))},[s,f,r,l,i,n]}class An extends J{constructor(e){super();Y(this,e,Nn,Pn,Q,{color:0,nowrap:1})}}function Bn(a){let e,t=a[0].selected.total_pop.count.toLocaleString()+"",l,n,i,s,f,o,r,u=Re(a[0].selected.total_pop.percent)+"",h,c,d;return r=new An({props:{color:"lightgrey"}}),{c(){e=E("div"),l=A(t),n=V(),i=E("div"),s=A("people"),f=V(),o=E("div"),U(r.$$.fragment),h=A(u),c=A("% of the total population of England and Wales"),this.h()},l(m){e=C(m,"DIV",{class:!0});var v=y(e);l=B(v,t),v.forEach(_),n=j(m),i=C(m,"DIV",{class:!0});var D=y(i);s=B(D,"people"),D.forEach(_),f=j(m),o=C(m,"DIV",{class:!0});var I=y(o);X(r.$$.fragment,I),h=B(I,u),c=B(I,"% of the total population of England and Wales"),I.forEach(_),this.h()},h(){b(e,"class","num-big svelte-12pd6wz"),b(i,"class","num-suffix svelte-12pd6wz"),b(o,"class","num-desc svelte-12pd6wz")},m(m,v){p(m,e,v),g(e,l),p(m,n,v),p(m,i,v),g(i,s),p(m,f,v),p(m,o,v),G(r,o,null),g(o,h),g(o,c),d=!0},p(m,v){(!d||v&1)&&t!==(t=m[0].selected.total_pop.count.toLocaleString()+"")&&R(l,t),(!d||v&1)&&u!==(u=Re(m[0].selected.total_pop.percent)+"")&&R(h,u)},i(m){d||(S(r.$$.fragment,m),d=!0)},o(m){T(r.$$.fragment,m),d=!1},d(m){m&&_(e),m&&_(n),m&&_(i),m&&_(f),m&&_(o),Z(r)}}}function Ln(a){let e,t=ze.nodata+"",l;return{c(){e=E("div"),l=A(t),this.h()},l(n){e=C(n,"DIV",{class:!0});var i=y(e);l=B(i,t),i.forEach(_),this.h()},h(){b(e,"class","num-desc svelte-12pd6wz")},m(n,i){p(n,e,i),g(e,l)},p:W,i:W,o:W,d(n){n&&_(e)}}}function Mn(a){let e,t,l,n;const i=[Ln,Bn],s=[];function f(o,r){return o[0].selected.total_pop.count==null?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=q()},l(o){t.l(o),l=q()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(le(),T(s[u],1,1,()=>{s[u]=null}),te(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),S(t,1),t.m(l.parentNode,l))},i(o){n||(S(t),n=!0)},o(o){T(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function Kn(a){let e,t;return e=new ge({props:{title:"Population",$$slots:{default:[Mn]},$$scope:{ctx:a}}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,[n]){const i={};n&3&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function On(a,e,t){let{data:l}=e;return a.$$set=n=>{"data"in n&&t(0,l=n.data)},[l]}class Fn extends J{constructor(e){super();Y(this,e,On,Kn,Q,{data:0})}}function qn(a){let e,t,l,n,i=`translateX(${a[3]/a[1]+(a[1]-a[4])}px)`,s,f=`${a[2]}px`,o=`${a[4]}px`;return{c(){e=E("div"),t=A(a[0]),l=V(),n=E("div"),this.h()},l(r){e=C(r,"DIV",{class:!0});var u=y(e);t=B(u,a[0]),l=j(u),n=C(u,"DIV",{class:!0}),y(n).forEach(_),u.forEach(_),this.h()},h(){b(n,"class","caret svelte-1491tb3"),z(n,"transform",i,!1),b(e,"class","tooltip svelte-1491tb3"),bt(()=>a[6].call(e)),z(e,"top",f,!1),z(e,"left",o,!1)},m(r,u){p(r,e,u),g(e,t),g(e,l),g(e,n),s=vt(e,a[6].bind(e))},p(r,[u]){u&1&&R(t,r[0]),u&26&&i!==(i=`translateX(${r[3]/r[1]+(r[1]-r[4])}px)`)&&z(n,"transform",i,!1),u&4&&f!==(f=`${r[2]}px`)&&z(e,"top",f,!1),u&16&&o!==(o=`${r[4]}px`)&&z(e,"left",o,!1)},i:W,o:W,d(r){r&&_(e),s()}}}const Se=4;function Hn(a,e,t){let l,{title:n}=e,{x:i}=e,{y:s}=e,{width:f}=e,o;function r(){o=this.clientWidth,t(3,o)}return a.$$set=u=>{"title"in u&&t(0,n=u.title),"x"in u&&t(1,i=u.x),"y"in u&&t(2,s=u.y),"width"in u&&t(5,f=u.width)},a.$$.update=()=>{a.$$.dirty&42&&t(4,l=o&&i+o/2>f-Se?f-o/2-Se:o&&i-o/2<0+Se?o/2+Se:i)},[n,i,s,o,l,f,r]}class Rn extends J{constructor(e){super();Y(this,e,Hn,qn,Q,{title:0,x:1,y:2,width:5})}}function Wn(a){let e,t;function l(i){e=a.getAttribute("title"),a.removeAttribute("title");let s=document.body.getBoundingClientRect(),f=a.getBoundingClientRect(),o=f.bottom,r=(f.left+f.right)/2;t=new Rn({props:{title:e,x:r,y:o-s.y,width:s.width},target:document.body})}function n(){t.$destroy(),a.setAttribute("title",e)}return a.addEventListener("mouseover",l),a.addEventListener("mouseout",n),{destroy(){t&&t.$destroy(),a.removeEventListener("mouseover",l),a.removeEventListener("mouseout",n)}}}function hl(a,e,t){const l=a.slice();return l[19]=e[t],l[21]=t,l}function _l(a,e,t){const l=a.slice();return l[22]=e[t],l[24]=t,l}function dl(a,e,t){const l=a.slice();return l[22]=e[t],l[24]=t,l}function ml(a,e,t){const l=a.slice();return l[26]=e[t],l[21]=t,l}function gl(a){let e,t=a[11],l=[];for(let n=0;n<t.length;n+=1)l[n]=bl(ml(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=q()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=q()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&2064){t=n[11];let s;for(s=0;s<t.length;s+=1){const f=ml(n,t,s);l[s]?l[s].p(f,i):(l[s]=bl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){ne(l,n),n&&_(e)}}}function bl(a){let e,t,l=`${a[21]==0?0:a[4]}px`,n,i,s=a[26]+"",f,o,r;return{c(){e=E("li"),t=E("div"),n=V(),i=E("span"),f=A(s),r=V(),this.h()},l(u){e=C(u,"LI",{class:!0});var h=y(e);t=C(h,"DIV",{class:!0}),y(t).forEach(_),n=j(h),i=C(h,"SPAN",{class:!0});var c=y(i);f=B(c,s),c.forEach(_),r=j(h),h.forEach(_),this.h()},h(){b(t,"class","legend-vis "+(a[21]==0?"bar":"marker-vis")+" svelte-1ajuj8s"),z(t,"border-bottom-width",l,!1),b(i,"class",o=Te(a[21]==0?"bold":"brackets")+" svelte-1ajuj8s"),b(e,"class","svelte-1ajuj8s")},m(u,h){p(u,e,h),g(e,t),g(e,n),g(e,i),g(i,f),g(e,r)},p(u,h){h&16&&l!==(l=`${u[21]==0?0:u[4]}px`)&&z(t,"border-bottom-width",l,!1),h&2048&&s!==(s=u[26]+"")&&R(f,s)},d(u){u&&_(e)}}}function Un(a){let e,t=a[19].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=vl(_l(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=q()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=q()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&5650){t=n[19].values;let s;for(s=0;s<t.length;s+=1){const f=_l(n,t,s);l[s]?l[s].p(f,i):(l[s]=vl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){ne(l,n),n&&_(e)}}}function Gn(a){let e,t=a[19].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=kl(dl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=q()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=q()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&5639){t=n[19].values;let s;for(s=0;s<t.length;s+=1){const f=dl(n,t,s);l[s]?l[s].p(f,i):(l[s]=kl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){ne(l,n),n&&_(e)}}}function vl(a){let e,t=`calc(${a[10](a[22][a[1]])}% - ${a[4]/2}px)`,l=`${a[24]/a[12].length*100}%`,n=`calc(${1/a[12].length*100}% - 2px)`,i=`${a[4]}px`;return{c(){e=E("div"),this.h()},l(s){e=C(s,"DIV",{class:!0}),y(e).forEach(_),this.h()},h(){b(e,"class","marker svelte-1ajuj8s"),z(e,"bottom",t,!1),z(e,"height","0px",!1),z(e,"left",l,!1),z(e,"width",n,!1),z(e,"border-bottom-width",i,!1)},m(s,f){p(s,e,f)},p(s,f){f&1554&&t!==(t=`calc(${s[10](s[22][s[1]])}% - ${s[4]/2}px)`)&&z(e,"bottom",t,!1),f&4096&&l!==(l=`${s[24]/s[12].length*100}%`)&&z(e,"left",l,!1),f&4096&&n!==(n=`calc(${1/s[12].length*100}% - 2px)`)&&z(e,"width",n,!1),f&16&&i!==(i=`${s[4]}px`)&&z(e,"border-bottom-width",i,!1)},d(s){s&&_(e)}}}function kl(a){let e,t,l,n=`${a[10](a[22][a[1]])}%`,i=`calc(${a[24]/a[12].length*100}%)`,s=`calc(${1/a[12].length*100}% - 2px)`,f,o;return{c(){e=E("div"),this.h()},l(r){e=C(r,"DIV",{title:!0,class:!0}),y(e).forEach(_),this.h()},h(){b(e,"title",t=`${a[22][a[0]]}: ${a[2](a[22][a[1]])}%`+(a[9].length>1?` (${a[2](a[9][a[21]+1].values[a[24]][a[1]])}%)`:"")),b(e,"class","bar svelte-1ajuj8s"),z(e,"bottom","0",!1),z(e,"height",n,!1),z(e,"left",i,!1),z(e,"width",s,!1)},m(r,u){p(r,e,u),f||(o=Nt(l=Wn.call(null,e)),f=!0)},p(r,u){u&519&&t!==(t=`${r[22][r[0]]}: ${r[2](r[22][r[1]])}%`+(r[9].length>1?` (${r[2](r[9][r[21]+1].values[r[24]][r[1]])}%)`:""))&&b(e,"title",t),u&1538&&n!==(n=`${r[10](r[22][r[1]])}%`)&&z(e,"height",n,!1),u&4096&&i!==(i=`calc(${r[24]/r[12].length*100}%)`)&&z(e,"left",i,!1),u&4096&&s!==(s=`calc(${1/r[12].length*100}% - 2px)`)&&z(e,"width",s,!1)},d(r){r&&_(e),f=!1,o()}}}function pl(a){let e;function t(i,s){return i[21]==0?Gn:Un}let n=t(a)(a);return{c(){n.c(),e=q()},l(i){n.l(i),e=q()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){n.p(i,s)},d(i){n.d(i),i&&_(e)}}}function wl(a){let e,t,l=a[6][0]!=0&&El(a),n=a[6][1]!=18&&Cl(a);return{c(){l&&l.c(),e=V(),n&&n.c(),t=q()},l(i){l&&l.l(i),e=j(i),n&&n.l(i),t=q()},m(i,s){l&&l.m(i,s),p(i,e,s),n&&n.m(i,s),p(i,t,s)},p(i,s){i[6][0]!=0?l?l.p(i,s):(l=El(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i[6][1]!=18?n?n.p(i,s):(n=Cl(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){l&&l.d(i),i&&_(e),n&&n.d(i),i&&_(t)}}}function El(a){let e,t=`${a[14](a[9])}%`;return{c(){e=E("div"),this.h()},l(l){e=C(l,"DIV",{class:!0}),y(e).forEach(_),this.h()},h(){b(e,"class","mask svelte-1ajuj8s"),z(e,"bottom","0",!1),z(e,"height",t,!1),z(e,"left","0",!1),z(e,"width",a[13](a[6][0]),!1)},m(l,n){p(l,e,n)},p(l,n){n&512&&t!==(t=`${l[14](l[9])}%`)&&z(e,"height",t,!1),n&64&&z(e,"width",l[13](l[6][0]),!1)},d(l){l&&_(e)}}}function Cl(a){let e,t=`${a[14](a[9])}%`;return{c(){e=E("div"),this.h()},l(l){e=C(l,"DIV",{class:!0}),y(e).forEach(_),this.h()},h(){b(e,"class","mask svelte-1ajuj8s"),z(e,"bottom","0",!1),z(e,"height",t,!1),z(e,"left",a[13](a[6][1]),!1),z(e,"right","2px",!1)},m(l,n){p(l,e,n)},p(l,n){n&512&&t!==(t=`${l[14](l[9])}%`)&&z(e,"height",t,!1),n&64&&z(e,"left",l[13](l[6][1]),!1)},d(l){l&&_(e)}}}function yl(a){let e,t,l;return{c(){e=E("small"),t=A(a[7]),l=A(a[8]),this.h()},l(n){e=C(n,"SMALL",{class:!0});var i=y(e);t=B(i,a[7]),l=B(i,a[8]),i.forEach(_),this.h()},h(){b(e,"class","svelte-1ajuj8s")},m(n,i){p(n,e,i),g(e,t),g(e,l)},p(n,i){i&128&&R(t,n[7]),i&256&&R(l,n[8])},d(n){n&&_(e)}}}function Zn(a){let e,t,l,n,i=`${a[3]}px`,s,f,o,r=a[5][0]+"",u,h,c,d=a[5][1]+"",m,v,D,I=a[11][1]&&gl(a),M=a[9],P=[];for(let k=0;k<M.length;k+=1)P[k]=pl(hl(a,M,k));let w=a[6]!=null&&wl(a),F=a[7]&&yl(a);return{c(){e=E("ul"),I&&I.c(),t=V(),l=E("div");for(let k=0;k<P.length;k+=1)P[k].c();n=V(),w&&w.c(),s=V(),f=E("div"),o=E("div"),u=A(r),h=V(),c=E("div"),m=A(d),v=V(),F&&F.c(),D=q(),this.h()},l(k){e=C(k,"UL",{class:!0});var N=y(e);I&&I.l(N),N.forEach(_),t=j(k),l=C(k,"DIV",{class:!0});var K=y(l);for(let ee=0;ee<P.length;ee+=1)P[ee].l(K);n=j(K),w&&w.l(K),K.forEach(_),s=j(k),f=C(k,"DIV",{class:!0});var L=y(f);o=C(L,"DIV",{class:!0});var H=y(o);u=B(H,r),H.forEach(_),h=j(L),c=C(L,"DIV",{class:!0});var ae=y(c);m=B(ae,d),ae.forEach(_),L.forEach(_),v=j(k),F&&F.l(k),D=q(),this.h()},h(){b(e,"class","legend-block svelte-1ajuj8s"),b(l,"class","bar-group svelte-1ajuj8s"),z(l,"height",i,!1),b(o,"class","svelte-1ajuj8s"),z(o,"left","0",!1),b(c,"class","svelte-1ajuj8s"),z(c,"right","0",!1),b(f,"class","x-scale svelte-1ajuj8s"),z(f,"height","1rem",!1)},m(k,N){p(k,e,N),I&&I.m(e,null),p(k,t,N),p(k,l,N);for(let K=0;K<P.length;K+=1)P[K].m(l,null);g(l,n),w&&w.m(l,null),p(k,s,N),p(k,f,N),g(f,o),g(o,u),g(f,h),g(f,c),g(c,m),p(k,v,N),F&&F.m(k,N),p(k,D,N)},p(k,[N]){if(k[11][1]?I?I.p(k,N):(I=gl(k),I.c(),I.m(e,null)):I&&(I.d(1),I=null),N&5655){M=k[9];let K;for(K=0;K<M.length;K+=1){const L=hl(k,M,K);P[K]?P[K].p(L,N):(P[K]=pl(L),P[K].c(),P[K].m(l,n))}for(;K<P.length;K+=1)P[K].d(1);P.length=M.length}k[6]!=null?w?w.p(k,N):(w=wl(k),w.c(),w.m(l,null)):w&&(w.d(1),w=null),N&8&&i!==(i=`${k[3]}px`)&&z(l,"height",i,!1),N&32&&r!==(r=k[5][0]+"")&&R(u,r),N&32&&d!==(d=k[5][1]+"")&&R(m,d),k[7]?F?F.p(k,N):(F=yl(k),F.c(),F.m(D.parentNode,D)):F&&(F.d(1),F=null)},i:W,o:W,d(k){k&&_(e),I&&I.d(),k&&_(t),k&&_(l),ne(P,k),w&&w.d(),k&&_(s),k&&_(f),k&&_(v),F&&F.d(k),k&&_(D)}}}function Xn(a,e,t){let l,n,i,s,f,{data:o}=e,{xKey:r="category"}=e,{yKey:u="value"}=e,{zKey:h="areanm"}=e,{formatTick:c=k=>k.toFixed(1)}=e,{height:d=100}=e,{markerWidth:m=2.5}=e,{minmax:v=["0 years","85+"]}=e,{maskRange:D=null}=e,{base:I=null}=e,{base_ext:M=", 5 year age bands"}=e;function P(k,N){let K={};for(const H of k)K[H[N]]||(K[H[N]]={label:H[N],values:[]}),K[H[N]].values.push(H);let L=[];for(const H in K)L.push(K[H]);return L}function w(k){return k%1===0?`calc(${k/l.length*100}% - 1px)`:`calc(${Math.floor(k)/l.length*100}% +(${1/l.length*100}% - 2px) * ${k%1})`}function F(k){return Math.max(...k.map(N=>Math.max(...N.values.map(K=>s(K[u])))))}return a.$$set=k=>{"data"in k&&t(15,o=k.data),"xKey"in k&&t(0,r=k.xKey),"yKey"in k&&t(1,u=k.yKey),"zKey"in k&&t(16,h=k.zKey),"formatTick"in k&&t(2,c=k.formatTick),"height"in k&&t(3,d=k.height),"markerWidth"in k&&t(4,m=k.markerWidth),"minmax"in k&&t(5,v=k.minmax),"maskRange"in k&&t(6,D=k.maskRange),"base"in k&&t(7,I=k.base),"base_ext"in k&&t(8,M=k.base_ext)},a.$$.update=()=>{a.$$.dirty&32769&&t(12,l=o.map(k=>k[r]).filter((k,N,K)=>K.indexOf(k)===N)),a.$$.dirty&32770&&t(17,n=[0,Math.max(...o.map(k=>k[u]))]),a.$$.dirty&98304&&t(11,i=o.map(k=>k[h]).filter((k,N,K)=>K.indexOf(k)===N)),a.$$.dirty&131072&&t(10,s=k=>Math.abs(k/n[1])*100),a.$$.dirty&98304&&t(9,f=P(o,h))},[r,u,c,d,m,v,D,I,M,f,s,i,l,w,F,o,h,n]}class Jn extends J{constructor(e){super();Y(this,e,Xn,Zn,Q,{data:15,xKey:0,yKey:1,zKey:16,formatTick:2,height:3,markerWidth:4,minmax:5,maskRange:6,base:7,base_ext:8})}}function Yn(a){let e,t;return e=new Jn({props:{data:a[0].selected&&je("residents","resident_age_18b",a[0]),zKey:"group",maskRange:He(a[1])}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=l[0].selected&&je("residents","resident_age_18b",l[0])),n&2&&(i.maskRange=He(l[1])),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Qn(a){let e,t=ze.nodata+"",l;return{c(){e=E("span"),l=A(t),this.h()},l(n){e=C(n,"SPAN",{class:!0});var i=y(e);l=B(i,t),i.forEach(_),this.h()},h(){b(e,"class","num-desc svelte-uj0r62")},m(n,i){p(n,e,i),g(e,l)},p:W,i:W,o:W,d(n){n&&_(e)}}}function $n(a){let e,t=ze.nodata+"",l;return{c(){e=E("span"),l=A(t),this.h()},l(n){e=C(n,"SPAN",{class:!0});var i=y(e);l=B(i,t),i.forEach(_),this.h()},h(){b(e,"class","num-desc svelte-uj0r62")},m(n,i){p(n,e,i),g(e,l)},p:W,i:W,o:W,d(n){n&&_(e)}}}function xn(a){let e,t,l,n;const i=[$n,Qn,Yn],s=[];function f(o,r){return o[0].selected.residents.resident_age_18b.values==="blocked"?0:o[0].selected.residents.resident_age_18b.values.percent[0]==null?1:2}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=q()},l(o){t.l(o),l=q()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(le(),T(s[u],1,1,()=>{s[u]=null}),te(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),S(t,1),t.m(l.parentNode,l))},i(o){n||(S(t),n=!0)},o(o){T(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function ei(a){let e,t;return e=new ge({props:{title:"Age profile",$$slots:{default:[xn]},$$scope:{ctx:a}}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,[n]){const i={};n&7&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function li(a,e,t){let{data:l}=e,{selected:n}=e;return a.$$set=i=>{"data"in i&&t(0,l=i.data),"selected"in i&&t(1,n=i.selected)},[l,n]}class ti extends J{constructor(e){super();Y(this,e,li,ei,Q,{data:0,selected:1})}}ve.disable_scroll_handling;const ni=ve.goto;ve.invalidate;ve.prefetch;ve.prefetch_routes;ve.before_navigate;const ii=ve.after_navigate;function Dl(a,e,t){const l=a.slice();return l[2]=e[t],l}function ai(a){let e=a[2].label+"",t;return{c(){t=A(e)},l(l){t=B(l,e)},m(l,n){p(l,t,n)},p(l,n){n&1&&e!==(e=l[2].label+"")&&R(t,e)},d(l){l&&_(t)}}}function si(a){let e,t=a[2].label+"",l,n;return{c(){e=E("a"),l=A(t),this.h()},l(i){e=C(i,"A",{class:!0,href:!0});var s=y(e);l=B(s,t),s.forEach(_),this.h()},h(){b(e,"class","breadcrumb__link"),b(e,"href",n=a[2].url)},m(i,s){p(i,e,s),g(e,l)},p(i,s){s&1&&t!==(t=i[2].label+"")&&R(l,t),s&1&&n!==(n=i[2].url)&&b(e,"href",n)},d(i){i&&_(e)}}}function zl(a){let e,t;function l(s,f){return s[2].url?si:ai}let n=l(a),i=n(a);return{c(){e=E("li"),i.c(),t=V(),this.h()},l(s){e=C(s,"LI",{class:!0});var f=y(e);i.l(f),t=j(f),f.forEach(_),this.h()},h(){b(e,"class","breadcrumb__item")},m(s,f){p(s,e,f),i.m(e,null),g(e,t)},p(s,f){n===(n=l(s))&&i?i.p(s,f):(i.d(1),i=n(s),i&&(i.c(),i.m(e,t)))},d(s){s&&_(e),i.d()}}}function oi(a){let e,t,l,n,i,s,f,o,r=a[0],u=[];for(let h=0;h<r.length;h+=1)u[h]=zl(Dl(a,r,h));return{c(){e=E("nav"),t=E("div"),l=E("ol"),n=E("li"),i=E("a"),s=A("Home"),f=V();for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=C(h,"NAV",{"aria-label":!0});var c=y(e);t=C(c,"DIV",{class:!0});var d=y(t);l=C(d,"OL",{class:!0});var m=y(l);n=C(m,"LI",{class:!0});var v=y(n);i=C(v,"A",{class:!0,href:!0});var D=y(i);s=B(D,"Home"),D.forEach(_),v.forEach(_),f=j(m);for(let I=0;I<u.length;I+=1)u[I].l(m);m.forEach(_),d.forEach(_),c.forEach(_),this.h()},h(){b(i,"class","breadcrumb__link"),b(i,"href","/"),b(n,"class","breadcrumb__item"),b(l,"class","breadcrumb__list"),b(t,"class",o=(a[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide"),b(e,"aria-label","Breadcrumbs")},m(h,c){p(h,e,c),g(e,t),g(t,l),g(l,n),g(n,i),g(i,s),g(l,f);for(let d=0;d<u.length;d+=1)u[d].m(l,null)},p(h,[c]){if(c&1){r=h[0];let d;for(d=0;d<r.length;d+=1){const m=Dl(h,r,d);u[d]?u[d].p(m,c):(u[d]=zl(m),u[d].c(),u[d].m(l,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=r.length}c&2&&o!==(o=(h[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide")&&b(t,"class",o)},i:W,o:W,d(h){h&&_(e),ne(u,h)}}}function fi(a,e,t){let{links:l=[]}=e,{mode:n="neutral"}=e;return a.$$set=i=>{"links"in i&&t(0,l=i.links),"mode"in i&&t(1,n=i.mode)},[l,n]}class ri extends J{constructor(e){super();Y(this,e,fi,oi,Q,{links:0,mode:1})}}function Sl(a,e,t){const l=a.slice();return l[2]=e[t],l}function Il(a){let e,t,l=a[2].label+"",n,i,s,f;return{c(){e=E("li"),t=E("a"),n=A(l),f=V(),this.h()},l(o){e=C(o,"LI",{});var r=y(e);t=C(r,"A",{href:!0,"data-gtm-title":!0,"data-gtm-type":!0});var u=y(t);n=B(u,l),u.forEach(_),f=j(r),r.forEach(_),this.h()},h(){b(t,"href",i=a[2].url),b(t,"data-gtm-title",s=a[2].label),b(t,"data-gtm-type","highlighted-links")},m(o,r){p(o,e,r),g(e,t),g(t,n),g(e,f)},p(o,r){r&2&&l!==(l=o[2].label+"")&&R(n,l),r&2&&i!==(i=o[2].url)&&b(t,"href",i),r&2&&s!==(s=o[2].label)&&b(t,"data-gtm-title",s)},d(o){o&&_(e)}}}function ui(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=Il(Sl(a,s,o));return{c(){e=E("div"),t=E("h2"),l=A(a[0]),n=V(),i=E("ul");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var r=y(e);t=C(r,"H2",{class:!0});var u=y(t);l=B(u,a[0]),u.forEach(_),n=j(r),i=C(r,"UL",{class:!0});var h=y(i);for(let c=0;c<f.length;c+=1)f[c].l(h);h.forEach(_),r.forEach(_),this.h()},h(){b(t,"class","margin-top-lg--1"),b(i,"class","list--neutral margin-top--negative-one-fix"),b(e,"class","nav-secondary--border-left-lg col col--md-47 col--lg-19 col--lg-offset-2 padding-left margin-top-lg--3")},m(o,r){p(o,e,r),g(e,t),g(t,l),g(e,n),g(e,i);for(let u=0;u<f.length;u+=1)f[u].m(i,null)},p(o,[r]){if(r&1&&R(l,o[0]),r&2){s=o[1];let u;for(u=0;u<s.length;u+=1){const h=Sl(o,s,u);f[u]?f[u].p(h,r):(f[u]=Il(h),f[u].c(),f[u].m(i,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}},i:W,o:W,d(o){o&&_(e),ne(f,o)}}}function ci(a,e,t){let{title:l="Highlighted content"}=e,{links:n=[]}=e;return a.$$set=i=>{"title"in i&&t(0,l=i.title),"links"in i&&t(1,n=i.links)},[l,n]}class hi extends J{constructor(e){super();Y(this,e,ci,ui,Q,{title:0,links:1})}}function Tl(a,e,t){const l=a.slice();return l[2]=e[t],l}function _i(a){let e,t=a[2].label+"",l;return{c(){e=E("li"),l=A(t),this.h()},l(n){e=C(n,"LI",{class:!0,"aria-current":!0});var i=y(e);l=B(i,t),i.forEach(_),this.h()},h(){b(e,"class","ons-list__item svelte-1dyzlhu"),b(e,"aria-current","true")},m(n,i){p(n,e,i),g(e,l)},p(n,i){i&2&&t!==(t=n[2].label+"")&&R(l,t)},d(n){n&&_(e)}}}function di(a){let e,t,l=a[2].label+"",n,i,s;return{c(){e=E("li"),t=E("a"),n=A(l),s=V(),this.h()},l(f){e=C(f,"LI",{class:!0});var o=y(e);t=C(o,"A",{href:!0,class:!0});var r=y(t);n=B(r,l),r.forEach(_),s=j(o),o.forEach(_),this.h()},h(){b(t,"href",i=a[2].url),b(t,"class","ons-list__link"),b(e,"class","ons-list__item svelte-1dyzlhu")},m(f,o){p(f,e,o),g(e,t),g(t,n),g(e,s)},p(f,o){o&2&&l!==(l=f[2].label+"")&&R(n,l),o&2&&i!==(i=f[2].url)&&b(t,"href",i)},d(f){f&&_(e)}}}function Vl(a){let e;function t(i,s){return i[2].url?di:_i}let l=t(a),n=l(a);return{c(){n.c(),e=q()},l(i){n.l(i),e=q()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&_(e)}}}function mi(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=Vl(Tl(a,s,o));return{c(){e=E("nav"),t=E("h2"),l=A(a[0]),n=V(),i=E("ol");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=C(o,"NAV",{class:!0,"aria-label":!0});var r=y(e);t=C(r,"H2",{class:!0});var u=y(t);l=B(u,a[0]),u.forEach(_),n=j(r),i=C(r,"OL",{class:!0});var h=y(i);for(let c=0;c<f.length;c+=1)f[c].l(h);h.forEach(_),r.forEach(_),this.h()},h(){b(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s svelte-1dyzlhu"),b(i,"class","ons-list ons-u-mb-m ons-list--dashed svelte-1dyzlhu"),b(e,"class","ons-toc svelte-1dyzlhu"),b(e,"aria-label","Pages in this guide")},m(o,r){p(o,e,r),g(e,t),g(t,l),g(e,n),g(e,i);for(let u=0;u<f.length;u+=1)f[u].m(i,null)},p(o,[r]){if(r&1&&R(l,o[0]),r&2){s=o[1];let u;for(u=0;u<s.length;u+=1){const h=Tl(o,s,u);f[u]?f[u].p(h,r):(f[u]=Vl(h),f[u].c(),f[u].m(i,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}},i:W,o:W,d(o){o&&_(e),ne(f,o)}}}function gi(a,e,t){let{label:l="Contents"}=e,{links:n=[]}=e;return a.$$set=i=>{"label"in i&&t(0,l=i.label),"links"in i&&t(1,n=i.links)},[l,n]}class bi extends J{constructor(e){super();Y(this,e,gi,mi,Q,{label:0,links:1})}}function vi(a){let e,t,l,n,i,s,f,o,r;return{c(){e=E("div"),t=E("div"),l=E("dl"),n=E("div"),i=E("dt"),s=A(a[1]),f=A(":"),o=V(),r=E("dd"),this.h()},l(u){e=C(u,"DIV",{class:!0});var h=y(e);t=C(h,"DIV",{class:!0});var c=y(t);l=C(c,"DL",{class:!0});var d=y(l);n=C(d,"DIV",{class:!0});var m=y(n);i=C(m,"DT",{class:!0});var v=y(i);s=B(v,a[1]),f=B(v,":"),v.forEach(_),o=j(m),r=C(m,"DD",{class:!0});var D=y(r);D.forEach(_),m.forEach(_),d.forEach(_),c.forEach(_),h.forEach(_),this.h()},h(){b(i,"class","meta__term inline"),b(r,"class","inline"),b(n,"class","col padding-left--0 meta__item meta__item--no-border"),b(l,"class","col-wrap"),b(t,"class","wrapper"),b(e,"class","meta-wrap--thin"),ie(e,"meta-wrap",a[0]=="grey")},m(u,h){p(u,e,h),g(e,t),g(t,l),g(l,n),g(n,i),g(i,s),g(i,f),g(n,o),g(n,r),r.innerHTML=a[2]},p(u,[h]){h&2&&R(s,u[1]),h&4&&(r.innerHTML=u[2]),h&1&&ie(e,"meta-wrap",u[0]=="grey")},i:W,o:W,d(u){u&&_(e)}}}function ki(a,e,t){let{background:l="grey"}=e,{label:n="Last updated"}=e,{value:i="date"}=e;return a.$$set=s=>{"background"in s&&t(0,l=s.background),"label"in s&&t(1,n=s.label),"value"in s&&t(2,i=s.value)},[l,n,i]}class pi extends J{constructor(e){super();Y(this,e,ki,vi,Q,{background:0,label:1,value:2})}}const wi=a=>({}),jl=a=>({});function Pl(a){let e,t;return e=new ri({props:{links:a[2],mode:a[0]}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n&4&&(i.links=l[2]),n&1&&(i.mode=l[0]),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Nl(a){let e,t;return{c(){e=E("p"),t=A(a[6]),this.h()},l(l){e=C(l,"P",{class:!0});var n=y(e);t=B(n,a[6]),n.forEach(_),this.h()},h(){b(e,"class","page-neutral-intro__meta margin-top--0 margin-bottom--3")},m(l,n){p(l,e,n),g(e,t)},p(l,n){n&64&&R(t,l[6])},d(l){l&&_(e)}}}function Al(a){let e,t;return e=new bi({props:{links:a[3],label:"Contents"}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n&8&&(i.links=l[3]),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Bl(a){let e,t;return e=new hi({props:{links:a[4]}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n&16&&(i.links=l[4]),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Ll(a){let e,t;return e=new pi({props:{label:"Last updated",value:a[5],background:a[1]}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n&32&&(i.value=l[5]),n&2&&(i.background=l[1]),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Ml(a){let e,t,l,n;return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("hr"),this.h()},l(i){e=C(i,"DIV",{class:!0});var s=y(e);t=C(s,"DIV",{class:!0});var f=y(t);l=C(f,"DIV",{class:!0});var o=y(l);n=C(o,"HR",{style:!0}),o.forEach(_),f.forEach(_),s.forEach(_),this.h()},h(){z(n,"border","0"),z(n,"height","0"),z(n,"border-top","1px solid #808080"),b(l,"class","col"),b(t,"class","col-wrap"),b(e,"class","wrapper")},m(i,s){p(i,e,s),g(e,t),g(t,l),g(l,n)},d(i){i&&_(e)}}}function Ei(a){let e,t,l,n,i,s,f,o,r,u,h,c,d,m,v=a[2]&&Pl(a);const D=a[8].default,I=oe(D,a,a[7],null);let M=a[6]&&Nl(a),P=a[3]&&Al(a),w=a[4]&&Bl(a);const F=a[8].meta,k=oe(F,a,a[7],jl);let N=a[5]&&Ll(a),K=a[1]=="none"&&Ml();return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),v&&v.c(),i=V(),s=E("div"),I&&I.c(),f=V(),M&&M.c(),o=V(),P&&P.c(),r=V(),w&&w.c(),u=V(),k&&k.c(),h=V(),N&&N.c(),c=V(),K&&K.c(),this.h()},l(L){e=C(L,"DIV",{class:!0});var H=y(e);t=C(H,"DIV",{class:!0});var ae=y(t);l=C(ae,"DIV",{class:!0});var ee=y(l);n=C(ee,"DIV",{class:!0});var x=y(n);v&&v.l(x),i=j(x),s=C(x,"DIV",{class:!0});var ce=y(s);I&&I.l(ce),f=j(ce),M&&M.l(ce),o=j(ce),P&&P.l(ce),ce.forEach(_),r=j(x),w&&w.l(x),x.forEach(_),ee.forEach(_),ae.forEach(_),u=j(H),k&&k.l(H),h=j(H),N&&N.l(H),c=j(H),K&&K.l(H),H.forEach(_),this.h()},h(){b(s,"class","col col--md-47"),ie(s,"col--lg-38",a[4]),ie(s,"col--lg-48",!a[4]),b(n,"class","col"),b(l,"class","col-wrap"),b(t,"class","wrapper"),b(e,"class",d="page-neutral-intro "+(a[1]=="grey"?"background--gallery":""))},m(L,H){p(L,e,H),g(e,t),g(t,l),g(l,n),v&&v.m(n,null),g(n,i),g(n,s),I&&I.m(s,null),g(s,f),M&&M.m(s,null),g(s,o),P&&P.m(s,null),g(n,r),w&&w.m(n,null),g(e,u),k&&k.m(e,null),g(e,h),N&&N.m(e,null),g(e,c),K&&K.m(e,null),m=!0},p(L,[H]){L[2]?v?(v.p(L,H),H&4&&S(v,1)):(v=Pl(L),v.c(),S(v,1),v.m(n,i)):v&&(le(),T(v,1,1,()=>{v=null}),te()),I&&I.p&&(!m||H&128)&&fe(I,D,L,L[7],m?ue(D,L[7],H,null):re(L[7]),null),L[6]?M?M.p(L,H):(M=Nl(L),M.c(),M.m(s,o)):M&&(M.d(1),M=null),L[3]?P?(P.p(L,H),H&8&&S(P,1)):(P=Al(L),P.c(),S(P,1),P.m(s,null)):P&&(le(),T(P,1,1,()=>{P=null}),te()),H&16&&ie(s,"col--lg-38",L[4]),H&16&&ie(s,"col--lg-48",!L[4]),L[4]?w?(w.p(L,H),H&16&&S(w,1)):(w=Bl(L),w.c(),S(w,1),w.m(n,null)):w&&(le(),T(w,1,1,()=>{w=null}),te()),k&&k.p&&(!m||H&128)&&fe(k,F,L,L[7],m?ue(F,L[7],H,wi):re(L[7]),jl),L[5]?N?(N.p(L,H),H&32&&S(N,1)):(N=Ll(L),N.c(),S(N,1),N.m(e,c)):N&&(le(),T(N,1,1,()=>{N=null}),te()),L[1]=="none"?K||(K=Ml(),K.c(),K.m(e,null)):K&&(K.d(1),K=null),(!m||H&2&&d!==(d="page-neutral-intro "+(L[1]=="grey"?"background--gallery":"")))&&b(e,"class",d)},i(L){m||(S(v),S(I,L),S(P),S(w),S(k,L),S(N),m=!0)},o(L){T(v),T(I,L),T(P),T(w),T(k,L),T(N),m=!1},d(L){L&&_(e),v&&v.d(),I&&I.d(L),M&&M.d(),P&&P.d(),w&&w.d(),k&&k.d(L),N&&N.d(),K&&K.d()}}}function Ci(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i="neutral"}=e,{background:s="grey"}=e,{breadcrumb:f=null}=e,{contents:o=null}=e,{highlighted:r=null}=e,{updated:u=null}=e,{date:h=null}=e;return pe("mode",i),pe("background",s),a.$$set=c=>{"mode"in c&&t(0,i=c.mode),"background"in c&&t(1,s=c.background),"breadcrumb"in c&&t(2,f=c.breadcrumb),"contents"in c&&t(3,o=c.contents),"highlighted"in c&&t(4,r=c.highlighted),"updated"in c&&t(5,u=c.updated),"date"in c&&t(6,h=c.date),"$$scope"in c&&t(7,n=c.$$scope)},[i,s,f,o,r,u,h,n,l]}class yi extends J{constructor(e){super();Y(this,e,Ci,Ei,Q,{mode:0,background:1,breadcrumb:2,contents:3,highlighted:4,updated:5,date:6})}}function Di(a){let e,t,l;const n=a[2].default,i=oe(n,a,a[1],null);return{c(){e=E("h1"),i&&i.c(),this.h()},l(s){e=C(s,"H1",{class:!0});var f=y(e);i&&i.l(f),f.forEach(_),this.h()},h(){b(e,"class",t=a[0]=="neutral"?"page-neutral-intro__title":"page-intro__title")},m(s,f){p(s,e,f),i&&i.m(e,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&2)&&fe(i,n,s,s[1],l?ue(n,s[1],f,null):re(s[1]),null),(!l||f&1&&t!==(t=s[0]=="neutral"?"page-neutral-intro__title":"page-intro__title"))&&b(e,"class",t)},i(s){l||(S(i,s),l=!0)},o(s){T(i,s),l=!1},d(s){s&&_(e),i&&i.d(s)}}}function zi(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i=De("mode")}=e;return a.$$set=s=>{"mode"in s&&t(0,i=s.mode),"$$scope"in s&&t(1,n=s.$$scope)},[i,n,l]}class Si extends J{constructor(e){super();Y(this,e,zi,Di,Q,{mode:0})}}function Kl(a,e,t){const l=a.slice();return l[14]=e[t],l}function Ol(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Fl(a,e,t){const l=a.slice();return l[14]=e[t],l[19]=t,l}function ql(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=Hl(Fl(a,t,n));return{c(){e=E("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=C(n,"UL",{class:!0});var i=y(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){b(e,"class","legend-block svelte-7hzvwr")},m(n,i){p(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&128){t=n[7];let s;for(s=0;s<t.length;s+=1){const f=Fl(n,t,s);l[s]?l[s].p(f,i):(l[s]=Hl(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),ne(l,n)}}}function Hl(a){let e,t,l,n,i=a[14]+"",s,f;return{c(){e=E("li"),t=E("div"),l=V(),n=E("span"),s=A(i),f=V(),this.h()},l(o){e=C(o,"LI",{class:!0});var r=y(e);t=C(r,"DIV",{class:!0}),y(t).forEach(_),l=j(r),n=C(r,"SPAN",{class:!0});var u=y(n);s=B(u,i),u.forEach(_),f=j(r),r.forEach(_),this.h()},h(){b(t,"class","legend-vis "+(a[19]==0?"bar":"bar2")+" svelte-7hzvwr"),b(n,"class","svelte-7hzvwr"),ie(n,"bold",a[19]==0),b(e,"class","svelte-7hzvwr")},m(o,r){p(o,e,r),g(e,t),g(e,l),g(e,n),g(n,s),g(e,f)},p(o,r){r&128&&i!==(i=o[14]+"")&&R(s,i)},d(o){o&&_(e)}}}function Rl(a){let e,t=`${a[6](a[17][a[0]])}%`,l,n,i=a[1](a[17][a[0]])+"",s,f,o=`calc(${a[6](a[17][a[0]])}% + 2px)`;return{c(){e=E("div"),l=V(),n=E("div"),s=A(i),f=A(a[2]),this.h()},l(r){e=C(r,"DIV",{class:!0}),y(e).forEach(_),l=j(r),n=C(r,"DIV",{class:!0});var u=y(n);s=B(u,i),f=B(u,a[2]),u.forEach(_),this.h()},h(){b(e,"class",Te(a[19]==0?"bar":"bar2")+" svelte-7hzvwr"),z(e,"left","0",!1),z(e,"width",t,!1),z(e,"top",a[19]==0?"0":"50%",!1),z(e,"height",a[7][1]?"50%":"100%",!1),b(n,"class","label svelte-7hzvwr"),ie(n,"bold",a[19]==0),z(n,"left",o,!1),z(n,"top",a[19]==0?"0":"50%",!1),z(n,"height","50%",!1)},m(r,u){p(r,e,u),p(r,l,u),p(r,n,u),g(n,s),g(n,f)},p(r,u){u&97&&t!==(t=`${r[6](r[17][r[0]])}%`)&&z(e,"width",t,!1),u&128&&z(e,"height",r[7][1]?"50%":"100%",!1),u&35&&i!==(i=r[1](r[17][r[0]])+"")&&R(s,i),u&4&&R(f,r[2]),u&97&&o!==(o=`calc(${r[6](r[17][r[0]])}% + 2px)`)&&z(n,"left",o,!1)},d(r){r&&_(e),r&&_(l),r&&_(n)}}}function Wl(a){let e,t=a[14].label+"",l,n,i,s,f=`${a[7][1]?a[3]*2:a[3]}px`,o=`calc(100% - ${a[4]}px)`,r=a[14].values,u=[];for(let h=0;h<r.length;h+=1)u[h]=Rl(Ol(a,r,h));return{c(){e=E("div"),l=A(t),n=V(),i=E("div");for(let h=0;h<u.length;h+=1)u[h].c();s=V(),this.h()},l(h){e=C(h,"DIV",{class:!0});var c=y(e);l=B(c,t),c.forEach(_),n=j(h),i=C(h,"DIV",{class:!0});var d=y(i);for(let m=0;m<u.length;m+=1)u[m].l(d);s=j(d),d.forEach(_),this.h()},h(){b(e,"class","label-group svelte-7hzvwr"),b(i,"class","bar-group svelte-7hzvwr"),z(i,"height",f,!1),z(i,"width",o,!1)},m(h,c){p(h,e,c),g(e,l),p(h,n,c),p(h,i,c);for(let d=0;d<u.length;d+=1)u[d].m(i,null);g(i,s)},p(h,c){if(c&32&&t!==(t=h[14].label+"")&&R(l,t),c&231){r=h[14].values;let d;for(d=0;d<r.length;d+=1){const m=Ol(h,r,d);u[d]?u[d].p(m,c):(u[d]=Rl(m),u[d].c(),u[d].m(i,s))}for(;d<u.length;d+=1)u[d].d(1);u.length=r.length}c&136&&f!==(f=`${h[7][1]?h[3]*2:h[3]}px`)&&z(i,"height",f,!1),c&16&&o!==(o=`calc(100% - ${h[4]}px)`)&&z(i,"width",o,!1)},d(h){h&&_(e),h&&_(n),h&&_(i),ne(u,h)}}}function Ii(a){let e,t,l=a[7][1]&&ql(a),n=a[5],i=[];for(let s=0;s<n.length;s+=1)i[s]=Wl(Kl(a,n,s));return{c(){l&&l.c(),e=V();for(let s=0;s<i.length;s+=1)i[s].c();t=q()},l(s){l&&l.l(s),e=j(s);for(let f=0;f<i.length;f+=1)i[f].l(s);t=q()},m(s,f){l&&l.m(s,f),p(s,e,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);p(s,t,f)},p(s,[f]){if(s[7][1]?l?l.p(s,f):(l=ql(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&255){n=s[5];let o;for(o=0;o<n.length;o+=1){const r=Kl(s,n,o);i[o]?i[o].p(r,f):(i[o]=Wl(r),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:W,o:W,d(s){l&&l.d(s),s&&_(e),ne(i,s),s&&_(t)}}}function Ti(a,e,t){let l,n,i,s,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:u="group"}=e,{formatTick:h=D=>Math.round(D)}=e,{suffix:c="%"}=e,{barHeight:d=20}=e,{margin:m=30}=e;function v(D,I){let M={};for(const w of D)M[w[I]]||(M[w[I]]={label:w[I],values:[]}),M[w[I]].values.push(w);let P=[];for(const w in M)P.push(M[w]);return P}return a.$$set=D=>{"data"in D&&t(8,f=D.data),"xKey"in D&&t(0,o=D.xKey),"yKey"in D&&t(9,r=D.yKey),"zKey"in D&&t(10,u=D.zKey),"formatTick"in D&&t(1,h=D.formatTick),"suffix"in D&&t(2,c=D.suffix),"barHeight"in D&&t(3,d=D.barHeight),"margin"in D&&t(4,m=D.margin)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...f.map(D=>D[o]))]),a.$$.dirty&768&&f.map(D=>D[r]).filter((D,I,M)=>M.indexOf(D)===I),a.$$.dirty&1280&&t(7,n=f.map(D=>D[u]).filter((D,I,M)=>M.indexOf(D)===I)),a.$$.dirty&2048&&t(6,i=D=>D/l[1]*100),a.$$.dirty&768&&t(5,s=v(f,r))},[o,h,c,d,m,s,i,n,f,r,u,l]}class Vi extends J{constructor(e){super();Y(this,e,Ti,Ii,Q,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,margin:4})}}function ji(a){let e,t,l;const n=a[1].default,i=oe(n,a,a[0],null);return{c(){e=E("div"),t=E("div"),i&&i.c(),this.h()},l(s){e=C(s,"DIV",{class:!0});var f=y(e);t=C(f,"DIV",{class:!0});var o=y(t);i&&i.l(o),o.forEach(_),f.forEach(_),this.h()},h(){b(t,"class","wrapper"),b(e,"class","page-content")},m(s,f){p(s,e,f),g(e,t),i&&i.m(t,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&1)&&fe(i,n,s,s[0],l?ue(n,s[0],f,null):re(s[0]),null)},i(s){l||(S(i,s),l=!0)},o(s){T(i,s),l=!1},d(s){s&&_(e),i&&i.d(s)}}}function Pi(a,e,t){let{$$slots:l={},$$scope:n}=e;return a.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,l]}class Ni extends J{constructor(e){super();Y(this,e,Pi,ji,Q,{})}}function Ul(a,e,t){const l=a.slice();return l[17]=e[t],l[21]=t,l}function Gl(a,e,t){const l=a.slice();return l[17]=e[t],l}function Zl(a){let e,t,l,n;return{c(){e=E("button"),t=A("Back"),this.h()},l(i){e=C(i,"BUTTON",{class:!0});var s=y(e);t=B(s,"Back"),s.forEach(_),this.h()},h(){b(e,"class","hidden-on-desktop svelte-1kq90rv")},m(i,s){p(i,e,s),g(e,t),l||(n=be(e,"click",function(){At(a[4])&&a[4].apply(this,arguments)}),l=!0)},p(i,s){a=i},d(i){i&&_(e),l=!1,n()}}}function Ai(a){let e,t,l,n,i=we(a[11],a[5]),s,f,o=i&&Xl(a),r=a[1],u=[];for(let h=0;h<r.length;h+=1)u[h]=Jl(Ul(a,r,h));return{c(){e=E("div"),t=E("h5"),l=A(a[6]),n=V(),o&&o.c(),s=V();for(let h=0;h<u.length;h+=1)u[h].c();f=q(),this.h()},l(h){e=C(h,"DIV",{class:!0});var c=y(e);t=C(c,"H5",{class:!0});var d=y(t);l=B(d,a[6]),d.forEach(_),n=j(c),o&&o.l(c),c.forEach(_),s=j(h);for(let m=0;m<u.length;m+=1)u[m].l(h);f=q(),this.h()},h(){b(t,"class","column-title svelte-1kq90rv"),b(e,"class","title-container svelte-1kq90rv")},m(h,c){p(h,e,c),g(e,t),g(t,l),g(e,n),o&&o.m(e,null),p(h,s,c);for(let d=0;d<u.length;d+=1)u[d].m(h,c);p(h,f,c)},p(h,c){if(c&64&&R(l,h[6]),c&2080&&(i=we(h[11],h[5])),i?o?o.p(h,c):(o=Xl(h),o.c(),o.m(e,null)):o&&(o.d(1),o=null),c&678){r=h[1];let d;for(d=0;d<r.length;d+=1){const m=Ul(h,r,d);u[d]?u[d].p(m,c):(u[d]=Jl(m),u[d].c(),u[d].m(f.parentNode,f))}for(;d<u.length;d+=1)u[d].d(1);u.length=r.length}},d(h){h&&_(e),o&&o.d(),h&&_(s),ne(u,h),h&&_(f)}}}function Bi(a){let e,t,l,n,i=a[1],s=[];for(let f=0;f<i.length;f+=1)s[f]=Ql(Gl(a,i,f));return{c(){e=E("h5"),t=A(a[6]),l=V();for(let f=0;f<s.length;f+=1)s[f].c();n=q(),this.h()},l(f){e=C(f,"H5",{class:!0});var o=y(e);t=B(o,a[6]),o.forEach(_),l=j(f);for(let r=0;r<s.length;r+=1)s[r].l(f);n=q(),this.h()},h(){b(e,"class","column-title svelte-1kq90rv")},m(f,o){p(f,e,o),g(e,t),p(f,l,o);for(let r=0;r<s.length;r+=1)s[r].m(f,o);p(f,n,o)},p(f,o){if(o&64&&R(t,f[6]),o&167){i=f[1];let r;for(r=0;r<i.length;r+=1){const u=Gl(f,i,r);s[r]?s[r].p(u,o):(s[r]=Ql(u),s[r].c(),s[r].m(n.parentNode,n))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(f){f&&_(e),f&&_(l),ne(s,f),f&&_(n)}}}function Xl(a){let e,t,l,n;return{c(){e=E("button"),t=A("Clear selection"),this.h()},l(i){e=C(i,"BUTTON",{style:!0});var s=y(e);t=B(s,"Clear selection"),s.forEach(_),this.h()},h(){z(e,"float","right"),e.disabled=a[9]},m(i,s){p(i,e,s),g(e,t),l||(n=be(e,"click",a[15]),l=!0)},p(i,s){s&512&&(e.disabled=i[9])},d(i){i&&_(e),l=!1,n()}}}function Jl(a){let e,t,l,n,i,s,f=a[7](a[17])+"",o,r,u,h,c;function d(){return a[16](a[17])}return{c(){e=E("p"),t=E("input"),i=V(),s=E("label"),o=A(f),u=V(),this.h()},l(m){e=C(m,"P",{class:!0});var v=y(e);t=C(v,"INPUT",{type:!0,id:!0,name:!0,class:!0}),i=j(v),s=C(v,"LABEL",{for:!0,class:!0});var D=y(s);o=B(D,f),D.forEach(_),u=j(v),v.forEach(_),this.h()},h(){b(t,"type","radio"),b(t,"id",l="category-option-"+a[21]),b(t,"name","selected-category"),t.checked=n=xl(a[17],a[5]),t.disabled=a[9],b(t,"class","svelte-1kq90rv"),b(s,"for",r="category-option-"+a[21]),b(s,"class","svelte-1kq90rv"),b(e,"class","svelte-1kq90rv")},m(m,v){p(m,e,v),g(e,t),g(e,i),g(e,s),g(s,o),g(e,u),h||(c=be(t,"click",d),h=!0)},p(m,v){a=m,v&34&&n!==(n=xl(a[17],a[5]))&&(t.checked=n),v&512&&(t.disabled=a[9]),v&130&&f!==(f=a[7](a[17])+"")&&R(o,f)},d(m){m&&_(e),h=!1,c()}}}function Yl(a){let e,t,l,n,i=we(a[17],a[5])+"",s;return{c(){e=E("br"),t=V(),l=E("div"),n=A("Currently selected: "),s=A(i),this.h()},l(f){e=C(f,"BR",{}),t=j(f),l=C(f,"DIV",{class:!0});var o=y(l);n=B(o,"Currently selected: "),s=B(o,i),o.forEach(_),this.h()},h(){b(l,"class","svelte-1kq90rv")},m(f,o){p(f,e,o),p(f,t,o),p(f,l,o),g(l,n),g(l,s)},p(f,o){o&34&&i!==(i=we(f[17],f[5])+"")&&R(s,i)},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function Ql(a){let e,t=a[7](a[17])+"",l,n,i,s,f,o=we(a[17],a[5]),r,u,h,c=o&&Yl(a);function d(){return a[14](a[17])}return{c(){e=E("button"),l=A(t),n=V(),i=E("span"),s=A("\u203A"),f=V(),c&&c.c(),r=V(),this.h()},l(m){e=C(m,"BUTTON",{class:!0});var v=y(e);l=B(v,t),n=j(v),i=C(v,"SPAN",{class:!0});var D=y(i);s=B(D,"\u203A"),D.forEach(_),f=j(v),c&&c.l(v),r=j(v),v.forEach(_),this.h()},h(){b(i,"class","right-chevron svelte-1kq90rv"),b(e,"class","svelte-1kq90rv"),ie(e,"plain-button",!0),ie(e,"selected",a[17]===a[0])},m(m,v){p(m,e,v),g(e,l),g(e,n),g(e,i),g(i,s),g(e,f),c&&c.m(e,null),g(e,r),u||(h=be(e,"click",d),u=!0)},p(m,v){a=m,v&130&&t!==(t=a[7](a[17])+"")&&R(l,t),v&34&&(o=we(a[17],a[5])),o?c?c.p(a,v):(c=Yl(a),c.c(),c.m(e,r)):c&&(c.d(1),c=null),v&3&&ie(e,"selected",a[17]===a[0])},d(m){m&&_(e),c&&c.d(),u=!1,h()}}}function Li(a){let e,t,l,n,i=a[4]!=null&&Zl(a);function s(h,c){return h[8]?Bi:Ai}let f=s(a),o=f(a);const r=a[13].default,u=oe(r,a,a[12],null);return{c(){e=E("div"),i&&i.c(),t=V(),o.c(),l=V(),u&&u.c(),this.h()},l(h){e=C(h,"DIV",{class:!0});var c=y(e);i&&i.l(c),t=j(c),o.l(c),l=j(c),u&&u.l(c),c.forEach(_),this.h()},h(){b(e,"class","column svelte-1kq90rv"),ie(e,"hidden-first-column",a[10])},m(h,c){p(h,e,c),i&&i.m(e,null),g(e,t),o.m(e,null),g(e,l),u&&u.m(e,null),n=!0},p(h,[c]){h[4]!=null?i?i.p(h,c):(i=Zl(h),i.c(),i.m(e,t)):i&&(i.d(1),i=null),f===(f=s(h))&&o?o.p(h,c):(o.d(1),o=f(h),o&&(o.c(),o.m(e,l))),u&&u.p&&(!n||c&4096)&&fe(u,r,h,h[12],n?ue(r,h[12],c,null):re(h[12]),null),c&1024&&ie(e,"hidden-first-column",h[10])},i(h){n||(S(u,h),n=!0)},o(h){T(u,h),n=!1},d(h){h&&_(e),i&&i.d(),o.d(),u&&u.d(h)}}}function $l(a){console.log("clicked",a)}function we(a,e){for(let t of e)if(t.topic===a.label)return t.label;return!1}function xl(a,e){for(const t of e)if(t.var===a.var&&t.code===a.code)return!0;return!1}function Mi(a,e,t){let{$$slots:l={},$$scope:n}=e,{options:i=[]}=e,{clickCallback:s=$l}=e,{removeCatCallback:f=$l}=e,{backButtonCallback:o=null}=e,{globalSelectedCategories:r=[]}=e,{columnTitle:u="column title"}=e,{labeller:h=w=>w.label}=e,{selected:c=null}=e,{hasChildren:d=!0}=e,{disabled:m=!1}=e,{hiddenOnMobile:v=!1}=e,{currentVar:D=null}=e;const I=w=>{t(0,c=w),s(w)},M=()=>f(D),P=w=>s(w);return a.$$set=w=>{"options"in w&&t(1,i=w.options),"clickCallback"in w&&t(2,s=w.clickCallback),"removeCatCallback"in w&&t(3,f=w.removeCatCallback),"backButtonCallback"in w&&t(4,o=w.backButtonCallback),"globalSelectedCategories"in w&&t(5,r=w.globalSelectedCategories),"columnTitle"in w&&t(6,u=w.columnTitle),"labeller"in w&&t(7,h=w.labeller),"selected"in w&&t(0,c=w.selected),"hasChildren"in w&&t(8,d=w.hasChildren),"disabled"in w&&t(9,m=w.disabled),"hiddenOnMobile"in w&&t(10,v=w.hiddenOnMobile),"currentVar"in w&&t(11,D=w.currentVar),"$$scope"in w&&t(12,n=w.$$scope)},[c,i,s,f,o,r,u,h,d,m,v,D,n,l,I,M,P]}class Ct extends J{constructor(e){super();Y(this,e,Mi,Li,Q,{options:1,clickCallback:2,removeCatCallback:3,backButtonCallback:4,globalSelectedCategories:5,columnTitle:6,labeller:7,selected:0,hasChildren:8,disabled:9,hiddenOnMobile:10,currentVar:11})}}function et(a,e,t){const l=a.slice();return l[25]=e[t],l}function lt(a){let e,t,l=[a[5].vars[a[7][a[5].label]]],n=[];for(let s=0;s<1;s+=1)n[s]=it(et(a,l,s));const i=s=>T(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<1;s+=1)n[s].c();e=q()},l(s){for(let f=0;f<1;f+=1)n[f].l(s);e=q()},m(s,f){for(let o=0;o<1;o+=1)n[o].m(s,f);p(s,e,f),t=!0},p(s,f){if(f&1022){l=[s[5].vars[s[7][s[5].label]]];let o;for(o=0;o<1;o+=1){const r=et(s,l,o);n[o]?(n[o].p(r,f),S(n[o],1)):(n[o]=it(r),n[o].c(),S(n[o],1),n[o].m(e.parentNode,e))}for(le(),o=1;o<1;o+=1)i(o);te()}},i(s){if(!t){for(let f=0;f<1;f+=1)S(n[f]);t=!0}},o(s){n=n.filter(Boolean);for(let f=0;f<1;f+=1)T(n[f]);t=!1},d(s){ne(n,s),s&&_(e)}}}function tt(a){let e,t,l,n;return{c(){e=E("button"),t=A("v Fewer categories")},l(i){e=C(i,"BUTTON",{});var s=y(e);t=B(s,"v Fewer categories"),s.forEach(_)},m(i,s){p(i,e,s),g(e,t),l||(n=be(e,"click",a[9]),l=!0)},p:W,d(i){i&&_(e),l=!1,n()}}}function nt(a){let e,t,l,n;return{c(){e=E("button"),t=A("^ More categories")},l(i){e=C(i,"BUTTON",{});var s=y(e);t=B(s,"^ More categories"),s.forEach(_)},m(i,s){p(i,e,s),g(e,t),l||(n=be(e,"click",a[8]),l=!0)},p:W,d(i){i&&_(e),l=!1,n()}}}function Ki(a){let e,t,l=a[7][a[5].label]>0&&tt(a),n=a[7][a[5].label]<a[5].vars.length-1&&nt(a);return{c(){l&&l.c(),e=V(),n&&n.c(),t=V()},l(i){l&&l.l(i),e=j(i),n&&n.l(i),t=j(i)},m(i,s){l&&l.m(i,s),p(i,e,s),n&&n.m(i,s),p(i,t,s)},p(i,s){i[7][i[5].label]>0?l?l.p(i,s):(l=tt(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i[7][i[5].label]<i[5].vars.length-1?n?n.p(i,s):(n=nt(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){l&&l.d(i),i&&_(e),n&&n.d(i),i&&_(t)}}}function it(a){let e,t,l;function n(...o){return a[11](a[25],...o)}function i(...o){return a[12](a[25],...o)}function s(o){a[14](o)}let f={columnTitle:a[5].label,options:a[25].cats,clickCallback:n,removeCatCallback:i,backButtonCallback:a[13],hasChildren:!1,globalSelectedCategories:a[3],currentVar:a[5],disabled:a[4],$$slots:{default:[Ki]},$$scope:{ctx:a}};return a[6]!==void 0&&(f.selected=a[6]),e=new Ct({props:f}),Pe.push(()=>Ne(e,"selected",s)),{c(){U(e.$$.fragment)},l(o){X(e.$$.fragment,o)},m(o,r){G(e,o,r),l=!0},p(o,r){a=o;const u={};r&32&&(u.columnTitle=a[5].label),r&160&&(u.options=a[25].cats),r&162&&(u.clickCallback=n),r&164&&(u.removeCatCallback=i),r&32&&(u.backButtonCallback=a[13]),r&8&&(u.globalSelectedCategories=a[3]),r&32&&(u.currentVar=a[5]),r&16&&(u.disabled=a[4]),r&268435616&&(u.$$scope={dirty:r,ctx:a}),!t&&r&64&&(t=!0,u.selected=a[6],Ae(()=>t=!1)),e.$set(u)},i(o){l||(S(e.$$.fragment,o),l=!0)},o(o){T(e.$$.fragment,o),l=!1},d(o){Z(e,o)}}}function Oi(a){let e,t,l,n,i,s,f;function o(h){a[10](h)}let r={columnTitle:"Select a variable",clickCallback:Hi,options:a[0],globalSelectedCategories:a[3],hiddenOnMobile:a[5]!=null};a[5]!==void 0&&(r.selected=a[5]),t=new Ct({props:r}),Pe.push(()=>Ne(t,"selected",o));let u=a[5]!=null&&lt(a);return{c(){e=E("div"),U(t.$$.fragment),n=V(),u&&u.c(),i=V(),s=q(),this.h()},l(h){e=C(h,"DIV",{class:!0});var c=y(e);X(t.$$.fragment,c),n=j(c),u&&u.l(c),c.forEach(_),i=j(h),s=q(),this.h()},h(){b(e,"class","container svelte-1eu7aha")},m(h,c){p(h,e,c),G(t,e,null),g(e,n),u&&u.m(e,null),p(h,i,c),p(h,s,c),f=!0},p(h,[c]){const d={};c&1&&(d.options=h[0]),c&8&&(d.globalSelectedCategories=h[3]),c&32&&(d.hiddenOnMobile=h[5]!=null),!l&&c&32&&(l=!0,d.selected=h[5],Ae(()=>l=!1)),t.$set(d),h[5]!=null?u?(u.p(h,c),c&32&&S(u,1)):(u=lt(h),u.c(),S(u,1),u.m(e,null)):u&&(le(),T(u,1,1,()=>{u=null}),te())},i(h){f||(S(t.$$.fragment,h),S(u),f=!0)},o(h){T(t.$$.fragment,h),T(u),f=!1},d(h){h&&_(e),Z(t),u&&u.d(),h&&_(i),h&&_(s)}}}function Fi(a,e){console.log(a,e)}function qi(a,e){console.log(a,e)}const Hi=()=>{};function Ri(a,e,t){let l,{options:n=[]}=e,{clickCallback:i=Fi}=e,{removeCatCallback:s=qi}=e,{globalSelectedCategories:f=[]}=e,{disabled:o=!1}=e,r=null,u=null;function h(){t(7,++l[r.label],l)}function c(){t(7,--l[r.label],l)}function d(P){r=P,t(5,r)}const m=(P,w)=>i(P,w),v=(P,w)=>s(P,w),D=()=>t(5,r=null);function I(P){u=P,t(6,u)}const M=(P,w)=>i(P,w);return a.$$set=P=>{"options"in P&&t(0,n=P.options),"clickCallback"in P&&t(1,i=P.clickCallback),"removeCatCallback"in P&&t(2,s=P.removeCatCallback),"globalSelectedCategories"in P&&t(3,f=P.globalSelectedCategories),"disabled"in P&&t(4,o=P.disabled)},a.$$.update=()=>{a.$$.dirty&1&&t(7,l=function(){let P={};return n.forEach(w=>P[w.label]=0),P}())},[n,i,s,f,o,r,u,l,h,c,d,m,v,D,I,M]}class Wi extends J{constructor(e){super();Y(this,e,Ri,Oi,Q,{options:0,clickCallback:1,removeCatCallback:2,globalSelectedCategories:3,disabled:4})}}function at(a,e,t){const l=a.slice();return l[22]=e[t],l}function st(a,e,t){const l=a.slice();return l[25]=e[t],l}function ot(a,e,t){const l=a.slice();return l[28]=e[t],l[30]=t,l}function Ui(a){let e;return{c(){e=A("Create a population group profile")},l(t){e=B(t,"Create a population group profile")},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function Gi(a){let e,t,l,n,i,s,f,o,r,u,h;return e=new Si({props:{$$slots:{default:[Ui]},$$scope:{ctx:a}}}),{c(){U(e.$$.fragment),t=V(),l=E("p"),n=A(`Select one or more identity characteristics to define a population group to
    compare with the whole population of England and Wales. For example, see `),i=E("a"),s=A("Sikhs born in the UK"),f=A(`
    or
    `),o=E("a"),r=A("people aged 65+ born in Ireland"),u=A("."),this.h()},l(c){X(e.$$.fragment,c),t=j(c),l=C(c,"P",{class:!0});var d=y(l);n=B(d,`Select one or more identity characteristics to define a population group to
    compare with the whole population of England and Wales. For example, see `),i=C(d,"A",{href:!0,class:!0});var m=y(i);s=B(m,"Sikhs born in the UK"),m.forEach(_),f=B(d,`
    or
    `),o=C(d,"A",{href:!0,class:!0});var v=y(o);r=B(v,"people aged 65+ born in Ireland"),v.forEach(_),u=B(d,"."),d.forEach(_),this.h()},h(){b(i,"href","?religion_tb=7&country_of_birth_3a=1"),b(i,"class","svelte-1gx872z"),b(o,"href","?resident_age_3a=3&country_of_birth_8a=2"),b(o,"class","svelte-1gx872z"),b(l,"class","subtitle svelte-1gx872z")},m(c,d){G(e,c,d),p(c,t,d),p(c,l,d),g(l,n),g(l,i),g(i,s),g(l,f),g(l,o),g(o,r),g(l,u),h=!0},p(c,d){const m={};d[1]&1&&(m.$$scope={dirty:d,ctx:c}),e.$set(m)},i(c){h||(S(e.$$.fragment,c),h=!0)},o(c){T(e.$$.fragment,c),h=!1},d(c){Z(e,c),c&&_(t),c&&_(l)}}}function ft(a){let e,t,l,n=a[0],i=[];for(let s=0;s<n.length;s+=1)i[s]=rt(ot(a,n,s));return{c(){e=E("br"),t=V();for(let s=0;s<i.length;s+=1)i[s].c();l=q()},l(s){e=C(s,"BR",{}),t=j(s);for(let f=0;f<i.length;f+=1)i[f].l(s);l=q()},m(s,f){p(s,e,f),p(s,t,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);p(s,l,f)},p(s,f){if(f[0]&131){n=s[0];let o;for(o=0;o<n.length;o+=1){const r=ot(s,n,o);i[o]?i[o].p(r,f):(i[o]=rt(r),i[o].c(),i[o].m(l.parentNode,l))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(s){s&&_(e),s&&_(t),ne(i,s),s&&_(l)}}}function Zi(a){let e,t,l=_e(a[28].topic)+"",n,i,s=_e(a[28].label)+"",f,o,r,u,h,c;function d(){return a[12](a[28])}return{c(){e=E("div"),t=E("span"),n=A(l),i=A(": "),f=A(s),o=V(),r=E("button"),u=V(),this.h()},l(m){e=C(m,"DIV",{class:!0});var v=y(e);t=C(v,"SPAN",{class:!0});var D=y(t);n=B(D,l),i=B(D,": "),f=B(D,s),D.forEach(_),o=j(v),r=C(v,"BUTTON",{class:!0}),y(r).forEach(_),u=j(v),v.forEach(_),this.h()},h(){b(t,"class","svelte-1gx872z"),b(r,"class","svelte-1gx872z"),b(e,"class","chip svelte-1gx872z")},m(m,v){p(m,e,v),g(e,t),g(t,n),g(t,i),g(t,f),g(e,o),g(e,r),g(e,u),h||(c=be(r,"click",d),h=!0)},p(m,v){a=m,v[0]&1&&l!==(l=_e(a[28].topic)+"")&&R(n,l),v[0]&1&&s!==(s=_e(a[28].label)+"")&&R(f,s)},d(m){m&&_(e),h=!1,c()}}}function Xi(a){let e,t,l=_e(a[28].topic)+"",n,i,s=_e(a[28].label)+"",f,o,r,u;return{c(){e=E("div"),t=E("span"),n=A(l),i=A(": "),f=A(s),o=V(),r=E("div"),u=V(),this.h()},l(h){e=C(h,"DIV",{class:!0});var c=y(e);t=C(c,"SPAN",{class:!0});var d=y(t);n=B(d,l),i=B(d,": "),f=B(d,s),d.forEach(_),o=j(c),r=C(c,"DIV",{class:!0}),y(r).forEach(_),u=j(c),c.forEach(_),this.h()},h(){b(t,"class","svelte-1gx872z"),b(r,"class","chip-loader svelte-1gx872z"),b(e,"class","chip chip-pending svelte-1gx872z")},m(h,c){p(h,e,c),g(e,t),g(t,n),g(t,i),g(t,f),g(e,o),g(e,r),g(e,u)},p(h,c){c[0]&1&&l!==(l=_e(h[28].topic)+"")&&R(n,l),c[0]&1&&s!==(s=_e(h[28].label)+"")&&R(f,s)},d(h){h&&_(e)}}}function rt(a){let e;function t(i,s){return i[1]=="loading"?Xi:Zi}let l=t(a),n=l(a);return{c(){n.c(),e=q()},l(i){n.l(i),e=q()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&_(e)}}}function ut(a){let e,t,l,n=a[1]=="failed"&&ct(),i=a[2]==!0&&ht();return{c(){e=E("div"),t=A(`Some datasets not available for selected variables.
        `),n&&n.c(),l=V(),i&&i.c(),this.h()},l(s){e=C(s,"DIV",{class:!0});var f=y(e);t=B(f,`Some datasets not available for selected variables.
        `),n&&n.l(f),l=j(f),i&&i.l(f),f.forEach(_),this.h()},h(){b(e,"class","warning svelte-1gx872z")},m(s,f){p(s,e,f),g(e,t),n&&n.m(e,null),g(e,l),i&&i.m(e,null)},p(s,f){s[1]=="failed"?n||(n=ct(),n.c(),n.m(e,l)):n&&(n.d(1),n=null),s[2]==!0?i||(i=ht(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(s){s&&_(e),n&&n.d(),i&&i.d()}}}function ct(a){let e;return{c(){e=A("Try removing a variable to see more datasets.")},l(t){e=B(t,"Try removing a variable to see more datasets.")},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function ht(a){let e;return{c(){e=A(`Economic indicators (employment, social status etc) not available for
          ages 0 to 15.`)},l(t){e=B(t,`Economic indicators (employment, social status etc) not available for
          ages 0 to 15.`)},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function _t(a){let e,t;return e=new Wi({props:{options:Ht,clickCallback:a[5],removeCatCallback:a[6],globalSelectedCategories:a[0],disabled:a[1]==="loading"}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n[0]&1&&(i.globalSelectedCategories=l[0]),n[0]&2&&(i.disabled=l[1]==="loading"),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Ji(a){let e,t,l,n,i=a[0][0]&&ft(a),s=(a[1]=="failed"||a[2]==!0)&&ut(a),f=a[0].length<3&&_t(a);return{c(){e=E("div"),i&&i.c(),t=V(),s&&s.c(),l=V(),f&&f.c(),this.h()},l(o){e=C(o,"DIV",{slot:!0,class:!0});var r=y(e);i&&i.l(r),t=j(r),s&&s.l(r),l=j(r),f&&f.l(r),r.forEach(_),this.h()},h(){b(e,"slot","meta"),b(e,"class","wrapper")},m(o,r){p(o,e,r),i&&i.m(e,null),g(e,t),s&&s.m(e,null),g(e,l),f&&f.m(e,null),n=!0},p(o,r){o[0][0]?i?i.p(o,r):(i=ft(o),i.c(),i.m(e,t)):i&&(i.d(1),i=null),o[1]=="failed"||o[2]==!0?s?s.p(o,r):(s=ut(o),s.c(),s.m(e,l)):s&&(s.d(1),s=null),o[0].length<3?f?(f.p(o,r),r[0]&1&&S(f,1)):(f=_t(o),f.c(),S(f,1),f.m(e,null)):f&&(le(),T(f,1,1,()=>{f=null}),te())},i(o){n||(S(f),n=!0)},o(o){T(f),n=!1},d(o){o&&_(e),i&&i.d(),s&&s.d(),f&&f.d()}}}function Yi(a){let e,t,l,n;return e=new Fn({props:{data:a[3]}}),l=new ti({props:{data:a[3],selected:a[0]}}),{c(){U(e.$$.fragment),t=V(),U(l.$$.fragment)},l(i){X(e.$$.fragment,i),t=j(i),X(l.$$.fragment,i)},m(i,s){G(e,i,s),p(i,t,s),G(l,i,s),n=!0},p(i,s){const f={};s[0]&8&&(f.data=i[3]),e.$set(f);const o={};s[0]&8&&(o.data=i[3]),s[0]&1&&(o.selected=i[0]),l.$set(o)},i(i){n||(S(e.$$.fragment,i),S(l.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),T(l.$$.fragment,i),n=!1},d(i){Z(e,i),i&&_(t),Z(l,i)}}}function dt(a){let e,t;return e=new jn({props:{title:qe(a[25].key),table:a[25],data:a[3],chart_type:a[4]}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n[0]&8&&(i.title=qe(l[25].key)),n[0]&8&&(i.table=l[25]),n[0]&8&&(i.data=l[3]),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function Qi(a){let e,t,l=a[22].tables.filter(a[13]),n=[];for(let s=0;s<l.length;s+=1)n[s]=dt(st(a,l,s));const i=s=>T(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=V()},l(s){for(let f=0;f<n.length;f+=1)n[f].l(s);e=j(s)},m(s,f){for(let o=0;o<n.length;o+=1)n[o].m(s,f);p(s,e,f),t=!0},p(s,f){if(f[0]&24){l=s[22].tables.filter(s[13]);let o;for(o=0;o<l.length;o+=1){const r=st(s,l,o);n[o]?(n[o].p(r,f),S(n[o],1)):(n[o]=dt(r),n[o].c(),S(n[o],1),n[o].m(e.parentNode,e))}for(le(),o=l.length;o<n.length;o+=1)i(o);te()}},i(s){if(!t){for(let f=0;f<l.length;f+=1)S(n[f]);t=!0}},o(s){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)T(n[f]);t=!1},d(s){ne(n,s),s&&_(e)}}}function mt(a){let e,t;return e=new Be({props:{title:a[22].categoryName,$$slots:{default:[Qi]},$$scope:{ctx:a}}}),{c(){U(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,n){G(e,l,n),t=!0},p(l,n){const i={};n[0]&8|n[1]&1&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function $i(a){let e,t,l,n,i,s;e=new Be({props:{title:"Demographics",$$slots:{default:[Yi]},$$scope:{ctx:a}}}),l=new yn({props:{data:a[3],mapStyle:Ot,ladBounds:ye,selected:a[0],colors:ke}});let f=Ve[0].tablesCategorised,o=[];for(let u=0;u<f.length;u+=1)o[u]=mt(at(a,f,u));const r=u=>T(o[u],1,1,()=>{o[u]=null});return{c(){U(e.$$.fragment),t=V(),U(l.$$.fragment),n=V();for(let u=0;u<o.length;u+=1)o[u].c();i=q()},l(u){X(e.$$.fragment,u),t=j(u),X(l.$$.fragment,u),n=j(u);for(let h=0;h<o.length;h+=1)o[h].l(u);i=q()},m(u,h){G(e,u,h),p(u,t,h),G(l,u,h),p(u,n,h);for(let c=0;c<o.length;c+=1)o[c].m(u,h);p(u,i,h),s=!0},p(u,h){const c={};h[0]&9|h[1]&1&&(c.$$scope={dirty:h,ctx:u}),e.$set(c);const d={};if(h[0]&8&&(d.data=u[3]),h[0]&1&&(d.selected=u[0]),l.$set(d),h[0]&24){f=Ve[0].tablesCategorised;let m;for(m=0;m<f.length;m+=1){const v=at(u,f,m);o[m]?(o[m].p(v,h),S(o[m],1)):(o[m]=mt(v),o[m].c(),S(o[m],1),o[m].m(i.parentNode,i))}for(le(),m=f.length;m<o.length;m+=1)r(m);te()}},i(u){if(!s){S(e.$$.fragment,u),S(l.$$.fragment,u);for(let h=0;h<f.length;h+=1)S(o[h]);s=!0}},o(u){T(e.$$.fragment,u),T(l.$$.fragment,u),o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)T(o[h]);s=!1},d(u){Z(e,u),u&&_(t),Z(l,u),u&&_(n),ne(o,u),u&&_(i)}}}function xi(a){let e,t,l,n,i,s,f,o,r,u,h,c;return r=new yi({props:{background:"none",breadcrumb:[{label:"Census",url:"/census"},{label:"Create a population group profile"}],$$slots:{meta:[Ji],default:[Gi]},$$scope:{ctx:a}}}),h=new Ni({props:{$$slots:{default:[$i]},$$scope:{ctx:a}}}),{c(){e=E("meta"),t=E("meta"),l=E("meta"),n=E("meta"),i=E("meta"),s=E("meta"),f=E("meta"),o=V(),U(r.$$.fragment),u=V(),U(h.$$.fragment),this.h()},l(d){const m=Bt('[data-svelte="svelte-1yphpwa"]',document.head);e=C(m,"META",{name:!0,content:!0}),t=C(m,"META",{property:!0,content:!0}),l=C(m,"META",{property:!0,content:!0}),n=C(m,"META",{property:!0,content:!0}),i=C(m,"META",{property:!0,content:!0}),s=C(m,"META",{property:!0,content:!0}),f=C(m,"META",{name:!0,content:!0}),m.forEach(_),o=j(d),X(r.$$.fragment,d),u=j(d),X(h.$$.fragment,d),this.h()},h(){document.title="Create a population group profile",b(e,"name","description"),b(e,"content",""),b(t,"property","og:title"),b(t,"content","Create a population group profile"),b(l,"property","og:type"),b(l,"content","website"),b(n,"property","og:url"),b(n,"content",kt+"/"),b(i,"property","og:image:type"),b(i,"content","image/jpeg"),b(s,"property","og:description"),b(s,"content",""),b(f,"name","description"),b(f,"content","")},m(d,m){g(document.head,e),g(document.head,t),g(document.head,l),g(document.head,n),g(document.head,i),g(document.head,s),g(document.head,f),p(d,o,m),G(r,d,m),p(d,u,m),G(h,d,m),c=!0},p(d,m){const v={};m[0]&7|m[1]&1&&(v.$$scope={dirty:m,ctx:d}),r.$set(v);const D={};m[0]&9|m[1]&1&&(D.$$scope={dirty:m,ctx:d}),h.$set(D)},i(d){c||(S(r.$$.fragment,d),S(h.$$.fragment,d),c=!0)},o(d){T(r.$$.fragment,d),T(h.$$.fragment,d),c=!1},d(d){_(e),_(t),_(l),_(n),_(i),_(s),_(f),d&&_(o),Z(r,d),d&&_(u),Z(h,d)}}}const fa=!1;async function ra({fetch:a}){let e=await Gt(kt+ye.url,ye.layer,a),t=(await pt(Ve,[],a)).data;t.total_pop=wt(t.residents.sex.values.count);let l=e.features.map(i=>({code:i.properties[ye.code],name:i.properties[ye.name]})),n=l.map(({code:i,name:s})=>({code:i,name:s,value:100,color:ke.seq[4]}));return{props:{geojson:e,geoCodesAndNames:l,geoPerc:n,dataAll:t}}}let ea="light";function la(a){let e=[];a.forEach(l=>e.push(l[0]));const t=a.flat().pop();return(a.length===1||t!=e[e.length-1])&&e.push(t),e}function ta(a,e,t){let l;gt(a,Rt,k=>t(15,l=k));let{geojson:n,geoCodesAndNames:i,geoPerc:s,dataAll:f}=e;pe("theme",Ft[ea]);let o=[],r="success",u=!1,h=Vi,c={all:f,selected:f,geojson:n,geoCodesAndNames:i,geoPerc:s,geoBreaks:[0,100]};function d(){ni(`${Mt}?${o.map(k=>`${k.key}=${k.code}`).join("&")}`,{noscroll:!0})}function m(k,N){t(0,o=[...o.filter(K=>K.topic!==k.shortLabel),me({topic:k.shortLabel,key:k.key},N)]),d()}function v(k){t(0,o=o.filter(N=>N.topic!==k.shortLabel)),d()}function D(k){t(0,o=o.filter(N=>N.topic!=k)),d()}function I(k){t(3,c.selected=k.data,c),t(3,c.selected.total_pop=o.length===0?wt(f.residents.sex.values.count):k.total_pop,c),t(3,c.geoPerc=[],c);let N=null;{c.geoCodesAndNames.forEach(({code:L,name:H})=>{let ae=o.length===0?100:k.mapData[L]!=null?k.mapData[L][1]:null;c.geoPerc.push({code:L,name:H,value:ae})});let K=c.geoPerc.map(L=>L.value).filter(L=>L!=null);N=K.length===0?null:Lt(K,Math.min(5,K.length))}if(N==null)c.geoPerc.forEach(K=>K.color=ke.nodata),t(3,c.geoBreaks=[0,100],c);else if(o.length===0)c.geoPerc.forEach(K=>K.color=ke.seq[4]),t(3,c.geoBreaks=[100,100],c);else{let K=la(N);c.geoPerc.forEach(L=>L.color=L.value!=null?Ut(L.value,K,ke.seq):ke.nodata),t(3,c.geoBreaks=K,c)}t(1,r="success")}function M(){t(1,r="loading"),t(2,u=o&&o.some(k=>["Aged 4 years and under","Aged 5 to 9 years","Aged 10 to 14 years","Aged 15 years and under"].includes(k.label))),pt(Ve,o).then(I)}function P(){t(0,o=[]);for(let k of l.url.searchParams.entries()){let N=qt.find(L=>L.key==k[0]);if(!N)continue;let K=N.cats.find(L=>L.code==k[1]);!K||o.push(me({topic:N.shortLabel,key:N.key},K))}M()}ii(P);const w=k=>D(k.topic),F=k=>!k.code.startsWith("resident_age")&&c.selected.residents[k.code].values!=="blocked"&&c.selected.residents[k.code].values!==void 0;return a.$$set=k=>{"geojson"in k&&t(8,n=k.geojson),"geoCodesAndNames"in k&&t(9,i=k.geoCodesAndNames),"geoPerc"in k&&t(10,s=k.geoPerc),"dataAll"in k&&t(11,f=k.dataAll)},[o,r,u,c,h,m,v,D,n,i,s,f,w,F]}class ua extends J{constructor(e){super();Y(this,e,ta,xi,Q,{geojson:8,geoCodesAndNames:9,geoPerc:10,dataAll:11},null,[-1,-1])}}export{ua as default,ra as load,fa as prerender};
