var At=Object.defineProperty;var Be=Object.getOwnPropertySymbols;var Lt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable;var Fe=(a,e,t)=>e in a?At(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,me=(a,e)=>{for(var t in e||(e={}))Lt.call(e,t)&&Fe(a,t,e[t]);if(Be)for(var t of Be(e))Kt.call(e,t)&&Fe(a,t,e[t]);return a};import{X as Mt,S as Q,i as $,s as x,e as w,t as K,c as E,a as z,h as M,d as _,b as k,g as p,H as v,j as W,F as fe,k as V,m as j,R as te,Y as ye,N as ae,f as S,J as re,K as ce,L as ue,q as T,o as N,W as Ce,V as Dt,G as St,I as It,n as ne,p as ie,r as ke,D as Bt,v as Ft,Z as Pe,_ as ze,l as R,$ as Ot,Q as U,w as G,x as J,y as Z,B as X,a0 as Ae,a1 as Le,a2 as Ht,a3 as Rt,O as De,U as Wt,a4 as Ut}from"../chunks/vendor-cfbb7ec8.js";import{a as Tt,b as qt}from"../chunks/paths-396f020f.js";import{m as Oe,c as Gt,a as He,b as Se,l as Ee,d as ve,e as Ve,f as Zt,t as Xt,v as Jt,g as Yt,p as Qt}from"../chunks/config-2bc847cc.js";import{c as be}from"../chunks/singletons-d1fb5791.js";const Re="https://raw.githubusercontent.com/jtrim-ons/key-pop-api-downloader/main/generated/";function $t(a){let e=[...a].sort((l,n)=>l.key.localeCompare(n.key));return{selString:a.length==0?"data":e.map((l,n)=>n<e.length-1?`${l.key}-${l.code}`:`${l.key}`).join("/"),lastCode:a.length>0?e[e.length-1].code:null}}async function Pt(a,e=[],t=window.fetch){if(e.length>0&&!e[0].newFormat)throw new Error("OLD FORMAT!");let{selString:l,lastCode:n}=$t(e),i={data:{}},s;if(e.length===0){let f=`${Re}${e.length}var_percent/${l}.json`;s=await(await t(f)).json()}else{let f=`${Re}${e.length}var-combined_percent/${l}.json`,r=await(await t(f)).json();s=r.bar_chart_data[n],i.mapData=r.map_data[n],i.total_pop=s.total_pop}for(let f of a){i.data[f.key]={};for(let o of f.tables)i.data[f.key][o.code]={values:s[o.code]}}return i}function xt(a,e,t){for(let l=1;l<e.length;l++)if(a<=e[l])return t[l-1]}async function en(a,e,t=window.fetch){let n=await(await t(a)).json();return await Mt(n,e)}function _e(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Vt(a){if(!a)return 0;let e=0;for(let t=0;t<a.length;t++)e+=a[t];return e}function We(a){return a.replace(new RegExp(" \\([0-9]* categories\\)"),"")}function Ue(a){for(const e of a)if(e.var in Oe)return Oe[e.var][e.code];return null}function je(a,e,t){let l=t.all[a][e].values,n=t.selected[a][e].values,i=[];return Gt[e].forEach((s,f)=>{let o=s.label,r=l.percent[f],c=n.percent[f];t.selected.total_pop!=t.all.total_pop&&i.push({group:"This group",category:o,value:c}),i.push({group:"Whole population",category:o,value:r})}),i}function qe(a){if(a===100)return"100";const e=a.toFixed(1);return e!=="0.0"?e:"Less than 0.05"}function Ge(a,e,t){const l=a.slice();return l[9]=e[t],l}function Ze(a){let e,t,l;return{c(){e=w("header"),t=w("h3"),l=K(a[2]),this.h()},l(n){e=E(n,"HEADER",{class:!0});var i=z(e);t=E(i,"H3",{class:!0});var s=z(t);l=M(s,a[2]),s.forEach(_),i.forEach(_),this.h()},h(){k(t,"class","margin-top--0 margin-right--0 margin-bottom--0 margin-left--0 svelte-1krn9ab"),k(e,"class","margin-top--1")},m(n,i){p(n,e,i),v(e,t),v(t,l)},p(n,i){i&4&&W(l,n[2])},d(n){n&&_(e)}}}function Xe(a){let e,t=a[3],l=[];for(let n=0;n<t.length;n+=1)l[n]=Je(Ge(a,t,n));return{c(){e=w("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=E(n,"DIV",{class:!0});var i=z(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){k(e,"class","margin-top--2")},m(n,i){p(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&8){t=n[3];let s;for(s=0;s<t.length;s+=1){const f=Ge(n,t,s);l[s]?l[s].p(f,i):(l[s]=Je(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),te(l,n)}}}function Je(a){let e,t=a[9].label+"",l,n,i,s,f;return{c(){e=w("a"),l=K(t),n=V(),this.h()},l(o){e=E(o,"A",{href:!0,class:!0,"aria-label":!0,"data-gtm-label":!0});var r=z(e);l=M(r,t),n=j(r),r.forEach(_),this.h()},h(){k(e,"href",i=a[9].url),k(e,"class","tile__link"),k(e,"aria-label",s=a[9].label),k(e,"data-gtm-label",f=a[9].label)},m(o,r){p(o,e,r),v(e,l),v(e,n)},p(o,r){r&8&&t!==(t=o[9].label+"")&&W(l,t),r&8&&i!==(i=o[9].url)&&k(e,"href",i),r&8&&s!==(s=o[9].label)&&k(e,"aria-label",s),r&8&&f!==(f=o[9].label)&&k(e,"data-gtm-label",f)},d(o){o&&_(e)}}}function ln(a){let e,t,l,n,i=`span ${a[0]==1?1:a[0]>a[5]?a[5]:a[0]}`,s=`span ${a[1]}`,f,o=a[2]&&Ze(a);const r=a[8].default,c=fe(r,a,a[7],null);let d=a[3]&&a[3][0]&&Xe(a);return{c(){e=w("div"),o&&o.c(),t=V(),c&&c.c(),l=V(),d&&d.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var h=z(e);o&&o.l(h),t=j(h),c&&c.l(h),l=j(h),d&&d.l(h),h.forEach(_),this.h()},h(){k(e,"class",n=ye(a[4]?"":"tile tile__content")+" svelte-1krn9ab"),ae(e,"blank",a[4]),S(e,"grid-column",i,!1),S(e,"grid-row",s,!1)},m(u,h){p(u,e,h),o&&o.m(e,null),v(e,t),c&&c.m(e,null),v(e,l),d&&d.m(e,null),f=!0},p(u,[h]){u[2]?o?o.p(u,h):(o=Ze(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),c&&c.p&&(!f||h&128)&&re(c,r,u,u[7],f?ue(r,u[7],h,null):ce(u[7]),null),u[3]&&u[3][0]?d?d.p(u,h):(d=Xe(u),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!f||h&16&&n!==(n=ye(u[4]?"":"tile tile__content")+" svelte-1krn9ab"))&&k(e,"class",n),h&16&&ae(e,"blank",u[4]),h&33&&i!==(i=`span ${u[0]==1?1:u[0]>u[5]?u[5]:u[0]}`)&&S(e,"grid-column",i,!1),h&2&&s!==(s=`span ${u[1]}`)&&S(e,"grid-row",s,!1)},i(u){f||(T(c,u),f=!0)},o(u){N(c,u),f=!1},d(u){u&&_(e),o&&o.d(),c&&c.d(u),d&&d.d()}}}function tn(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{colspan:s=1}=e,{rowspan:f=1}=e,{title:o=null}=e,{links:r=null}=e,{blank:c=!1}=e;const{cols:d}=Ce("tiles");return Dt(a,d,u=>t(5,l=u)),a.$$set=u=>{"colspan"in u&&t(0,s=u.colspan),"rowspan"in u&&t(1,f=u.rowspan),"title"in u&&t(2,o=u.title),"links"in u&&t(3,r=u.links),"blank"in u&&t(4,c=u.blank),"$$scope"in u&&t(7,i=u.$$scope)},[s,f,o,r,c,l,d,i,n]}class ge extends Q{constructor(e){super();$(this,e,tn,ln,x,{colspan:0,rowspan:1,title:2,links:3,blank:4})}}const nn=a=>({}),Ye=a=>({});function Qe(a){let e,t,l,n;const i=a[6].meta,s=fe(i,a,a[5],Ye);return{c(){e=w("h2"),t=K(a[0]),l=V(),s&&s.c(),this.h()},l(f){e=E(f,"H2",{id:!0,class:!0});var o=z(e);t=M(o,a[0]),o.forEach(_),l=j(f),s&&s.l(f),this.h()},h(){k(e,"id","topics"),k(e,"class","svelte-1328dmd")},m(f,o){p(f,e,o),v(e,t),p(f,l,o),s&&s.m(f,o),n=!0},p(f,o){(!n||o&1)&&W(t,f[0]),s&&s.p&&(!n||o&32)&&re(s,i,f,f[5],n?ue(i,f[5],o,nn):ce(f[5]),Ye)},i(f){n||(T(s,f),n=!0)},o(f){N(s,f),n=!1},d(f){f&&_(e),f&&_(l),s&&s.d(f)}}}function an(a){let e,t,l,n,i=`repeat(auto-fit, minmax(min(${a[1]}px, 100%), 1fr))`,s=`${a[2]}px`,f,o=a[0]&&Qe(a);const r=a[6].default,c=fe(r,a,a[5],null);return{c(){e=w("div"),o&&o.c(),t=V(),l=w("div"),c&&c.c(),this.h()},l(d){e=E(d,"DIV",{class:!0});var u=z(e);o&&o.l(u),t=j(u),l=E(u,"DIV",{class:!0});var h=z(l);c&&c.l(h),h.forEach(_),u.forEach(_),this.h()},h(){k(l,"class","tiles-grid margin-bottom svelte-1328dmd"),St(()=>a[7].call(l)),S(l,"grid-template-columns",i,!1),S(l,"grid-gap",s,!1),k(e,"class","tiles")},m(d,u){p(d,e,u),o&&o.m(e,null),v(e,t),v(e,l),c&&c.m(l,null),n=It(l,a[7].bind(l)),f=!0},p(d,[u]){d[0]?o?(o.p(d,u),u&1&&T(o,1)):(o=Qe(d),o.c(),T(o,1),o.m(e,t)):o&&(ne(),N(o,1,1,()=>{o=null}),ie()),c&&c.p&&(!f||u&32)&&re(c,r,d,d[5],f?ue(r,d[5],u,null):ce(d[5]),null),u&2&&i!==(i=`repeat(auto-fit, minmax(min(${d[1]}px, 100%), 1fr))`)&&S(l,"grid-template-columns",i,!1),u&4&&s!==(s=`${d[2]}px`)&&S(l,"grid-gap",s,!1)},i(d){f||(T(o),T(c,d),f=!0)},o(d){N(o),N(c,d),f=!1},d(d){d&&_(e),o&&o.d(),c&&c.d(d),n()}}}function sn(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{colwidth:f=280}=e,{gridgap:o=16}=e,r;const c=Bt(3);ke("tiles",{cols:c});function d(){r=this.clientWidth,t(3,r)}return a.$$set=u=>{"title"in u&&t(0,s=u.title),"colwidth"in u&&t(1,f=u.colwidth),"gridgap"in u&&t(2,o=u.gridgap),"$$scope"in u&&t(5,i=u.$$scope)},a.$$.update=()=>{a.$$.dirty&14&&t(4,l=r?Math.floor((r+o)/(f+o)):3),a.$$.dirty&16&&c.set(l)},[s,f,o,r,l,i,n,d]}class Ke extends Q{constructor(e){super();$(this,e,sn,an,x,{title:0,colwidth:1,gridgap:2})}}function $e(a){let e;const t=a[14].default,l=fe(t,a,a[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&8192)&&re(l,t,n,n[13],e?ue(t,n[13],i,null):ce(n[13]),null)},i(n){e||(T(l,n),e=!0)},o(n){N(l,n),e=!1},d(n){l&&l.d(n)}}}function on(a){let e,t,l=a[0]&&$e(a);return{c(){e=w("div"),l&&l.c(),this.h()},l(n){e=E(n,"DIV",{id:!0,class:!0});var i=z(e);l&&l.l(i),i.forEach(_),this.h()},h(){k(e,"id",a[1]),k(e,"class","svelte-78euky")},m(n,i){p(n,e,i),l&&l.m(e,null),a[15](e),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&T(l,1)):(l=$e(n),l.c(),T(l,1),l.m(e,null)):l&&(ne(),N(l,1,1,()=>{l=null}),ie()),(!t||i&2)&&k(e,"id",n[1])},i(n){t||(T(l),t=!0)},o(n){N(l),t=!1},d(n){n&&_(e),l&&l.d(),a[15](null)}}}function fn(a,e,t){let{$$slots:l={},$$scope:n}=e,{map:i}=e,{id:s="map"}=e,{location:f={bounds:[[-5.816,49.864],[1.863,55.872]]}}=e,{maxbounds:o=[[-13,48],[5,60]]}=e,{style:r="https://bothness.github.io/ons-basemaps/data/style-omt.json"}=e,{interactive:c=!0}=e,{minzoom:d=0}=e,{maxzoom:u=10}=e,{zoom:h=null}=e,{scrollzoom:b=!0}=e,{geolocate:m=!0}=e,{zoomcontrol:C=!0}=e,g,y;ke("map",{getMap:()=>i}),f.bounds?y={bounds:f.bounds}:f.lon&&f.lat&&(y={center:[f.lon,f.lat]},f.zoom&&(y.zoom=f.zoom)),o&&(y.maxBounds=o),Ft(()=>{t(0,i=new Pe.Map(me({container:g,style:r,minZoom:d,maxZoom:u,interactive:c},y))),C&&i.addControl(new Pe.NavigationControl({showCompass:!1})),b||i.scrollZoom.disable(),m&&i.addControl(new Pe.GeolocateControl),i.on("load",()=>{t(3,h=i.getZoom())}),i.on("zoom",()=>{t(3,h=i.getZoom())})});function L(I){ze[I?"unshift":"push"](()=>{g=I,t(2,g)})}return a.$$set=I=>{"map"in I&&t(0,i=I.map),"id"in I&&t(1,s=I.id),"location"in I&&t(4,f=I.location),"maxbounds"in I&&t(5,o=I.maxbounds),"style"in I&&t(6,r=I.style),"interactive"in I&&t(7,c=I.interactive),"minzoom"in I&&t(8,d=I.minzoom),"maxzoom"in I&&t(9,u=I.maxzoom),"zoom"in I&&t(3,h=I.zoom),"scrollzoom"in I&&t(10,b=I.scrollzoom),"geolocate"in I&&t(11,m=I.geolocate),"zoomcontrol"in I&&t(12,C=I.zoomcontrol),"$$scope"in I&&t(13,n=I.$$scope)},[i,s,g,h,f,o,r,c,d,u,b,m,C,n,l,L]}class rn extends Q{constructor(e){super();$(this,e,fn,on,x,{map:0,id:1,location:4,maxbounds:5,style:6,interactive:7,minzoom:8,maxzoom:9,zoom:3,scrollzoom:10,geolocate:11,zoomcontrol:12})}}function xe(a){let e;const t=a[11].default,l=fe(t,a,a[10],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&1024)&&re(l,t,n,n[10],e?ue(t,n[10],i,null):ce(n[10]),null)},i(n){e||(T(l,n),e=!0)},o(n){N(l,n),e=!1},d(n){l&&l.d(n)}}}function cn(a){let e,t,l=a[0]&&xe(a);return{c(){l&&l.c(),e=R()},l(n){l&&l.l(n),e=R()},m(n,i){l&&l.m(n,i),p(n,e,i),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&T(l,1)):(l=xe(n),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(ne(),N(l,1,1,()=>{l=null}),ie())},i(n){t||(T(l),t=!0)},o(n){N(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function un(a,e,t){let{$$slots:l={},$$scope:n}=e,{id:i}=e,{type:s}=e,{url:f=null}=e,{props:o={}}=e,{data:r=null}=e,{layer:c=null}=e,{promoteId:d=null}=e,{minzoom:u=null}=e,{maxzoom:h=null}=e,b=!1;const{getMap:m}=Ce("map"),C=m();ke("source",{source:i,sourceLayer:c}),C.getSource(i)&&C.removeSource(i);function g(){C.isSourceLoaded(i)?t(0,b=!0):setTimeout(()=>{g()},500)}function y(){C.isStyleLoaded(i)?(L(),document.querySelector("#map canvas")&&document.querySelector("#map canvas").tabIndex=="0"&&(document.querySelector("#map canvas").tabIndex="-1")):setTimeout(()=>{y()},500)}u&&(o.minzoom=u),h&&(o.maxzoom=h),c&&d?(o.promoteId={},o.promoteId[c]=d):d&&(o.promoteId=d);function L(){s=="geojson"?r?(C.addSource(i,me({type:s,data:r},o)),g()):f&&(C.addSource(i,me({type:s,data:f},o)),g()):s=="vector"&&(C.addSource(i,me({type:s,tiles:[f]},o)),g())}y();function I(){C.getSource(i).setData(r)}return a.$$set=A=>{"id"in A&&t(2,i=A.id),"type"in A&&t(3,s=A.type),"url"in A&&t(4,f=A.url),"props"in A&&t(1,o=A.props),"data"in A&&t(5,r=A.data),"layer"in A&&t(6,c=A.layer),"promoteId"in A&&t(7,d=A.promoteId),"minzoom"in A&&t(8,u=A.minzoom),"maxzoom"in A&&t(9,h=A.maxzoom),"$$scope"in A&&t(10,n=A.$$scope)},a.$$.update=()=>{a.$$.dirty&33&&b&&r&&I()},[b,o,i,s,f,r,c,d,u,h,n,l]}class hn extends Q{constructor(e){super();$(this,e,un,cn,x,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}function _n(a,e,t){const l=Ot(),n=new Pe.Popup({closeButton:!1,closeOnClick:!1});let{id:i}=e,{type:s}=e,{filter:f=null}=e,{layout:o={}}=e,{paint:r={}}=e,{data:c=null}=e,{geoCode:d=null}=e,{colorCode:u=null}=e,{nameCode:h=null}=e,{valueCode:b=null}=e,{click:m=!1}=e,{ignoreClick:C=!1}=e,{clickCenter:g=!1}=e,{selected:y=null}=e,{hover:L=!1}=e,{hovered:I=null}=e,{highlight:A=!1}=e,{highlightKey:D="highlighted"}=e,{highlighted:F=[]}=e,{order:H=null}=e,{maxzoom:P=null}=e,{minzoom:O=null}=e,{tooltip:Y=!1}=e;const{source:q,sourceLayer:ee}=Ce("source"),{getMap:oe}=Ce("map"),le=oe();let he=null,de=null,pe=[];le.getLayer(i)&&le.removeLayer(i);let we={id:i,type:s,source:q,paint:r,layout:o};f&&(we.filter=f),ee&&(we["source-layer"]=ee),P&&(we.maxzoom=P),O&&(we.minzoom=O),le.addLayer(we,H);function Nt(){c.forEach(B=>{le.setFeatureState({source:q,sourceLayer:ee,id:B[d]},{color:u?B[u]:null,name:h?B[h]:null,value:b?B[b]:null})})}return m&&le.on("click",i,B=>{if(B.features.length>0&&!C){if(t(0,y=B.features[0].id),l("select",{code:y}),he&&le.setFeatureState({source:q,sourceLayer:ee,id:he},{selected:!1}),le.setFeatureState({source:q,sourceLayer:ee,id:y},{selected:!0}),g){let se=centroid(B.features[0].toJSON().geometry);le.flyTo({center:se.geometry.coordinates})}t(23,he=y)}}),L&&(le.on("mousemove",i,B=>{if(B.features.length>0){I&&le.setFeatureState({source:q,sourceLayer:ee,id:I},{hovered:!1}),t(1,I=t(24,de=B.features[0].id)),le.setFeatureState({source:q,sourceLayer:ee,id:I},{hovered:!0}),le.getCanvas().style.cursor="pointer";let se=le.getFeatureState({source:q,sourceLayer:ee,id:I});Y&&se.name&&n.setLngLat(B.lngLat).setHTML(`<strong>${se.name}</strong>${se.value!=null?"<br/>"+se.value.toFixed(1)+"%":"<br/>Data not available"}`).addTo(le)}}),le.on("mouseleave",i,B=>{I&&le.setFeatureState({source:q,sourceLayer:ee,id:I},{hovered:!1}),t(1,I=t(24,de=null)),le.getCanvas().style.cursor="",Y&&n.remove()})),a.$$set=B=>{"id"in B&&t(2,i=B.id),"type"in B&&t(3,s=B.type),"filter"in B&&t(4,f=B.filter),"layout"in B&&t(5,o=B.layout),"paint"in B&&t(6,r=B.paint),"data"in B&&t(7,c=B.data),"geoCode"in B&&t(8,d=B.geoCode),"colorCode"in B&&t(9,u=B.colorCode),"nameCode"in B&&t(10,h=B.nameCode),"valueCode"in B&&t(11,b=B.valueCode),"click"in B&&t(12,m=B.click),"ignoreClick"in B&&t(13,C=B.ignoreClick),"clickCenter"in B&&t(14,g=B.clickCenter),"selected"in B&&t(0,y=B.selected),"hover"in B&&t(15,L=B.hover),"hovered"in B&&t(1,I=B.hovered),"highlight"in B&&t(16,A=B.highlight),"highlightKey"in B&&t(17,D=B.highlightKey),"highlighted"in B&&t(18,F=B.highlighted),"order"in B&&t(19,H=B.order),"maxzoom"in B&&t(20,P=B.maxzoom),"minzoom"in B&&t(21,O=B.minzoom),"tooltip"in B&&t(22,Y=B.tooltip)},a.$$.update=()=>{a.$$.dirty[0]&640&&(c||u)&&Nt(),a.$$.dirty[0]&34013184&&A&&F!=pe&&(pe[0]&&pe.forEach(B=>{let se={};se[D]=!1,le.setFeatureState({source:q,sourceLayer:ee,id:B},se)}),t(25,pe=F),F[0]&&F.forEach(B=>{let se={};se[D]=!0,le.setFeatureState({source:q,sourceLayer:ee,id:B},se)})),a.$$.dirty[0]&8392705&&m&&y!=he&&(he&&le.setFeatureState({source:q,sourceLayer:ee,id:he},{selected:!1}),y&&le.setFeatureState({source:q,sourceLayer:ee,id:y},{selected:!0}),t(23,he=y)),a.$$.dirty[0]&16809986&&L&&I!=de&&(de&&le.setFeatureState({source:q,sourceLayer:ee,id:de},{hovered:!1}),I&&le.setFeatureState({source:q,sourceLayer:ee,id:I},{hovered:!0}),t(24,de=I))},[y,I,i,s,f,o,r,c,d,u,h,b,m,C,g,L,A,D,F,H,P,O,Y,he,de,pe]}class el extends Q{constructor(e){super();$(this,e,_n,null,x,{id:2,type:3,filter:4,layout:5,paint:6,data:7,geoCode:8,colorCode:9,nameCode:10,valueCode:11,click:12,ignoreClick:13,clickCenter:14,selected:0,hover:15,hovered:1,highlight:16,highlightKey:17,highlighted:18,order:19,maxzoom:20,minzoom:21,tooltip:22},null,[-1,-1])}}function ll(a,e,t){const l=a.slice();return l[10]=e[t],l[12]=t,l}function tl(a){let e,t,l,n,i,s=a[6](a[4][a[12]])+"",f;return{c(){e=w("div"),t=V(),l=w("div"),n=V(),i=w("div"),f=K(s),this.h()},l(o){e=E(o,"DIV",{class:!0,style:!0}),z(e).forEach(_),t=j(o),l=E(o,"DIV",{class:!0,style:!0}),z(l).forEach(_),n=j(o),i=E(o,"DIV",{class:!0,style:!0});var r=z(i);f=M(r,s),r.forEach(_),this.h()},h(){k(e,"class","block svelte-j1hxpu"),S(e,"width",100/(a[4].length-1)+"%"),S(e,"left",a[12]*(100/(a[4].length-1))+"%"),S(e,"background-color",a[5][a[12]]),k(l,"class","line svelte-j1hxpu"),S(l,"left",a[12]*(100/(a[4].length-1))+"%"),k(i,"class","tick svelte-j1hxpu"),S(i,"left",a[12]*(100/(a[4].length-1))+"%"),ae(i,"tick-start",a[12]==0)},m(o,r){p(o,e,r),p(o,t,r),p(o,l,r),p(o,n,r),p(o,i,r),v(i,f)},p(o,r){r&16&&S(e,"width",100/(o[4].length-1)+"%"),r&16&&S(e,"left",o[12]*(100/(o[4].length-1))+"%"),r&32&&S(e,"background-color",o[5][o[12]]),r&16&&S(l,"left",o[12]*(100/(o[4].length-1))+"%"),r&80&&s!==(s=o[6](o[4][o[12]])+"")&&W(f,s),r&16&&S(i,"left",o[12]*(100/(o[4].length-1))+"%")},d(o){o&&_(e),o&&_(t),o&&_(l),o&&_(n),o&&_(i)}}}function nl(a){let e,t,l,n=a[7](a[1])+"",i,s;return{c(){e=w("div"),t=V(),l=w("div"),i=K(n),s=K(a[8]),this.h()},l(f){e=E(f,"DIV",{class:!0,style:!0}),z(e).forEach(_),t=j(f),l=E(f,"DIV",{class:!0,style:!0});var o=z(l);i=M(o,n),s=M(o,a[8]),o.forEach(_),this.h()},h(){k(e,"class","marker svelte-j1hxpu"),S(e,"width",a[2]+"px"),S(e,"left","calc("+a[9](a[1],a[4])+"% - "+a[2]/2+"px)"),k(l,"class","value svelte-j1hxpu"),S(l,"left",a[9](a[1],a[4])+"%")},m(f,o){p(f,e,o),p(f,t,o),p(f,l,o),v(l,i),v(l,s)},p(f,o){o&4&&S(e,"width",f[2]+"px"),o&22&&S(e,"left","calc("+f[9](f[1],f[4])+"% - "+f[2]/2+"px)"),o&130&&n!==(n=f[7](f[1])+"")&&W(i,n),o&256&&W(s,f[8]),o&18&&S(l,"left",f[9](f[1],f[4])+"%")},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function il(a){let e,t,l,n=a[7](a[0])+"",i,s;return{c(){e=w("div"),t=V(),l=w("div"),i=K(n),s=K(a[8]),this.h()},l(f){e=E(f,"DIV",{class:!0,style:!0}),z(e).forEach(_),t=j(f),l=E(f,"DIV",{class:!0,style:!0});var o=z(l);i=M(o,n),s=M(o,a[8]),o.forEach(_),this.h()},h(){k(e,"class","marker marker-hovered svelte-j1hxpu"),S(e,"width",a[2]+"px"),S(e,"left","calc("+a[9](a[0],a[4])+"% - "+a[2]/2+"px)"),k(l,"class","value svelte-j1hxpu"),S(l,"left",a[9](a[0],a[4])+"%")},m(f,o){p(f,e,o),p(f,t,o),p(f,l,o),v(l,i),v(l,s)},p(f,o){o&4&&S(e,"width",f[2]+"px"),o&21&&S(e,"left","calc("+f[9](f[0],f[4])+"% - "+f[2]/2+"px)"),o&129&&n!==(n=f[7](f[0])+"")&&W(i,n),o&256&&W(s,f[8]),o&17&&S(l,"left",f[9](f[0],f[4])+"%")},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function dn(a){let e,t,l,n,i,s=a[6](a[4][a[4].length-1])+"",f,o,r,c,d=a[4].slice(1),u=[];for(let m=0;m<d.length;m+=1)u[m]=tl(ll(a,d,m));let h=a[1]&&nl(a),b=a[0]&&il(a);return{c(){e=w("div");for(let m=0;m<u.length;m+=1)u[m].c();t=V(),l=w("div"),n=V(),i=w("div"),f=K(s),o=K(a[8]),r=V(),h&&h.c(),c=V(),b&&b.c(),this.h()},l(m){e=E(m,"DIV",{class:!0,style:!0});var C=z(e);for(let y=0;y<u.length;y+=1)u[y].l(C);t=j(C),l=E(C,"DIV",{class:!0,style:!0}),z(l).forEach(_),n=j(C),i=E(C,"DIV",{class:!0,style:!0});var g=z(i);f=M(g,s),o=M(g,a[8]),g.forEach(_),r=j(C),h&&h.l(C),c=j(C),b&&b.l(C),C.forEach(_),this.h()},h(){k(l,"class","line svelte-j1hxpu"),S(l,"left","100%"),k(i,"class","tick tick-end svelte-j1hxpu"),S(i,"left","100%"),k(e,"class","container svelte-j1hxpu"),S(e,"height",a[3]+"px")},m(m,C){p(m,e,C);for(let g=0;g<u.length;g+=1)u[g].m(e,null);v(e,t),v(e,l),v(e,n),v(e,i),v(i,f),v(i,o),v(e,r),h&&h.m(e,null),v(e,c),b&&b.m(e,null)},p(m,[C]){if(C&112){d=m[4].slice(1);let g;for(g=0;g<d.length;g+=1){const y=ll(m,d,g);u[g]?u[g].p(y,C):(u[g]=tl(y),u[g].c(),u[g].m(e,t))}for(;g<u.length;g+=1)u[g].d(1);u.length=d.length}C&80&&s!==(s=m[6](m[4][m[4].length-1])+"")&&W(f,s),C&256&&W(o,m[8]),m[1]?h?h.p(m,C):(h=nl(m),h.c(),h.m(e,c)):h&&(h.d(1),h=null),m[0]?b?b.p(m,C):(b=il(m),b.c(),b.m(e,null)):b&&(b.d(1),b=null),C&8&&S(e,"height",m[3]+"px")},i:U,o:U,d(m){m&&_(e),te(u,m),h&&h.d(),b&&b.d()}}}function mn(a,e,t){let{hovered:l=null}=e,{selected:n=null}=e,{lineWidth:i=3}=e,{height:s=15}=e,{breaks:f=[0,20,40,60,80,100]}=e,{colors:o=["rgba(234,236,177,.8)","rgba(169,216,145,.8)","rgba(0,167,186,.8)","rgba(0,78,166,.8)","rgba(0,13,84,.8)"]}=e,{formatTick:r=h=>h.toFixed(1)}=e,{formatVal:c=h=>h.toFixed(1)}=e,{suffix:d="%"}=e;const u=(h,b)=>{let m=0;for(;h>b[m+1];)m+=1;let C=100/(b.length-1),g=(h-b[m])/(b[m+1]-b[m]);return(m+g)*C};return a.$$set=h=>{"hovered"in h&&t(0,l=h.hovered),"selected"in h&&t(1,n=h.selected),"lineWidth"in h&&t(2,i=h.lineWidth),"height"in h&&t(3,s=h.height),"breaks"in h&&t(4,f=h.breaks),"colors"in h&&t(5,o=h.colors),"formatTick"in h&&t(6,r=h.formatTick),"formatVal"in h&&t(7,c=h.formatVal),"suffix"in h&&t(8,d=h.suffix)},[l,n,i,s,f,o,r,c,d,u]}class gn extends Q{constructor(e){super();$(this,e,mn,dn,x,{hovered:0,selected:1,lineWidth:2,height:3,breaks:4,colors:5,formatTick:6,formatVal:7,suffix:8})}}function al(a,e,t){const l=a.slice();return l[2]=e[t],l[4]=t,l}function sl(a){let e,t,l,n=a[2].name+"",i,s,f,o=a[2].value.toFixed(1)+"",r,c,d;return{c(){e=w("tr"),t=w("td"),l=w("strong"),i=K(n),s=V(),f=w("td"),r=K(o),c=K("%"),d=V(),this.h()},l(u){e=E(u,"TR",{});var h=z(e);t=E(h,"TD",{});var b=z(t);l=E(b,"STRONG",{});var m=z(l);i=M(m,n),m.forEach(_),b.forEach(_),s=j(h),f=E(h,"TD",{class:!0});var C=z(f);r=M(C,o),c=M(C,"%"),C.forEach(_),d=j(h),h.forEach(_),this.h()},h(){k(f,"class","text-right svelte-vtsuxa")},m(u,h){p(u,e,h),v(e,t),v(t,l),v(l,i),v(e,s),v(e,f),v(f,r),v(f,c),v(e,d)},p(u,h){h&1&&n!==(n=u[2].name+"")&&W(i,n),h&1&&o!==(o=u[2].value.toFixed(1)+"")&&W(r,o)},d(u){u&&_(e)}}}function bn(a){let e,t,l=a[0],n=[];for(let i=0;i<l.length;i+=1)n[i]=sl(al(a,l,i));return{c(){e=w("table"),t=w("tbody");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=E(i,"TABLE",{class:!0});var s=z(e);t=E(s,"TBODY",{});var f=z(t);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(_),s.forEach(_),this.h()},h(){k(e,"class","table-rank text-small svelte-vtsuxa")},m(i,s){p(i,e,s),v(e,t);for(let f=0;f<n.length;f+=1)n[f].m(t,null)},p(i,[s]){if(s&1){l=i[0];let f;for(f=0;f<l.length;f+=1){const o=al(i,l,f);n[f]?n[f].p(o,s):(n[f]=sl(o),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},i:U,o:U,d(i){i&&_(e),te(n,i)}}}function vn(a,e,t){let{data:l}=e,{offset:n=1}=e;return a.$$set=i=>{"data"in i&&t(0,l=i.data),"offset"in i&&t(1,n=i.offset)},[l,n]}class jt extends Q{constructor(e){super();$(this,e,vn,bn,x,{data:0,offset:1})}}function kn(a){let e,t;return{c(){e=w("p"),t=K(`For each lower-tier local authority area in England and Wales, the map
      shows the count of people in the categories chosen above as a percentage
      of the area's total population.`),this.h()},l(l){e=E(l,"P",{class:!0});var n=z(e);t=M(n,`For each lower-tier local authority area in England and Wales, the map
      shows the count of people in the categories chosen above as a percentage
      of the area's total population.`),n.forEach(_),this.h()},h(){k(e,"class","subtitle svelte-1ijey3s")},m(l,n){p(l,e,n),v(e,t)},d(l){l&&_(e)}}}function ol(a){let e,t;return e=new hn({props:{id:"lad",type:"geojson",data:a[0].geojson,promoteId:a[2].code,$$slots:{default:[pn]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=l[0].geojson),n&4&&(i.promoteId=l[2].code),n&545&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function pn(a){let e,t,l,n,i;function s(o){a[6](o)}let f={id:"lad-fill",data:a[0].geoPerc,geoCode:"code",nameCode:"name",colorCode:"color",valueCode:"value",hover:!0,tooltip:!0,type:"fill",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.8},order:"highway_name_other"};return a[5]!==void 0&&(f.hovered=a[5]),e=new el({props:f}),ze.push(()=>Ae(e,"hovered",s)),n=new el({props:{id:"lad-line",type:"line",paint:{"line-color":"orange","line-width":2,"line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]},order:"highway_name_other"}}),{c(){G(e.$$.fragment),l=V(),G(n.$$.fragment)},l(o){J(e.$$.fragment,o),l=j(o),J(n.$$.fragment,o)},m(o,r){Z(e,o,r),p(o,l,r),Z(n,o,r),i=!0},p(o,r){const c={};r&1&&(c.data=o[0].geoPerc),!t&&r&32&&(t=!0,c.hovered=o[5],Le(()=>t=!1)),e.$set(c)},i(o){i||(T(e.$$.fragment,o),T(n.$$.fragment,o),i=!0)},o(o){N(e.$$.fragment,o),N(n.$$.fragment,o),i=!1},d(o){X(e,o),o&&_(l),X(n,o)}}}function wn(a){let e,t,l=a[0].geojson&&a[0].geoPerc&&ol(a);return{c(){l&&l.c(),e=R()},l(n){l&&l.l(n),e=R()},m(n,i){l&&l.m(n,i),p(n,e,i),t=!0},p(n,i){n[0].geojson&&n[0].geoPerc?l?(l.p(n,i),i&1&&T(l,1)):(l=ol(n),l.c(),T(l,1),l.m(e.parentNode,e)):l&&(ne(),N(l,1,1,()=>{l=null}),ie())},i(n){t||(T(l),t=!0)},o(n){N(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function fl(a){let e,t,l;return t=new gn({props:{breaks:a[0].geoBreaks,hovered:a[5]&&a[0].geoPerc.find(a[7])?a[0].geoPerc.find(a[8]).value:null,colors:a[0].geoBreaks[1]==100?[a[4].seq[4]]:a[4].seq}}),{c(){e=w("div"),G(t.$$.fragment),this.h()},l(n){e=E(n,"DIV",{});var i=z(e);J(t.$$.fragment,i),i.forEach(_),this.h()},h(){S(e,"height","38px",!1),S(e,"width","100%",!1)},m(n,i){p(n,e,i),Z(t,e,null),l=!0},p(n,i){const s={};i&1&&(s.breaks=n[0].geoBreaks),i&33&&(s.hovered=n[5]&&n[0].geoPerc.find(n[7])?n[0].geoPerc.find(n[8]).value:null),i&17&&(s.colors=n[0].geoBreaks[1]==100?[n[4].seq[4]]:n[4].seq),t.$set(s)},i(n){l||(T(t.$$.fragment,n),l=!0)},o(n){N(t.$$.fragment,n),l=!1},d(n){n&&_(e),X(t)}}}function En(a){let e,t,l,n,i;t=new rn({props:{style:a[1],$$slots:{default:[wn]},$$scope:{ctx:a}}});let s=a[0].geoBreaks&&a[0].geoPerc&&fl(a);return{c(){e=w("div"),G(t.$$.fragment),l=V(),s&&s.c(),n=R(),this.h()},l(f){e=E(f,"DIV",{});var o=z(e);J(t.$$.fragment,o),o.forEach(_),l=j(f),s&&s.l(f),n=R(),this.h()},h(){S(e,"height","450px",!1)},m(f,o){p(f,e,o),Z(t,e,null),p(f,l,o),s&&s.m(f,o),p(f,n,o),i=!0},p(f,o){const r={};o&2&&(r.style=f[1]),o&549&&(r.$$scope={dirty:o,ctx:f}),t.$set(r),f[0].geoBreaks&&f[0].geoPerc?s?(s.p(f,o),o&1&&T(s,1)):(s=fl(f),s.c(),T(s,1),s.m(n.parentNode,n)):s&&(ne(),N(s,1,1,()=>{s=null}),ie())},i(f){i||(T(t.$$.fragment,f),T(s),i=!0)},o(f){N(t.$$.fragment,f),N(s),i=!1},d(f){f&&_(e),X(t),f&&_(l),s&&s.d(f),f&&_(n)}}}function yn(a){let e,t;return{c(){e=w("span"),t=K("Make a selection to see rankings."),this.h()},l(l){e=E(l,"SPAN",{class:!0});var n=z(e);t=M(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){k(e,"class","muted svelte-1ijey3s")},m(l,n){p(l,e,n),v(e,t)},p:U,i:U,o:U,d(l){l&&_(e)}}}function Cn(a){let e,t;return e=new jt({props:{data:[...a[0].geoPerc].filter(rl).sort(cl).slice(0,5)}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=[...l[0].geoPerc].filter(rl).sort(cl).slice(0,5)),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function zn(a){let e,t,l,n;const i=[Cn,yn],s=[];function f(o,r){return o[0].geoPerc&&o[3][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let c=e;e=f(o),e===c?s[e].p(o,r):(ne(),N(s[c],1,1,()=>{s[c]=null}),ie(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),T(t,1),t.m(l.parentNode,l))},i(o){n||(T(t),n=!0)},o(o){N(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function Dn(a){let e,t;return{c(){e=w("span"),t=K("Make a selection to see rankings."),this.h()},l(l){e=E(l,"SPAN",{class:!0});var n=z(e);t=M(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){k(e,"class","muted svelte-1ijey3s")},m(l,n){p(l,e,n),v(e,t)},p:U,i:U,o:U,d(l){l&&_(e)}}}function Sn(a){let e,t;return e=new jt({props:{data:a[0].geoPerc.filter(ul).sort(hl).slice(-5),offset:a[0].geoPerc.filter(_l).length-4}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=l[0].geoPerc.filter(ul).sort(hl).slice(-5)),n&1&&(i.offset=l[0].geoPerc.filter(_l).length-4),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function In(a){let e,t,l,n;const i=[Sn,Dn],s=[];function f(o,r){return o[0].geoPerc&&o[3][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let c=e;e=f(o),e===c?s[e].p(o,r):(ne(),N(s[c],1,1,()=>{s[c]=null}),ie(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),T(t,1),t.m(l.parentNode,l))},i(o){n||(T(t),n=!0)},o(o){N(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function Tn(a){let e,t,l,n,i,s,f,o;return e=new ge({props:{colspan:3,rowspan:1,blank:!0,$$slots:{default:[kn]},$$scope:{ctx:a}}}),l=new ge({props:{colspan:2,rowspan:2,blank:!0,$$slots:{default:[En]},$$scope:{ctx:a}}}),i=new ge({props:{title:"Areas with high %",$$slots:{default:[zn]},$$scope:{ctx:a}}}),f=new ge({props:{title:"Areas with low %",$$slots:{default:[In]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment),t=V(),G(l.$$.fragment),n=V(),G(i.$$.fragment),s=V(),G(f.$$.fragment)},l(r){J(e.$$.fragment,r),t=j(r),J(l.$$.fragment,r),n=j(r),J(i.$$.fragment,r),s=j(r),J(f.$$.fragment,r)},m(r,c){Z(e,r,c),p(r,t,c),Z(l,r,c),p(r,n,c),Z(i,r,c),p(r,s,c),Z(f,r,c),o=!0},p(r,c){const d={};c&512&&(d.$$scope={dirty:c,ctx:r}),e.$set(d);const u={};c&567&&(u.$$scope={dirty:c,ctx:r}),l.$set(u);const h={};c&521&&(h.$$scope={dirty:c,ctx:r}),i.$set(h);const b={};c&521&&(b.$$scope={dirty:c,ctx:r}),f.$set(b)},i(r){o||(T(e.$$.fragment,r),T(l.$$.fragment,r),T(i.$$.fragment,r),T(f.$$.fragment,r),o=!0)},o(r){N(e.$$.fragment,r),N(l.$$.fragment,r),N(i.$$.fragment,r),N(f.$$.fragment,r),o=!1},d(r){X(e,r),r&&_(t),X(l,r),r&&_(n),X(i,r),r&&_(s),X(f,r)}}}function Pn(a){let e,t;return e=new Ke({props:{title:"Population by area",$$slots:{default:[Tn]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,[n]){const i={};n&575&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}const rl=a=>a.value!=null,cl=(a,e)=>e.value-a.value,ul=a=>a.value!=null,hl=(a,e)=>e.value-a.value,_l=a=>a.value!=null;function Vn(a,e,t){let{data:l}=e,{mapStyle:n}=e,{ladBounds:i}=e,{selected:s}=e,{colors:f}=e,o;function r(u){o=u,t(5,o)}const c=u=>u.code==o,d=u=>u.code==o;return a.$$set=u=>{"data"in u&&t(0,l=u.data),"mapStyle"in u&&t(1,n=u.mapStyle),"ladBounds"in u&&t(2,i=u.ladBounds),"selected"in u&&t(3,s=u.selected),"colors"in u&&t(4,f=u.colors)},[l,n,i,s,f,o,r,c,d]}class jn extends Q{constructor(e){super();$(this,e,Vn,Pn,x,{data:0,mapStyle:1,ladBounds:2,selected:3,colors:4})}}function Nn(a){let e,t,l;var n=a[3];function i(s){return{props:{data:s[2].selected&&je("residents",s[1].code,s[2])}}}return n&&(e=new n(i(a))),{c(){e&&G(e.$$.fragment),t=R()},l(s){e&&J(e.$$.fragment,s),t=R()},m(s,f){e&&Z(e,s,f),p(s,t,f),l=!0},p(s,f){const o={};if(f&6&&(o.data=s[2].selected&&je("residents",s[1].code,s[2])),n!==(n=s[3])){if(e){ne();const r=e;N(r.$$.fragment,1,0,()=>{X(r,1)}),ie()}n?(e=new n(i(s)),G(e.$$.fragment),T(e.$$.fragment,1),Z(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&T(e.$$.fragment,s),l=!0)},o(s){e&&N(e.$$.fragment,s),l=!1},d(s){s&&_(t),e&&X(e,s)}}}function An(a){let e,t=Se.nodata+"",l;return{c(){e=w("span"),l=K(t),this.h()},l(n){e=E(n,"SPAN",{class:!0});var i=z(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-1yn8adz")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Ln(a){let e,t=Se.blocked+"",l;return{c(){e=w("span"),l=K(t),this.h()},l(n){e=E(n,"SPAN",{class:!0});var i=z(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-1yn8adz")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Kn(a){let e,t,l,n,i,s=He[a[1].code]+"",f,o;const r=[Ln,An,Nn],c=[];function d(u,h){return u[2].selected.residents[u[1].code].values==="blocked"?0:u[2].selected.residents[u[1].code].values.percent[0]==null?1:2}return e=d(a),t=c[e]=r[e](a),{c(){t.c(),l=V(),n=w("span"),i=K("% of "),f=K(s),this.h()},l(u){t.l(u),l=j(u),n=E(u,"SPAN",{class:!0});var h=z(n);i=M(h,"% of "),f=M(h,s),h.forEach(_),this.h()},h(){k(n,"class","num-desc svelte-1yn8adz")},m(u,h){c[e].m(u,h),p(u,l,h),p(u,n,h),v(n,i),v(n,f),o=!0},p(u,h){let b=e;e=d(u),e===b?c[e].p(u,h):(ne(),N(c[b],1,1,()=>{c[b]=null}),ie(),t=c[e],t?t.p(u,h):(t=c[e]=r[e](u),t.c()),T(t,1),t.m(l.parentNode,l)),(!o||h&2)&&s!==(s=He[u[1].code]+"")&&W(f,s)},i(u){o||(T(t),o=!0)},o(u){N(t),o=!1},d(u){c[e].d(u),u&&_(l),u&&_(n)}}}function Mn(a){let e,t;return e=new ge({props:{title:a[0],$$slots:{default:[Kn]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,[n]){const i={};n&1&&(i.title=l[0]),n&30&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Bn(a,e,t){let{title:l}=e,{table:n}=e,{data:i}=e,{chart_type:s}=e;return a.$$set=f=>{"title"in f&&t(0,l=f.title),"table"in f&&t(1,n=f.table),"data"in f&&t(2,i=f.data),"chart_type"in f&&t(3,s=f.chart_type)},[l,n,i,s]}class Fn extends Q{constructor(e){super();$(this,e,Bn,Mn,x,{title:0,table:1,data:2,chart_type:3})}}function On(a){let e,t;const l=a[5].default,n=fe(l,a,a[4],null);return{c(){e=w("mark"),n&&n.c(),this.h()},l(i){e=E(i,"MARK",{class:!0,style:!0,role:!0});var s=z(e);n&&n.l(s),s.forEach(_),this.h()},h(){k(e,"class","em svelte-1602h77"),S(e,"background-color",a[0]),S(e,"color",a[2]),k(e,"role","presentation"),ae(e,"nowrap",a[1])},m(i,s){p(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){n&&n.p&&(!t||s&16)&&re(n,l,i,i[4],t?ue(l,i[4],s,null):ce(i[4]),null),(!t||s&1)&&S(e,"background-color",i[0]),(!t||s&4)&&S(e,"color",i[2]),s&2&&ae(e,"nowrap",i[1])},i(i){t||(T(n,i),t=!0)},o(i){N(n,i),t=!1},d(i){i&&_(e),n&&n.d(i)}}}function Hn(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{color:s="lightgrey"}=e,{nowrap:f=!0}=e;function o(c){return(c[0]*299+c[1]*587+c[2]*114)/1e3>125?"black":"white"}let r="black";return a.$$set=c=>{"color"in c&&t(0,s=c.color),"nowrap"in c&&t(1,f=c.nowrap),"$$scope"in c&&t(4,i=c.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&t(3,l=Ht(s).rgb),a.$$.dirty&8&&l&&t(2,r=o(l))},[s,f,r,l,i,n]}class Rn extends Q{constructor(e){super();$(this,e,Hn,On,x,{color:0,nowrap:1})}}function Wn(a){let e,t=a[0].selected.total_pop.count.toLocaleString()+"",l,n,i,s,f,o,r,c=qe(a[0].selected.total_pop.percent)+"",d,u,h;return r=new Rn({props:{color:"lightgrey"}}),{c(){e=w("div"),l=K(t),n=V(),i=w("div"),s=K("people"),f=V(),o=w("div"),G(r.$$.fragment),d=K(c),u=K("% of the total population of England and Wales"),this.h()},l(b){e=E(b,"DIV",{class:!0});var m=z(e);l=M(m,t),m.forEach(_),n=j(b),i=E(b,"DIV",{class:!0});var C=z(i);s=M(C,"people"),C.forEach(_),f=j(b),o=E(b,"DIV",{class:!0});var g=z(o);J(r.$$.fragment,g),d=M(g,c),u=M(g,"% of the total population of England and Wales"),g.forEach(_),this.h()},h(){k(e,"class","num-big svelte-12pd6wz"),k(i,"class","num-suffix svelte-12pd6wz"),k(o,"class","num-desc svelte-12pd6wz")},m(b,m){p(b,e,m),v(e,l),p(b,n,m),p(b,i,m),v(i,s),p(b,f,m),p(b,o,m),Z(r,o,null),v(o,d),v(o,u),h=!0},p(b,m){(!h||m&1)&&t!==(t=b[0].selected.total_pop.count.toLocaleString()+"")&&W(l,t),(!h||m&1)&&c!==(c=qe(b[0].selected.total_pop.percent)+"")&&W(d,c)},i(b){h||(T(r.$$.fragment,b),h=!0)},o(b){N(r.$$.fragment,b),h=!1},d(b){b&&_(e),b&&_(n),b&&_(i),b&&_(f),b&&_(o),X(r)}}}function Un(a){let e,t=Se.nodata+"",l;return{c(){e=w("div"),l=K(t),this.h()},l(n){e=E(n,"DIV",{class:!0});var i=z(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-12pd6wz")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function qn(a){let e,t,l,n;const i=[Un,Wn],s=[];function f(o,r){return o[0].selected.total_pop.count==null?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let c=e;e=f(o),e===c?s[e].p(o,r):(ne(),N(s[c],1,1,()=>{s[c]=null}),ie(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),T(t,1),t.m(l.parentNode,l))},i(o){n||(T(t),n=!0)},o(o){N(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function Gn(a){let e,t;return e=new ge({props:{title:"Population",$$slots:{default:[qn]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,[n]){const i={};n&3&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Zn(a,e,t){let{data:l}=e;return a.$$set=n=>{"data"in n&&t(0,l=n.data)},[l]}class Xn extends Q{constructor(e){super();$(this,e,Zn,Gn,x,{data:0})}}function Jn(a){let e,t,l,n,i=`translateX(${a[3]/a[1]+(a[1]-a[4])}px)`,s,f=`${a[2]}px`,o=`${a[4]}px`;return{c(){e=w("div"),t=K(a[0]),l=V(),n=w("div"),this.h()},l(r){e=E(r,"DIV",{class:!0});var c=z(e);t=M(c,a[0]),l=j(c),n=E(c,"DIV",{class:!0}),z(n).forEach(_),c.forEach(_),this.h()},h(){k(n,"class","caret svelte-1491tb3"),S(n,"transform",i,!1),k(e,"class","tooltip svelte-1491tb3"),St(()=>a[6].call(e)),S(e,"top",f,!1),S(e,"left",o,!1)},m(r,c){p(r,e,c),v(e,t),v(e,l),v(e,n),s=It(e,a[6].bind(e))},p(r,[c]){c&1&&W(t,r[0]),c&26&&i!==(i=`translateX(${r[3]/r[1]+(r[1]-r[4])}px)`)&&S(n,"transform",i,!1),c&4&&f!==(f=`${r[2]}px`)&&S(e,"top",f,!1),c&16&&o!==(o=`${r[4]}px`)&&S(e,"left",o,!1)},i:U,o:U,d(r){r&&_(e),s()}}}const Ie=4;function Yn(a,e,t){let l,{title:n}=e,{x:i}=e,{y:s}=e,{width:f}=e,o;function r(){o=this.clientWidth,t(3,o)}return a.$$set=c=>{"title"in c&&t(0,n=c.title),"x"in c&&t(1,i=c.x),"y"in c&&t(2,s=c.y),"width"in c&&t(5,f=c.width)},a.$$.update=()=>{a.$$.dirty&42&&t(4,l=o&&i+o/2>f-Ie?f-o/2-Ie:o&&i-o/2<0+Ie?o/2+Ie:i)},[n,i,s,o,l,f,r]}class Qn extends Q{constructor(e){super();$(this,e,Yn,Jn,x,{title:0,x:1,y:2,width:5})}}function $n(a){let e,t;function l(i){e=a.getAttribute("title"),a.removeAttribute("title");let s=document.body.getBoundingClientRect(),f=a.getBoundingClientRect(),o=f.bottom,r=(f.left+f.right)/2;t=new Qn({props:{title:e,x:r,y:o-s.y,width:s.width},target:document.body})}function n(){t.$destroy(),a.setAttribute("title",e)}return a.addEventListener("mouseover",l),a.addEventListener("mouseout",n),{destroy(){t&&t.$destroy(),a.removeEventListener("mouseover",l),a.removeEventListener("mouseout",n)}}}function dl(a,e,t){const l=a.slice();return l[19]=e[t],l[21]=t,l}function ml(a,e,t){const l=a.slice();return l[22]=e[t],l[24]=t,l}function gl(a,e,t){const l=a.slice();return l[22]=e[t],l[24]=t,l}function bl(a,e,t){const l=a.slice();return l[26]=e[t],l[21]=t,l}function vl(a){let e,t=a[11],l=[];for(let n=0;n<t.length;n+=1)l[n]=kl(bl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&2064){t=n[11];let s;for(s=0;s<t.length;s+=1){const f=bl(n,t,s);l[s]?l[s].p(f,i):(l[s]=kl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){te(l,n),n&&_(e)}}}function kl(a){let e,t,l=`${a[21]==0?0:a[4]}px`,n,i,s=a[26]+"",f,o,r;return{c(){e=w("li"),t=w("div"),n=V(),i=w("span"),f=K(s),r=V(),this.h()},l(c){e=E(c,"LI",{class:!0});var d=z(e);t=E(d,"DIV",{class:!0}),z(t).forEach(_),n=j(d),i=E(d,"SPAN",{class:!0});var u=z(i);f=M(u,s),u.forEach(_),r=j(d),d.forEach(_),this.h()},h(){k(t,"class","legend-vis "+(a[21]==0?"bar":"marker-vis")+" svelte-1ajuj8s"),S(t,"border-bottom-width",l,!1),k(i,"class",o=ye(a[21]==0?"bold":"brackets")+" svelte-1ajuj8s"),k(e,"class","svelte-1ajuj8s")},m(c,d){p(c,e,d),v(e,t),v(e,n),v(e,i),v(i,f),v(e,r)},p(c,d){d&16&&l!==(l=`${c[21]==0?0:c[4]}px`)&&S(t,"border-bottom-width",l,!1),d&2048&&s!==(s=c[26]+"")&&W(f,s)},d(c){c&&_(e)}}}function xn(a){let e,t=a[19].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=pl(ml(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&5650){t=n[19].values;let s;for(s=0;s<t.length;s+=1){const f=ml(n,t,s);l[s]?l[s].p(f,i):(l[s]=pl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){te(l,n),n&&_(e)}}}function ei(a){let e,t=a[19].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=wl(gl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&5639){t=n[19].values;let s;for(s=0;s<t.length;s+=1){const f=gl(n,t,s);l[s]?l[s].p(f,i):(l[s]=wl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){te(l,n),n&&_(e)}}}function pl(a){let e,t=`calc(${a[10](a[22][a[1]])}% - ${a[4]/2}px)`,l=`${a[24]/a[12].length*100}%`,n=`calc(${1/a[12].length*100}% - 2px)`,i=`${a[4]}px`;return{c(){e=w("div"),this.h()},l(s){e=E(s,"DIV",{class:!0}),z(e).forEach(_),this.h()},h(){k(e,"class","marker svelte-1ajuj8s"),S(e,"bottom",t,!1),S(e,"height","0px",!1),S(e,"left",l,!1),S(e,"width",n,!1),S(e,"border-bottom-width",i,!1)},m(s,f){p(s,e,f)},p(s,f){f&1554&&t!==(t=`calc(${s[10](s[22][s[1]])}% - ${s[4]/2}px)`)&&S(e,"bottom",t,!1),f&4096&&l!==(l=`${s[24]/s[12].length*100}%`)&&S(e,"left",l,!1),f&4096&&n!==(n=`calc(${1/s[12].length*100}% - 2px)`)&&S(e,"width",n,!1),f&16&&i!==(i=`${s[4]}px`)&&S(e,"border-bottom-width",i,!1)},d(s){s&&_(e)}}}function wl(a){let e,t,l,n=`${a[10](a[22][a[1]])}%`,i=`calc(${a[24]/a[12].length*100}%)`,s=`calc(${1/a[12].length*100}% - 2px)`,f,o;return{c(){e=w("div"),this.h()},l(r){e=E(r,"DIV",{title:!0,class:!0}),z(e).forEach(_),this.h()},h(){k(e,"title",t=`${a[22][a[0]]}: ${a[2](a[22][a[1]])}%`+(a[9].length>1?` (${a[2](a[9][a[21]+1].values[a[24]][a[1]])}%)`:"")),k(e,"class","bar svelte-1ajuj8s"),S(e,"bottom","0",!1),S(e,"height",n,!1),S(e,"left",i,!1),S(e,"width",s,!1)},m(r,c){p(r,e,c),f||(o=Rt(l=$n.call(null,e)),f=!0)},p(r,c){c&519&&t!==(t=`${r[22][r[0]]}: ${r[2](r[22][r[1]])}%`+(r[9].length>1?` (${r[2](r[9][r[21]+1].values[r[24]][r[1]])}%)`:""))&&k(e,"title",t),c&1538&&n!==(n=`${r[10](r[22][r[1]])}%`)&&S(e,"height",n,!1),c&4096&&i!==(i=`calc(${r[24]/r[12].length*100}%)`)&&S(e,"left",i,!1),c&4096&&s!==(s=`calc(${1/r[12].length*100}% - 2px)`)&&S(e,"width",s,!1)},d(r){r&&_(e),f=!1,o()}}}function El(a){let e;function t(i,s){return i[21]==0?ei:xn}let n=t(a)(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){n.p(i,s)},d(i){n.d(i),i&&_(e)}}}function yl(a){let e,t,l=a[6][0]!=0&&Cl(a),n=a[6][1]!=18&&zl(a);return{c(){l&&l.c(),e=V(),n&&n.c(),t=R()},l(i){l&&l.l(i),e=j(i),n&&n.l(i),t=R()},m(i,s){l&&l.m(i,s),p(i,e,s),n&&n.m(i,s),p(i,t,s)},p(i,s){i[6][0]!=0?l?l.p(i,s):(l=Cl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i[6][1]!=18?n?n.p(i,s):(n=zl(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){l&&l.d(i),i&&_(e),n&&n.d(i),i&&_(t)}}}function Cl(a){let e,t=`${a[14](a[9])}%`;return{c(){e=w("div"),this.h()},l(l){e=E(l,"DIV",{class:!0}),z(e).forEach(_),this.h()},h(){k(e,"class","mask svelte-1ajuj8s"),S(e,"bottom","0",!1),S(e,"height",t,!1),S(e,"left","0",!1),S(e,"width",a[13](a[6][0]),!1)},m(l,n){p(l,e,n)},p(l,n){n&512&&t!==(t=`${l[14](l[9])}%`)&&S(e,"height",t,!1),n&64&&S(e,"width",l[13](l[6][0]),!1)},d(l){l&&_(e)}}}function zl(a){let e,t=`${a[14](a[9])}%`;return{c(){e=w("div"),this.h()},l(l){e=E(l,"DIV",{class:!0}),z(e).forEach(_),this.h()},h(){k(e,"class","mask svelte-1ajuj8s"),S(e,"bottom","0",!1),S(e,"height",t,!1),S(e,"left",a[13](a[6][1]),!1),S(e,"right","2px",!1)},m(l,n){p(l,e,n)},p(l,n){n&512&&t!==(t=`${l[14](l[9])}%`)&&S(e,"height",t,!1),n&64&&S(e,"left",l[13](l[6][1]),!1)},d(l){l&&_(e)}}}function Dl(a){let e,t,l;return{c(){e=w("small"),t=K(a[7]),l=K(a[8]),this.h()},l(n){e=E(n,"SMALL",{class:!0});var i=z(e);t=M(i,a[7]),l=M(i,a[8]),i.forEach(_),this.h()},h(){k(e,"class","svelte-1ajuj8s")},m(n,i){p(n,e,i),v(e,t),v(e,l)},p(n,i){i&128&&W(t,n[7]),i&256&&W(l,n[8])},d(n){n&&_(e)}}}function li(a){let e,t,l,n,i=`${a[3]}px`,s,f,o,r=a[5][0]+"",c,d,u,h=a[5][1]+"",b,m,C,g=a[11][1]&&vl(a),y=a[9],L=[];for(let D=0;D<y.length;D+=1)L[D]=El(dl(a,y,D));let I=a[6]!=null&&yl(a),A=a[7]&&Dl(a);return{c(){e=w("ul"),g&&g.c(),t=V(),l=w("div");for(let D=0;D<L.length;D+=1)L[D].c();n=V(),I&&I.c(),s=V(),f=w("div"),o=w("div"),c=K(r),d=V(),u=w("div"),b=K(h),m=V(),A&&A.c(),C=R(),this.h()},l(D){e=E(D,"UL",{class:!0});var F=z(e);g&&g.l(F),F.forEach(_),t=j(D),l=E(D,"DIV",{class:!0});var H=z(l);for(let q=0;q<L.length;q+=1)L[q].l(H);n=j(H),I&&I.l(H),H.forEach(_),s=j(D),f=E(D,"DIV",{class:!0});var P=z(f);o=E(P,"DIV",{class:!0});var O=z(o);c=M(O,r),O.forEach(_),d=j(P),u=E(P,"DIV",{class:!0});var Y=z(u);b=M(Y,h),Y.forEach(_),P.forEach(_),m=j(D),A&&A.l(D),C=R(),this.h()},h(){k(e,"class","legend-block svelte-1ajuj8s"),k(l,"class","bar-group svelte-1ajuj8s"),S(l,"height",i,!1),k(o,"class","svelte-1ajuj8s"),S(o,"left","0",!1),k(u,"class","svelte-1ajuj8s"),S(u,"right","0",!1),k(f,"class","x-scale svelte-1ajuj8s"),S(f,"height","1rem",!1)},m(D,F){p(D,e,F),g&&g.m(e,null),p(D,t,F),p(D,l,F);for(let H=0;H<L.length;H+=1)L[H].m(l,null);v(l,n),I&&I.m(l,null),p(D,s,F),p(D,f,F),v(f,o),v(o,c),v(f,d),v(f,u),v(u,b),p(D,m,F),A&&A.m(D,F),p(D,C,F)},p(D,[F]){if(D[11][1]?g?g.p(D,F):(g=vl(D),g.c(),g.m(e,null)):g&&(g.d(1),g=null),F&5655){y=D[9];let H;for(H=0;H<y.length;H+=1){const P=dl(D,y,H);L[H]?L[H].p(P,F):(L[H]=El(P),L[H].c(),L[H].m(l,n))}for(;H<L.length;H+=1)L[H].d(1);L.length=y.length}D[6]!=null?I?I.p(D,F):(I=yl(D),I.c(),I.m(l,null)):I&&(I.d(1),I=null),F&8&&i!==(i=`${D[3]}px`)&&S(l,"height",i,!1),F&32&&r!==(r=D[5][0]+"")&&W(c,r),F&32&&h!==(h=D[5][1]+"")&&W(b,h),D[7]?A?A.p(D,F):(A=Dl(D),A.c(),A.m(C.parentNode,C)):A&&(A.d(1),A=null)},i:U,o:U,d(D){D&&_(e),g&&g.d(),D&&_(t),D&&_(l),te(L,D),I&&I.d(),D&&_(s),D&&_(f),D&&_(m),A&&A.d(D),D&&_(C)}}}function ti(a,e,t){let l,n,i,s,f,{data:o}=e,{xKey:r="category"}=e,{yKey:c="value"}=e,{zKey:d="areanm"}=e,{formatTick:u=D=>D.toFixed(1)}=e,{height:h=100}=e,{markerWidth:b=2.5}=e,{minmax:m=["0 years","85+"]}=e,{maskRange:C=null}=e,{base:g=null}=e,{base_ext:y=", 5 year age bands"}=e;function L(D,F){let H={};for(const O of D)H[O[F]]||(H[O[F]]={label:O[F],values:[]}),H[O[F]].values.push(O);let P=[];for(const O in H)P.push(H[O]);return P}function I(D){return D%1===0?`calc(${D/l.length*100}% - 1px)`:`calc(${Math.floor(D)/l.length*100}% +(${1/l.length*100}% - 2px) * ${D%1})`}function A(D){return Math.max(...D.map(F=>Math.max(...F.values.map(H=>s(H[c])))))}return a.$$set=D=>{"data"in D&&t(15,o=D.data),"xKey"in D&&t(0,r=D.xKey),"yKey"in D&&t(1,c=D.yKey),"zKey"in D&&t(16,d=D.zKey),"formatTick"in D&&t(2,u=D.formatTick),"height"in D&&t(3,h=D.height),"markerWidth"in D&&t(4,b=D.markerWidth),"minmax"in D&&t(5,m=D.minmax),"maskRange"in D&&t(6,C=D.maskRange),"base"in D&&t(7,g=D.base),"base_ext"in D&&t(8,y=D.base_ext)},a.$$.update=()=>{a.$$.dirty&32769&&t(12,l=o.map(D=>D[r]).filter((D,F,H)=>H.indexOf(D)===F)),a.$$.dirty&32770&&t(17,n=[0,Math.max(...o.map(D=>D[c]))]),a.$$.dirty&98304&&t(11,i=o.map(D=>D[d]).filter((D,F,H)=>H.indexOf(D)===F)),a.$$.dirty&131072&&t(10,s=D=>Math.abs(D/n[1])*100),a.$$.dirty&98304&&t(9,f=L(o,d))},[r,c,u,h,b,m,C,g,y,f,s,i,l,I,A,o,d,n]}class ni extends Q{constructor(e){super();$(this,e,ti,li,x,{data:15,xKey:0,yKey:1,zKey:16,formatTick:2,height:3,markerWidth:4,minmax:5,maskRange:6,base:7,base_ext:8})}}function ii(a){let e,t;return e=new ni({props:{data:a[0].selected&&je("residents","resident_age_18b",a[0]),zKey:"group",maskRange:Ue(a[1])}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=l[0].selected&&je("residents","resident_age_18b",l[0])),n&2&&(i.maskRange=Ue(l[1])),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function ai(a){let e,t=Se.nodata+"",l;return{c(){e=w("span"),l=K(t),this.h()},l(n){e=E(n,"SPAN",{class:!0});var i=z(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-uj0r62")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function si(a){let e,t=Se.nodata+"",l;return{c(){e=w("span"),l=K(t),this.h()},l(n){e=E(n,"SPAN",{class:!0});var i=z(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-uj0r62")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function oi(a){let e,t,l,n;const i=[si,ai,ii],s=[];function f(o,r){return o[0].selected.residents.resident_age_18b.values==="blocked"?0:o[0].selected.residents.resident_age_18b.values.percent[0]==null?1:2}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let c=e;e=f(o),e===c?s[e].p(o,r):(ne(),N(s[c],1,1,()=>{s[c]=null}),ie(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),T(t,1),t.m(l.parentNode,l))},i(o){n||(T(t),n=!0)},o(o){N(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function fi(a){let e,t;return e=new ge({props:{title:"Age profile",$$slots:{default:[oi]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,[n]){const i={};n&7&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function ri(a,e,t){let{data:l}=e,{selected:n}=e;return a.$$set=i=>{"data"in i&&t(0,l=i.data),"selected"in i&&t(1,n=i.selected)},[l,n]}class ci extends Q{constructor(e){super();$(this,e,ri,fi,x,{data:0,selected:1})}}be.disable_scroll_handling;const ui=be.goto;be.invalidate;be.prefetch;be.prefetch_routes;be.before_navigate;const hi=be.after_navigate;function Sl(a,e,t){const l=a.slice();return l[2]=e[t],l}function _i(a){let e=a[2].label+"",t;return{c(){t=K(e)},l(l){t=M(l,e)},m(l,n){p(l,t,n)},p(l,n){n&1&&e!==(e=l[2].label+"")&&W(t,e)},d(l){l&&_(t)}}}function di(a){let e,t=a[2].label+"",l,n;return{c(){e=w("a"),l=K(t),this.h()},l(i){e=E(i,"A",{class:!0,href:!0});var s=z(e);l=M(s,t),s.forEach(_),this.h()},h(){k(e,"class","breadcrumb__link"),k(e,"href",n=a[2].url)},m(i,s){p(i,e,s),v(e,l)},p(i,s){s&1&&t!==(t=i[2].label+"")&&W(l,t),s&1&&n!==(n=i[2].url)&&k(e,"href",n)},d(i){i&&_(e)}}}function Il(a){let e,t;function l(s,f){return s[2].url?di:_i}let n=l(a),i=n(a);return{c(){e=w("li"),i.c(),t=V(),this.h()},l(s){e=E(s,"LI",{class:!0});var f=z(e);i.l(f),t=j(f),f.forEach(_),this.h()},h(){k(e,"class","breadcrumb__item")},m(s,f){p(s,e,f),i.m(e,null),v(e,t)},p(s,f){n===(n=l(s))&&i?i.p(s,f):(i.d(1),i=n(s),i&&(i.c(),i.m(e,t)))},d(s){s&&_(e),i.d()}}}function mi(a){let e,t,l,n,i,s,f,o,r=a[0],c=[];for(let d=0;d<r.length;d+=1)c[d]=Il(Sl(a,r,d));return{c(){e=w("nav"),t=w("div"),l=w("ol"),n=w("li"),i=w("a"),s=K("Home"),f=V();for(let d=0;d<c.length;d+=1)c[d].c();this.h()},l(d){e=E(d,"NAV",{"aria-label":!0});var u=z(e);t=E(u,"DIV",{class:!0});var h=z(t);l=E(h,"OL",{class:!0});var b=z(l);n=E(b,"LI",{class:!0});var m=z(n);i=E(m,"A",{class:!0,href:!0});var C=z(i);s=M(C,"Home"),C.forEach(_),m.forEach(_),f=j(b);for(let g=0;g<c.length;g+=1)c[g].l(b);b.forEach(_),h.forEach(_),u.forEach(_),this.h()},h(){k(i,"class","breadcrumb__link"),k(i,"href","/"),k(n,"class","breadcrumb__item"),k(l,"class","breadcrumb__list"),k(t,"class",o=(a[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide"),k(e,"aria-label","Breadcrumbs")},m(d,u){p(d,e,u),v(e,t),v(t,l),v(l,n),v(n,i),v(i,s),v(l,f);for(let h=0;h<c.length;h+=1)c[h].m(l,null)},p(d,[u]){if(u&1){r=d[0];let h;for(h=0;h<r.length;h+=1){const b=Sl(d,r,h);c[h]?c[h].p(b,u):(c[h]=Il(b),c[h].c(),c[h].m(l,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=r.length}u&2&&o!==(o=(d[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide")&&k(t,"class",o)},i:U,o:U,d(d){d&&_(e),te(c,d)}}}function gi(a,e,t){let{links:l=[]}=e,{mode:n="neutral"}=e;return a.$$set=i=>{"links"in i&&t(0,l=i.links),"mode"in i&&t(1,n=i.mode)},[l,n]}class bi extends Q{constructor(e){super();$(this,e,gi,mi,x,{links:0,mode:1})}}function Tl(a,e,t){const l=a.slice();return l[2]=e[t],l}function Pl(a){let e,t,l=a[2].label+"",n,i,s,f;return{c(){e=w("li"),t=w("a"),n=K(l),f=V(),this.h()},l(o){e=E(o,"LI",{});var r=z(e);t=E(r,"A",{href:!0,"data-gtm-title":!0,"data-gtm-type":!0});var c=z(t);n=M(c,l),c.forEach(_),f=j(r),r.forEach(_),this.h()},h(){k(t,"href",i=a[2].url),k(t,"data-gtm-title",s=a[2].label),k(t,"data-gtm-type","highlighted-links")},m(o,r){p(o,e,r),v(e,t),v(t,n),v(e,f)},p(o,r){r&2&&l!==(l=o[2].label+"")&&W(n,l),r&2&&i!==(i=o[2].url)&&k(t,"href",i),r&2&&s!==(s=o[2].label)&&k(t,"data-gtm-title",s)},d(o){o&&_(e)}}}function vi(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=Pl(Tl(a,s,o));return{c(){e=w("div"),t=w("h2"),l=K(a[0]),n=V(),i=w("ul");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=E(o,"DIV",{class:!0});var r=z(e);t=E(r,"H2",{class:!0});var c=z(t);l=M(c,a[0]),c.forEach(_),n=j(r),i=E(r,"UL",{class:!0});var d=z(i);for(let u=0;u<f.length;u+=1)f[u].l(d);d.forEach(_),r.forEach(_),this.h()},h(){k(t,"class","margin-top-lg--1"),k(i,"class","list--neutral margin-top--negative-one-fix"),k(e,"class","nav-secondary--border-left-lg col col--md-47 col--lg-19 col--lg-offset-2 padding-left margin-top-lg--3")},m(o,r){p(o,e,r),v(e,t),v(t,l),v(e,n),v(e,i);for(let c=0;c<f.length;c+=1)f[c].m(i,null)},p(o,[r]){if(r&1&&W(l,o[0]),r&2){s=o[1];let c;for(c=0;c<s.length;c+=1){const d=Tl(o,s,c);f[c]?f[c].p(d,r):(f[c]=Pl(d),f[c].c(),f[c].m(i,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=s.length}},i:U,o:U,d(o){o&&_(e),te(f,o)}}}function ki(a,e,t){let{title:l="Highlighted content"}=e,{links:n=[]}=e;return a.$$set=i=>{"title"in i&&t(0,l=i.title),"links"in i&&t(1,n=i.links)},[l,n]}class pi extends Q{constructor(e){super();$(this,e,ki,vi,x,{title:0,links:1})}}function Vl(a,e,t){const l=a.slice();return l[2]=e[t],l}function wi(a){let e,t=a[2].label+"",l;return{c(){e=w("li"),l=K(t),this.h()},l(n){e=E(n,"LI",{class:!0,"aria-current":!0});var i=z(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","ons-list__item svelte-1dyzlhu"),k(e,"aria-current","true")},m(n,i){p(n,e,i),v(e,l)},p(n,i){i&2&&t!==(t=n[2].label+"")&&W(l,t)},d(n){n&&_(e)}}}function Ei(a){let e,t,l=a[2].label+"",n,i,s;return{c(){e=w("li"),t=w("a"),n=K(l),s=V(),this.h()},l(f){e=E(f,"LI",{class:!0});var o=z(e);t=E(o,"A",{href:!0,class:!0});var r=z(t);n=M(r,l),r.forEach(_),s=j(o),o.forEach(_),this.h()},h(){k(t,"href",i=a[2].url),k(t,"class","ons-list__link"),k(e,"class","ons-list__item svelte-1dyzlhu")},m(f,o){p(f,e,o),v(e,t),v(t,n),v(e,s)},p(f,o){o&2&&l!==(l=f[2].label+"")&&W(n,l),o&2&&i!==(i=f[2].url)&&k(t,"href",i)},d(f){f&&_(e)}}}function jl(a){let e;function t(i,s){return i[2].url?Ei:wi}let l=t(a),n=l(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&_(e)}}}function yi(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=jl(Vl(a,s,o));return{c(){e=w("nav"),t=w("h2"),l=K(a[0]),n=V(),i=w("ol");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=E(o,"NAV",{class:!0,"aria-label":!0});var r=z(e);t=E(r,"H2",{class:!0});var c=z(t);l=M(c,a[0]),c.forEach(_),n=j(r),i=E(r,"OL",{class:!0});var d=z(i);for(let u=0;u<f.length;u+=1)f[u].l(d);d.forEach(_),r.forEach(_),this.h()},h(){k(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s svelte-1dyzlhu"),k(i,"class","ons-list ons-u-mb-m ons-list--dashed svelte-1dyzlhu"),k(e,"class","ons-toc svelte-1dyzlhu"),k(e,"aria-label","Pages in this guide")},m(o,r){p(o,e,r),v(e,t),v(t,l),v(e,n),v(e,i);for(let c=0;c<f.length;c+=1)f[c].m(i,null)},p(o,[r]){if(r&1&&W(l,o[0]),r&2){s=o[1];let c;for(c=0;c<s.length;c+=1){const d=Vl(o,s,c);f[c]?f[c].p(d,r):(f[c]=jl(d),f[c].c(),f[c].m(i,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=s.length}},i:U,o:U,d(o){o&&_(e),te(f,o)}}}function Ci(a,e,t){let{label:l="Contents"}=e,{links:n=[]}=e;return a.$$set=i=>{"label"in i&&t(0,l=i.label),"links"in i&&t(1,n=i.links)},[l,n]}class zi extends Q{constructor(e){super();$(this,e,Ci,yi,x,{label:0,links:1})}}function Di(a){let e,t,l,n,i,s,f,o,r;return{c(){e=w("div"),t=w("div"),l=w("dl"),n=w("div"),i=w("dt"),s=K(a[1]),f=K(":"),o=V(),r=w("dd"),this.h()},l(c){e=E(c,"DIV",{class:!0});var d=z(e);t=E(d,"DIV",{class:!0});var u=z(t);l=E(u,"DL",{class:!0});var h=z(l);n=E(h,"DIV",{class:!0});var b=z(n);i=E(b,"DT",{class:!0});var m=z(i);s=M(m,a[1]),f=M(m,":"),m.forEach(_),o=j(b),r=E(b,"DD",{class:!0});var C=z(r);C.forEach(_),b.forEach(_),h.forEach(_),u.forEach(_),d.forEach(_),this.h()},h(){k(i,"class","meta__term inline"),k(r,"class","inline"),k(n,"class","col padding-left--0 meta__item meta__item--no-border"),k(l,"class","col-wrap"),k(t,"class","wrapper"),k(e,"class","meta-wrap--thin"),ae(e,"meta-wrap",a[0]=="grey")},m(c,d){p(c,e,d),v(e,t),v(t,l),v(l,n),v(n,i),v(i,s),v(i,f),v(n,o),v(n,r),r.innerHTML=a[2]},p(c,[d]){d&2&&W(s,c[1]),d&4&&(r.innerHTML=c[2]),d&1&&ae(e,"meta-wrap",c[0]=="grey")},i:U,o:U,d(c){c&&_(e)}}}function Si(a,e,t){let{background:l="grey"}=e,{label:n="Last updated"}=e,{value:i="date"}=e;return a.$$set=s=>{"background"in s&&t(0,l=s.background),"label"in s&&t(1,n=s.label),"value"in s&&t(2,i=s.value)},[l,n,i]}class Ii extends Q{constructor(e){super();$(this,e,Si,Di,x,{background:0,label:1,value:2})}}const Ti=a=>({}),Nl=a=>({});function Al(a){let e,t;return e=new bi({props:{links:a[2],mode:a[0]}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&4&&(i.links=l[2]),n&1&&(i.mode=l[0]),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Ll(a){let e,t;return{c(){e=w("p"),t=K(a[6]),this.h()},l(l){e=E(l,"P",{class:!0});var n=z(e);t=M(n,a[6]),n.forEach(_),this.h()},h(){k(e,"class","page-neutral-intro__meta margin-top--0 margin-bottom--3")},m(l,n){p(l,e,n),v(e,t)},p(l,n){n&64&&W(t,l[6])},d(l){l&&_(e)}}}function Kl(a){let e,t;return e=new zi({props:{links:a[3],label:"Contents"}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&8&&(i.links=l[3]),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Ml(a){let e,t;return e=new pi({props:{links:a[4]}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&16&&(i.links=l[4]),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Bl(a){let e,t;return e=new Ii({props:{label:"Last updated",value:a[5],background:a[1]}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&32&&(i.value=l[5]),n&2&&(i.background=l[1]),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Fl(a){let e,t,l,n;return{c(){e=w("div"),t=w("div"),l=w("div"),n=w("hr"),this.h()},l(i){e=E(i,"DIV",{class:!0});var s=z(e);t=E(s,"DIV",{class:!0});var f=z(t);l=E(f,"DIV",{class:!0});var o=z(l);n=E(o,"HR",{style:!0}),o.forEach(_),f.forEach(_),s.forEach(_),this.h()},h(){S(n,"border","0"),S(n,"height","0"),S(n,"border-top","1px solid #808080"),k(l,"class","col"),k(t,"class","col-wrap"),k(e,"class","wrapper")},m(i,s){p(i,e,s),v(e,t),v(t,l),v(l,n)},d(i){i&&_(e)}}}function Pi(a){let e,t,l,n,i,s,f,o,r,c,d,u,h,b,m=a[2]&&Al(a);const C=a[8].default,g=fe(C,a,a[7],null);let y=a[6]&&Ll(a),L=a[3]&&Kl(a),I=a[4]&&Ml(a);const A=a[8].meta,D=fe(A,a,a[7],Nl);let F=a[5]&&Bl(a),H=a[1]=="none"&&Fl();return{c(){e=w("div"),t=w("div"),l=w("div"),n=w("div"),m&&m.c(),i=V(),s=w("div"),g&&g.c(),f=V(),y&&y.c(),o=V(),L&&L.c(),r=V(),I&&I.c(),c=V(),D&&D.c(),d=V(),F&&F.c(),u=V(),H&&H.c(),this.h()},l(P){e=E(P,"DIV",{class:!0});var O=z(e);t=E(O,"DIV",{class:!0});var Y=z(t);l=E(Y,"DIV",{class:!0});var q=z(l);n=E(q,"DIV",{class:!0});var ee=z(n);m&&m.l(ee),i=j(ee),s=E(ee,"DIV",{class:!0});var oe=z(s);g&&g.l(oe),f=j(oe),y&&y.l(oe),o=j(oe),L&&L.l(oe),oe.forEach(_),r=j(ee),I&&I.l(ee),ee.forEach(_),q.forEach(_),Y.forEach(_),c=j(O),D&&D.l(O),d=j(O),F&&F.l(O),u=j(O),H&&H.l(O),O.forEach(_),this.h()},h(){k(s,"class","col col--md-47"),ae(s,"col--lg-38",a[4]),ae(s,"col--lg-48",!a[4]),k(n,"class","col"),k(l,"class","col-wrap"),k(t,"class","wrapper"),k(e,"class",h="page-neutral-intro "+(a[1]=="grey"?"background--gallery":""))},m(P,O){p(P,e,O),v(e,t),v(t,l),v(l,n),m&&m.m(n,null),v(n,i),v(n,s),g&&g.m(s,null),v(s,f),y&&y.m(s,null),v(s,o),L&&L.m(s,null),v(n,r),I&&I.m(n,null),v(e,c),D&&D.m(e,null),v(e,d),F&&F.m(e,null),v(e,u),H&&H.m(e,null),b=!0},p(P,[O]){P[2]?m?(m.p(P,O),O&4&&T(m,1)):(m=Al(P),m.c(),T(m,1),m.m(n,i)):m&&(ne(),N(m,1,1,()=>{m=null}),ie()),g&&g.p&&(!b||O&128)&&re(g,C,P,P[7],b?ue(C,P[7],O,null):ce(P[7]),null),P[6]?y?y.p(P,O):(y=Ll(P),y.c(),y.m(s,o)):y&&(y.d(1),y=null),P[3]?L?(L.p(P,O),O&8&&T(L,1)):(L=Kl(P),L.c(),T(L,1),L.m(s,null)):L&&(ne(),N(L,1,1,()=>{L=null}),ie()),O&16&&ae(s,"col--lg-38",P[4]),O&16&&ae(s,"col--lg-48",!P[4]),P[4]?I?(I.p(P,O),O&16&&T(I,1)):(I=Ml(P),I.c(),T(I,1),I.m(n,null)):I&&(ne(),N(I,1,1,()=>{I=null}),ie()),D&&D.p&&(!b||O&128)&&re(D,A,P,P[7],b?ue(A,P[7],O,Ti):ce(P[7]),Nl),P[5]?F?(F.p(P,O),O&32&&T(F,1)):(F=Bl(P),F.c(),T(F,1),F.m(e,u)):F&&(ne(),N(F,1,1,()=>{F=null}),ie()),P[1]=="none"?H||(H=Fl(),H.c(),H.m(e,null)):H&&(H.d(1),H=null),(!b||O&2&&h!==(h="page-neutral-intro "+(P[1]=="grey"?"background--gallery":"")))&&k(e,"class",h)},i(P){b||(T(m),T(g,P),T(L),T(I),T(D,P),T(F),b=!0)},o(P){N(m),N(g,P),N(L),N(I),N(D,P),N(F),b=!1},d(P){P&&_(e),m&&m.d(),g&&g.d(P),y&&y.d(),L&&L.d(),I&&I.d(),D&&D.d(P),F&&F.d(),H&&H.d()}}}function Vi(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i="neutral"}=e,{background:s="grey"}=e,{breadcrumb:f=null}=e,{contents:o=null}=e,{highlighted:r=null}=e,{updated:c=null}=e,{date:d=null}=e;return ke("mode",i),ke("background",s),a.$$set=u=>{"mode"in u&&t(0,i=u.mode),"background"in u&&t(1,s=u.background),"breadcrumb"in u&&t(2,f=u.breadcrumb),"contents"in u&&t(3,o=u.contents),"highlighted"in u&&t(4,r=u.highlighted),"updated"in u&&t(5,c=u.updated),"date"in u&&t(6,d=u.date),"$$scope"in u&&t(7,n=u.$$scope)},[i,s,f,o,r,c,d,n,l]}class ji extends Q{constructor(e){super();$(this,e,Vi,Pi,x,{mode:0,background:1,breadcrumb:2,contents:3,highlighted:4,updated:5,date:6})}}function Ni(a){let e,t,l;const n=a[2].default,i=fe(n,a,a[1],null);return{c(){e=w("h1"),i&&i.c(),this.h()},l(s){e=E(s,"H1",{class:!0});var f=z(e);i&&i.l(f),f.forEach(_),this.h()},h(){k(e,"class",t=a[0]=="neutral"?"page-neutral-intro__title":"page-intro__title")},m(s,f){p(s,e,f),i&&i.m(e,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&2)&&re(i,n,s,s[1],l?ue(n,s[1],f,null):ce(s[1]),null),(!l||f&1&&t!==(t=s[0]=="neutral"?"page-neutral-intro__title":"page-intro__title"))&&k(e,"class",t)},i(s){l||(T(i,s),l=!0)},o(s){N(i,s),l=!1},d(s){s&&_(e),i&&i.d(s)}}}function Ai(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i=Ce("mode")}=e;return a.$$set=s=>{"mode"in s&&t(0,i=s.mode),"$$scope"in s&&t(1,n=s.$$scope)},[i,n,l]}class Li extends Q{constructor(e){super();$(this,e,Ai,Ni,x,{mode:0})}}function Ol(a,e,t){const l=a.slice();return l[14]=e[t],l}function Hl(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Rl(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Wl(a,e,t){const l=a.slice();return l[14]=e[t],l[19]=t,l}function Ul(a){let e,t=a[8],l=[];for(let n=0;n<t.length;n+=1)l[n]=ql(Wl(a,t,n));return{c(){e=w("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=E(n,"UL",{class:!0});var i=z(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){k(e,"class","legend-block svelte-1sx4bpf")},m(n,i){p(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&288){t=n[8];let s;for(s=0;s<t.length;s+=1){const f=Wl(n,t,s);l[s]?l[s].p(f,i):(l[s]=ql(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),te(l,n)}}}function ql(a){let e,t,l,n,i=a[14]+"",s,f,o;return{c(){e=w("li"),t=w("div"),l=V(),n=w("span"),s=K(i),o=V(),this.h()},l(r){e=E(r,"LI",{class:!0});var c=z(e);t=E(c,"DIV",{class:!0}),z(t).forEach(_),l=j(c),n=E(c,"SPAN",{class:!0});var d=z(n);s=M(d,i),d.forEach(_),o=j(c),c.forEach(_),this.h()},h(){k(t,"class","legend-vis "+(a[19]==0?"bar":"marker")+" svelte-1sx4bpf"),S(t,"height","1rem",!1),S(t,"width",a[19]==0?"1rem":a[5]+"px",!1),k(n,"class",f=ye(a[19]==0?"bold":"brackets")+" svelte-1sx4bpf"),k(e,"class","svelte-1sx4bpf"),ae(e,"ew",a[19]!=0)},m(r,c){p(r,e,c),v(e,t),v(e,l),v(e,n),v(n,s),v(e,o)},p(r,c){c&32&&S(t,"width",r[19]==0?"1rem":r[5]+"px",!1),c&256&&i!==(i=r[14]+"")&&W(s,i)},d(r){r&&_(e)}}}function Gl(a){let e,t=a[1](a[17][a[0]])+"",l,n,i;return{c(){e=w("span"),l=K(t),n=K(a[2]),this.h()},l(s){e=E(s,"SPAN",{class:!0});var f=z(e);l=M(f,t),n=M(f,a[2]),f.forEach(_),this.h()},h(){k(e,"class",i="label "+(a[19]==0?"bold":"sml brackets")+" svelte-1sx4bpf")},m(s,f){p(s,e,f),v(e,l),v(e,n)},p(s,f){f&67&&t!==(t=s[1](s[17][s[0]])+"")&&W(l,t),f&4&&W(n,s[2])},d(s){s&&_(e)}}}function Ki(a){let e,t=`calc(${a[7](a[17][a[0]])}% - ${a[5]/2}px)`,l=`${a[5]}px`;return{c(){e=w("div"),this.h()},l(n){e=E(n,"DIV",{class:!0}),z(e).forEach(_),this.h()},h(){k(e,"class","marker svelte-1sx4bpf"),S(e,"left",t,!1),S(e,"border-left-width",l,!1)},m(n,i){p(n,e,i)},p(n,i){i&225&&t!==(t=`calc(${n[7](n[17][n[0]])}% - ${n[5]/2}px)`)&&S(e,"left",t,!1),i&32&&l!==(l=`${n[5]}px`)&&S(e,"border-left-width",l,!1)},d(n){n&&_(e)}}}function Mi(a){let e,t=`${a[7](a[17][a[0]])}%`;return{c(){e=w("div"),this.h()},l(l){e=E(l,"DIV",{class:!0}),z(e).forEach(_),this.h()},h(){k(e,"class","bar svelte-1sx4bpf"),S(e,"left","0",!1),S(e,"width",t,!1)},m(l,n){p(l,e,n)},p(l,n){n&193&&t!==(t=`${l[7](l[17][l[0]])}%`)&&S(e,"width",t,!1)},d(l){l&&_(e)}}}function Zl(a){let e;function t(i,s){return i[19]==0?Mi:Ki}let n=t(a)(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){n.p(i,s)},d(i){n.d(i),i&&_(e)}}}function Xl(a){let e,t=a[14].label+"",l,n,i,s,f,o=`${a[4]}px`,r=a[14].values,c=[];for(let h=0;h<r.length;h+=1)c[h]=Gl(Rl(a,r,h));let d=a[14].values,u=[];for(let h=0;h<d.length;h+=1)u[h]=Zl(Hl(a,d,h));return{c(){e=w("div"),l=K(t),n=V(),i=w("span");for(let h=0;h<c.length;h+=1)c[h].c();s=V(),f=w("div");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=E(h,"DIV",{class:!0});var b=z(e);l=M(b,t),n=j(b),i=E(b,"SPAN",{class:!0});var m=z(i);for(let g=0;g<c.length;g+=1)c[g].l(m);m.forEach(_),b.forEach(_),s=j(h),f=E(h,"DIV",{class:!0});var C=z(f);for(let g=0;g<u.length;g+=1)u[g].l(C);C.forEach(_),this.h()},h(){k(i,"class","nowrap svelte-1sx4bpf"),k(e,"class","label-group svelte-1sx4bpf"),k(f,"class","bar-group svelte-1sx4bpf"),S(f,"height",o,!1)},m(h,b){p(h,e,b),v(e,l),v(e,n),v(e,i);for(let m=0;m<c.length;m+=1)c[m].m(i,null);p(h,s,b),p(h,f,b);for(let m=0;m<u.length;m+=1)u[m].m(f,null)},p(h,b){if(b&64&&t!==(t=h[14].label+"")&&W(l,t),b&71){r=h[14].values;let m;for(m=0;m<r.length;m+=1){const C=Rl(h,r,m);c[m]?c[m].p(C,b):(c[m]=Gl(C),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}if(b&225){d=h[14].values;let m;for(m=0;m<d.length;m+=1){const C=Hl(h,d,m);u[m]?u[m].p(C,b):(u[m]=Zl(C),u[m].c(),u[m].m(f,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=d.length}b&16&&o!==(o=`${h[4]}px`)&&S(f,"height",o,!1)},d(h){h&&_(e),te(c,h),h&&_(s),h&&_(f),te(u,h)}}}function Jl(a){let e,t;return{c(){e=w("small"),t=K(a[3]),this.h()},l(l){e=E(l,"SMALL",{class:!0});var n=z(e);t=M(n,a[3]),n.forEach(_),this.h()},h(){k(e,"class","svelte-1sx4bpf")},m(l,n){p(l,e,n),v(e,t)},p(l,n){n&8&&W(t,l[3])},d(l){l&&_(e)}}}function Bi(a){let e,t,l,n=a[8][1]&&Ul(a),i=a[6],s=[];for(let o=0;o<i.length;o+=1)s[o]=Xl(Ol(a,i,o));let f=a[3]&&Jl(a);return{c(){n&&n.c(),e=V();for(let o=0;o<s.length;o+=1)s[o].c();t=V(),f&&f.c(),l=R()},l(o){n&&n.l(o),e=j(o);for(let r=0;r<s.length;r+=1)s[r].l(o);t=j(o),f&&f.l(o),l=R()},m(o,r){n&&n.m(o,r),p(o,e,r);for(let c=0;c<s.length;c+=1)s[c].m(o,r);p(o,t,r),f&&f.m(o,r),p(o,l,r)},p(o,[r]){if(o[8][1]?n?n.p(o,r):(n=Ul(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),r&247){i=o[6];let c;for(c=0;c<i.length;c+=1){const d=Ol(o,i,c);s[c]?s[c].p(d,r):(s[c]=Xl(d),s[c].c(),s[c].m(t.parentNode,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=i.length}o[3]?f?f.p(o,r):(f=Jl(o),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null)},i:U,o:U,d(o){n&&n.d(o),o&&_(e),te(s,o),o&&_(t),f&&f.d(o),o&&_(l)}}}function Fi(a,e,t){let l,n,i,s,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:c="areanm"}=e,{formatTick:d=g=>g.toFixed(1)}=e,{suffix:u="%"}=e,{base:h=null}=e,{barHeight:b=25}=e,{markerWidth:m=3}=e;function C(g,y){let L={},I=[];for(const D of g)L[D[y]]||(L[D[y]]={label:D[y],values:[]},I.push(D[y])),L[D[y]].values.push(D);let A=[];return I.forEach(D=>{A.push(L[D])}),A}return a.$$set=g=>{"data"in g&&t(9,f=g.data),"xKey"in g&&t(0,o=g.xKey),"yKey"in g&&t(10,r=g.yKey),"zKey"in g&&t(11,c=g.zKey),"formatTick"in g&&t(1,d=g.formatTick),"suffix"in g&&t(2,u=g.suffix),"base"in g&&t(3,h=g.base),"barHeight"in g&&t(4,b=g.barHeight),"markerWidth"in g&&t(5,m=g.markerWidth)},a.$$.update=()=>{a.$$.dirty&513&&t(12,l=Math.max(...f.map(g=>g[o]))),a.$$.dirty&2560&&t(8,n=f.map(g=>g[c]).filter((g,y,L)=>L.indexOf(g)===y)),a.$$.dirty&4096&&t(7,i=g=>g/l*100),a.$$.dirty&1536&&t(6,s=C(f,r))},[o,d,u,h,b,m,s,i,n,f,r,c,l]}class Yl extends Q{constructor(e){super();$(this,e,Fi,Bi,x,{data:9,xKey:0,yKey:10,zKey:11,formatTick:1,suffix:2,base:3,barHeight:4,markerWidth:5})}}function Ql(a,e,t){const l=a.slice();return l[14]=e[t],l}function $l(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function xl(a,e,t){const l=a.slice();return l[14]=e[t],l[19]=t,l}function et(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=lt(xl(a,t,n));return{c(){e=w("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=E(n,"UL",{class:!0});var i=z(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){k(e,"class","legend-block svelte-7hzvwr")},m(n,i){p(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&128){t=n[7];let s;for(s=0;s<t.length;s+=1){const f=xl(n,t,s);l[s]?l[s].p(f,i):(l[s]=lt(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),te(l,n)}}}function lt(a){let e,t,l,n,i=a[14]+"",s,f;return{c(){e=w("li"),t=w("div"),l=V(),n=w("span"),s=K(i),f=V(),this.h()},l(o){e=E(o,"LI",{class:!0});var r=z(e);t=E(r,"DIV",{class:!0}),z(t).forEach(_),l=j(r),n=E(r,"SPAN",{class:!0});var c=z(n);s=M(c,i),c.forEach(_),f=j(r),r.forEach(_),this.h()},h(){k(t,"class","legend-vis "+(a[19]==0?"bar":"bar2")+" svelte-7hzvwr"),k(n,"class","svelte-7hzvwr"),ae(n,"bold",a[19]==0),k(e,"class","svelte-7hzvwr")},m(o,r){p(o,e,r),v(e,t),v(e,l),v(e,n),v(n,s),v(e,f)},p(o,r){r&128&&i!==(i=o[14]+"")&&W(s,i)},d(o){o&&_(e)}}}function tt(a){let e,t=`${a[6](a[17][a[0]])}%`,l,n,i=a[1](a[17][a[0]])+"",s,f,o=`calc(${a[6](a[17][a[0]])}% + 2px)`;return{c(){e=w("div"),l=V(),n=w("div"),s=K(i),f=K(a[2]),this.h()},l(r){e=E(r,"DIV",{class:!0}),z(e).forEach(_),l=j(r),n=E(r,"DIV",{class:!0});var c=z(n);s=M(c,i),f=M(c,a[2]),c.forEach(_),this.h()},h(){k(e,"class",ye(a[19]==0?"bar":"bar2")+" svelte-7hzvwr"),S(e,"left","0",!1),S(e,"width",t,!1),S(e,"top",a[19]==0?"0":"50%",!1),S(e,"height",a[7][1]?"50%":"100%",!1),k(n,"class","label svelte-7hzvwr"),ae(n,"bold",a[19]==0),S(n,"left",o,!1),S(n,"top",a[19]==0?"0":"50%",!1),S(n,"height","50%",!1)},m(r,c){p(r,e,c),p(r,l,c),p(r,n,c),v(n,s),v(n,f)},p(r,c){c&97&&t!==(t=`${r[6](r[17][r[0]])}%`)&&S(e,"width",t,!1),c&128&&S(e,"height",r[7][1]?"50%":"100%",!1),c&35&&i!==(i=r[1](r[17][r[0]])+"")&&W(s,i),c&4&&W(f,r[2]),c&97&&o!==(o=`calc(${r[6](r[17][r[0]])}% + 2px)`)&&S(n,"left",o,!1)},d(r){r&&_(e),r&&_(l),r&&_(n)}}}function nt(a){let e,t=a[14].label+"",l,n,i,s,f=`${a[7][1]?a[3]*2:a[3]}px`,o=`calc(100% - ${a[4]}px)`,r=a[14].values,c=[];for(let d=0;d<r.length;d+=1)c[d]=tt($l(a,r,d));return{c(){e=w("div"),l=K(t),n=V(),i=w("div");for(let d=0;d<c.length;d+=1)c[d].c();s=V(),this.h()},l(d){e=E(d,"DIV",{class:!0});var u=z(e);l=M(u,t),u.forEach(_),n=j(d),i=E(d,"DIV",{class:!0});var h=z(i);for(let b=0;b<c.length;b+=1)c[b].l(h);s=j(h),h.forEach(_),this.h()},h(){k(e,"class","label-group svelte-7hzvwr"),k(i,"class","bar-group svelte-7hzvwr"),S(i,"height",f,!1),S(i,"width",o,!1)},m(d,u){p(d,e,u),v(e,l),p(d,n,u),p(d,i,u);for(let h=0;h<c.length;h+=1)c[h].m(i,null);v(i,s)},p(d,u){if(u&32&&t!==(t=d[14].label+"")&&W(l,t),u&231){r=d[14].values;let h;for(h=0;h<r.length;h+=1){const b=$l(d,r,h);c[h]?c[h].p(b,u):(c[h]=tt(b),c[h].c(),c[h].m(i,s))}for(;h<c.length;h+=1)c[h].d(1);c.length=r.length}u&136&&f!==(f=`${d[7][1]?d[3]*2:d[3]}px`)&&S(i,"height",f,!1),u&16&&o!==(o=`calc(100% - ${d[4]}px)`)&&S(i,"width",o,!1)},d(d){d&&_(e),d&&_(n),d&&_(i),te(c,d)}}}function Oi(a){let e,t,l=a[7][1]&&et(a),n=a[5],i=[];for(let s=0;s<n.length;s+=1)i[s]=nt(Ql(a,n,s));return{c(){l&&l.c(),e=V();for(let s=0;s<i.length;s+=1)i[s].c();t=R()},l(s){l&&l.l(s),e=j(s);for(let f=0;f<i.length;f+=1)i[f].l(s);t=R()},m(s,f){l&&l.m(s,f),p(s,e,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);p(s,t,f)},p(s,[f]){if(s[7][1]?l?l.p(s,f):(l=et(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&255){n=s[5];let o;for(o=0;o<n.length;o+=1){const r=Ql(s,n,o);i[o]?i[o].p(r,f):(i[o]=nt(r),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:U,o:U,d(s){l&&l.d(s),s&&_(e),te(i,s),s&&_(t)}}}function Hi(a,e,t){let l,n,i,s,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:c="group"}=e,{formatTick:d=C=>Math.round(C)}=e,{suffix:u="%"}=e,{barHeight:h=20}=e,{margin:b=30}=e;function m(C,g){let y={};for(const I of C)y[I[g]]||(y[I[g]]={label:I[g],values:[]}),y[I[g]].values.push(I);let L=[];for(const I in y)L.push(y[I]);return L}return a.$$set=C=>{"data"in C&&t(8,f=C.data),"xKey"in C&&t(0,o=C.xKey),"yKey"in C&&t(9,r=C.yKey),"zKey"in C&&t(10,c=C.zKey),"formatTick"in C&&t(1,d=C.formatTick),"suffix"in C&&t(2,u=C.suffix),"barHeight"in C&&t(3,h=C.barHeight),"margin"in C&&t(4,b=C.margin)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...f.map(C=>C[o]))]),a.$$.dirty&768&&f.map(C=>C[r]).filter((C,g,y)=>y.indexOf(C)===g),a.$$.dirty&1280&&t(7,n=f.map(C=>C[c]).filter((C,g,y)=>y.indexOf(C)===g)),a.$$.dirty&2048&&t(6,i=C=>C/l[1]*100),a.$$.dirty&768&&t(5,s=m(f,r))},[o,d,u,h,b,s,i,n,f,r,c,l]}class Ri extends Q{constructor(e){super();$(this,e,Hi,Oi,x,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,margin:4})}}function Wi(a){let e,t,l;const n=a[1].default,i=fe(n,a,a[0],null);return{c(){e=w("div"),t=w("div"),i&&i.c(),this.h()},l(s){e=E(s,"DIV",{class:!0});var f=z(e);t=E(f,"DIV",{class:!0});var o=z(t);i&&i.l(o),o.forEach(_),f.forEach(_),this.h()},h(){k(t,"class","wrapper"),k(e,"class","page-content")},m(s,f){p(s,e,f),v(e,t),i&&i.m(t,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&1)&&re(i,n,s,s[0],l?ue(n,s[0],f,null):ce(s[0]),null)},i(s){l||(T(i,s),l=!0)},o(s){N(i,s),l=!1},d(s){s&&_(e),i&&i.d(s)}}}function Ui(a,e,t){let{$$slots:l={},$$scope:n}=e;return a.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,l]}class qi extends Q{constructor(e){super();$(this,e,Ui,Wi,x,{})}}function it(a,e,t){const l=a.slice();return l[12]=e[t],l[16]=t,l}function at(a,e,t){const l=a.slice();return l[12]=e[t],l}function Gi(a){let e,t=a[1],l=[];for(let n=0;n<t.length;n+=1)l[n]=ot(it(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&350){t=n[1];let s;for(s=0;s<t.length;s+=1){const f=it(n,t,s);l[s]?l[s].p(f,i):(l[s]=ot(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){te(l,n),n&&_(e)}}}function Zi(a){let e,t=a[1],l=[];for(let n=0;n<t.length;n+=1)l[n]=rt(at(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&87){t=n[1];let s;for(s=0;s<t.length;s+=1){const f=at(n,t,s);l[s]?l[s].p(f,i):(l[s]=rt(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){te(l,n),n&&_(e)}}}function st(a){let e,t,l,n;function i(){return a[11](a[12])}return{c(){e=w("button"),t=K("Remove"),this.h()},l(s){e=E(s,"BUTTON",{style:!0});var f=z(e);t=M(f,"Remove"),f.forEach(_),this.h()},h(){S(e,"float","right"),e.disabled=a[8]},m(s,f){p(s,e,f),v(e,t),l||(n=De(e,"click",i),l=!0)},p(s,f){a=s,f&256&&(e.disabled=a[8])},d(s){s&&_(e),l=!1,n()}}}function ot(a){let e,t,l,n,i,s,f=a[6](a[12])+"",o,r,c,d=Te(a[12],a[4]),u,h,b;function m(){return a[10](a[12])}let C=d&&st(a);return{c(){e=w("p"),t=w("input"),i=V(),s=w("label"),o=K(f),c=V(),C&&C.c(),u=V(),this.h()},l(g){e=E(g,"P",{class:!0});var y=z(e);t=E(y,"INPUT",{type:!0,id:!0,name:!0,class:!0}),i=j(y),s=E(y,"LABEL",{for:!0,class:!0});var L=z(s);o=M(L,f),L.forEach(_),c=j(y),C&&C.l(y),u=j(y),y.forEach(_),this.h()},h(){k(t,"type","radio"),k(t,"id",l="category-option-"+a[16]),k(t,"name","selected-category"),t.checked=n=Te(a[12],a[4]),t.disabled=a[8],k(t,"class","svelte-nrezem"),k(s,"for",r="category-option-"+a[16]),k(s,"class","svelte-nrezem"),k(e,"class","svelte-nrezem")},m(g,y){p(g,e,y),v(e,t),v(e,i),v(e,s),v(s,o),v(e,c),C&&C.m(e,null),v(e,u),h||(b=De(t,"click",m),h=!0)},p(g,y){a=g,y&18&&n!==(n=Te(a[12],a[4]))&&(t.checked=n),y&256&&(t.disabled=a[8]),y&66&&f!==(f=a[6](a[12])+"")&&W(o,f),y&18&&(d=Te(a[12],a[4])),d?C?C.p(a,y):(C=st(a),C.c(),C.m(e,u)):C&&(C.d(1),C=null)},d(g){g&&_(e),C&&C.d(),h=!1,b()}}}function ft(a){let e,t,l,n,i=Ne(a[12],a[4])+"",s;return{c(){e=w("br"),t=V(),l=w("div"),n=K("Currently selected: "),s=K(i),this.h()},l(f){e=E(f,"BR",{}),t=j(f),l=E(f,"DIV",{class:!0});var o=z(l);n=M(o,"Currently selected: "),s=M(o,i),o.forEach(_),this.h()},h(){k(l,"class","svelte-nrezem")},m(f,o){p(f,e,o),p(f,t,o),p(f,l,o),v(l,n),v(l,s)},p(f,o){o&18&&i!==(i=Ne(f[12],f[4])+"")&&W(s,i)},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function rt(a){let e,t=a[6](a[12])+"",l,n,i,s,f,o=Ne(a[12],a[4]),r,c,d,u=o&&ft(a);function h(){return a[9](a[12])}return{c(){e=w("button"),l=K(t),n=V(),i=w("span"),s=K("\u203A"),f=V(),u&&u.c(),r=V(),this.h()},l(b){e=E(b,"BUTTON",{class:!0});var m=z(e);l=M(m,t),n=j(m),i=E(m,"SPAN",{class:!0});var C=z(i);s=M(C,"\u203A"),C.forEach(_),f=j(m),u&&u.l(m),r=j(m),m.forEach(_),this.h()},h(){k(i,"class","right-chevron svelte-nrezem"),k(e,"class","svelte-nrezem"),ae(e,"plain-button",!0),ae(e,"selected",a[12]===a[0])},m(b,m){p(b,e,m),v(e,l),v(e,n),v(e,i),v(i,s),v(e,f),u&&u.m(e,null),v(e,r),c||(d=De(e,"click",h),c=!0)},p(b,m){a=b,m&66&&t!==(t=a[6](a[12])+"")&&W(l,t),m&18&&(o=Ne(a[12],a[4])),o?u?u.p(a,m):(u=ft(a),u.c(),u.m(e,r)):u&&(u.d(1),u=null),m&3&&ae(e,"selected",a[12]===a[0])},d(b){b&&_(e),u&&u.d(),c=!1,d()}}}function Xi(a){let e,t,l,n;function i(o,r){return o[7]?Zi:Gi}let s=i(a),f=s(a);return{c(){e=w("div"),t=w("h5"),l=K(a[5]),n=V(),f.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var r=z(e);t=E(r,"H5",{class:!0});var c=z(t);l=M(c,a[5]),c.forEach(_),n=j(r),f.l(r),r.forEach(_),this.h()},h(){k(t,"class","column-title svelte-nrezem"),k(e,"class","column svelte-nrezem")},m(o,r){p(o,e,r),v(e,t),v(t,l),v(e,n),f.m(e,null)},p(o,[r]){r&32&&W(l,o[5]),s===(s=i(o))&&f?f.p(o,r):(f.d(1),f=s(o),f&&(f.c(),f.m(e,null)))},i:U,o:U,d(o){o&&_(e),f.d()}}}function ct(a){console.log("clicked",a)}function Ne(a,e){for(let t of e)if(t.topic===a.label)return t.label;return!1}function Te(a,e){for(const t of e)if(t.var===a.var&&t.code===a.code)return console.log(t,a),!0;return console.log("f"),!1}function Ji(a,e,t){let{options:l=[]}=e,{clickCallback:n=ct}=e,{removeCatCallback:i=ct}=e,{globalSelectedCategories:s=[]}=e,{columnTitle:f="column title"}=e,{labeller:o=m=>m.label}=e,{selected:r=null}=e,{hasChildren:c=!0}=e,{disabled:d=!1}=e;const u=m=>{t(0,r=m),n(m)},h=m=>n(m),b=m=>i(m);return a.$$set=m=>{"options"in m&&t(1,l=m.options),"clickCallback"in m&&t(2,n=m.clickCallback),"removeCatCallback"in m&&t(3,i=m.removeCatCallback),"globalSelectedCategories"in m&&t(4,s=m.globalSelectedCategories),"columnTitle"in m&&t(5,f=m.columnTitle),"labeller"in m&&t(6,o=m.labeller),"selected"in m&&t(0,r=m.selected),"hasChildren"in m&&t(7,c=m.hasChildren),"disabled"in m&&t(8,d=m.disabled)},[r,l,n,i,s,f,o,c,d,u,h,b]}class Me extends Q{constructor(e){super();$(this,e,Ji,Xi,x,{options:1,clickCallback:2,removeCatCallback:3,globalSelectedCategories:4,columnTitle:5,labeller:6,selected:0,hasChildren:7,disabled:8})}}function ut(a){let e,t,l,n,i;function s(r){a[10](r)}let f={columnTitle:"Select a classification",labeller:xi,options:a[5].vars};a[6]!==void 0&&(f.selected=a[6]),e=new Me({props:f}),ze.push(()=>Ae(e,"selected",s));let o=a[6]!=null&&ht(a);return{c(){G(e.$$.fragment),l=V(),o&&o.c(),n=R()},l(r){J(e.$$.fragment,r),l=j(r),o&&o.l(r),n=R()},m(r,c){Z(e,r,c),p(r,l,c),o&&o.m(r,c),p(r,n,c),i=!0},p(r,c){const d={};c&32&&(d.options=r[5].vars),!t&&c&64&&(t=!0,d.selected=r[6],Le(()=>t=!1)),e.$set(d),r[6]!=null?o?(o.p(r,c),c&64&&T(o,1)):(o=ht(r),o.c(),T(o,1),o.m(n.parentNode,n)):o&&(ne(),N(o,1,1,()=>{o=null}),ie())},i(r){i||(T(e.$$.fragment,r),T(o),i=!0)},o(r){N(e.$$.fragment,r),N(o),i=!1},d(r){X(e,r),r&&_(l),o&&o.d(r),r&&_(n)}}}function ht(a){let e,t,l;function n(s){a[13](s)}let i={columnTitle:"Select a category",options:a[6].cats,clickCallback:a[11],removeCatCallback:a[12],hasChildren:!1,globalSelectedCategories:a[3],disabled:a[4]};return a[7]!==void 0&&(i.selected=a[7]),e=new Me({props:i}),ze.push(()=>Ae(e,"selected",n)),{c(){G(e.$$.fragment)},l(s){J(e.$$.fragment,s)},m(s,f){Z(e,s,f),l=!0},p(s,f){const o={};f&64&&(o.options=s[6].cats),f&66&&(o.clickCallback=s[11]),f&68&&(o.removeCatCallback=s[12]),f&8&&(o.globalSelectedCategories=s[3]),f&16&&(o.disabled=s[4]),!t&&f&128&&(t=!0,o.selected=s[7],Le(()=>t=!1)),e.$set(o)},i(s){l||(T(e.$$.fragment,s),l=!0)},o(s){N(e.$$.fragment,s),l=!1},d(s){X(e,s)}}}function Yi(a){let e,t,l,n,i,s,f;function o(d){a[9](d)}let r={columnTitle:"Select a variable",clickCallback:a[8],options:a[0],globalSelectedCategories:a[3]};a[5]!==void 0&&(r.selected=a[5]),t=new Me({props:r}),ze.push(()=>Ae(t,"selected",o));let c=a[5]!=null&&ut(a);return{c(){e=w("div"),G(t.$$.fragment),n=V(),c&&c.c(),i=V(),s=R(),this.h()},l(d){e=E(d,"DIV",{class:!0});var u=z(e);J(t.$$.fragment,u),n=j(u),c&&c.l(u),u.forEach(_),i=j(d),s=R(),this.h()},h(){k(e,"class","container svelte-1eu7aha")},m(d,u){p(d,e,u),Z(t,e,null),v(e,n),c&&c.m(e,null),p(d,i,u),p(d,s,u),f=!0},p(d,[u]){const h={};u&64&&(h.clickCallback=d[8]),u&1&&(h.options=d[0]),u&8&&(h.globalSelectedCategories=d[3]),!l&&u&32&&(l=!0,h.selected=d[5],Le(()=>l=!1)),t.$set(h),d[5]!=null?c?(c.p(d,u),u&32&&T(c,1)):(c=ut(d),c.c(),T(c,1),c.m(e,null)):c&&(ne(),N(c,1,1,()=>{c=null}),ie())},i(d){f||(T(t.$$.fragment,d),T(c),f=!0)},o(d){N(t.$$.fragment,d),N(c),f=!1},d(d){d&&_(e),X(t),c&&c.d(),d&&_(i),d&&_(s)}}}function Qi(a,e){console.log(a,e)}function $i(a,e){console.log(a,e)}const xi=a=>`${a.cats.length+" categories"}`;function ea(a,e,t){let{options:l=[]}=e,{clickCallback:n=Qi}=e,{removeCatCallback:i=$i}=e,{globalSelectedCategories:s=[]}=e,{disabled:f=!1}=e,o=null,r=null,c=null;const d=()=>{t(6,r=null)};function u(y){o=y,t(5,o)}function h(y){r=y,t(6,r)}const b=y=>n(r,y),m=y=>i(r,y);function C(y){c=y,t(7,c)}const g=(y,L)=>n(y,L);return a.$$set=y=>{"options"in y&&t(0,l=y.options),"clickCallback"in y&&t(1,n=y.clickCallback),"removeCatCallback"in y&&t(2,i=y.removeCatCallback),"globalSelectedCategories"in y&&t(3,s=y.globalSelectedCategories),"disabled"in y&&t(4,f=y.disabled)},[l,n,i,s,f,o,r,c,d,u,h,b,m,C,g]}class la extends Q{constructor(e){super();$(this,e,ea,Yi,x,{options:0,clickCallback:1,removeCatCallback:2,globalSelectedCategories:3,disabled:4})}}function _t(a,e,t){const l=a.slice();return l[24]=e[t],l}function dt(a,e,t){const l=a.slice();return l[27]=e[t],l}function mt(a,e,t){const l=a.slice();return l[30]=e[t],l}function gt(a,e,t){const l=a.slice();return l[33]=e[t],l[35]=t,l}function ta(a){let e;return{c(){e=K("Create a population group profile")},l(t){e=M(t,"Create a population group profile")},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function na(a){let e,t,l,n,i,s,f,o,r,c,d;return e=new Li({props:{$$slots:{default:[ta]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment),t=V(),l=w("p"),n=K(`Select one or more identity characteristics to define a population group to
    compare with the whole population of England and Wales. For example, see `),i=w("a"),s=K("Sikhs born in the UK"),f=K(`
    or
    `),o=w("a"),r=K("people aged 65+ born in Ireland"),c=K("."),this.h()},l(u){J(e.$$.fragment,u),t=j(u),l=E(u,"P",{class:!0});var h=z(l);n=M(h,`Select one or more identity characteristics to define a population group to
    compare with the whole population of England and Wales. For example, see `),i=E(h,"A",{href:!0,class:!0});var b=z(i);s=M(b,"Sikhs born in the UK"),b.forEach(_),f=M(h,`
    or
    `),o=E(h,"A",{href:!0,class:!0});var m=z(o);r=M(m,"people aged 65+ born in Ireland"),m.forEach(_),c=M(h,"."),h.forEach(_),this.h()},h(){k(i,"href","?religion_tb=7&country_of_birth_3a=1"),k(i,"class","svelte-1gx872z"),k(o,"href","?resident_age_3a=3&country_of_birth_8a=2"),k(o,"class","svelte-1gx872z"),k(l,"class","subtitle svelte-1gx872z")},m(u,h){Z(e,u,h),p(u,t,h),p(u,l,h),v(l,n),v(l,i),v(i,s),v(l,f),v(l,o),v(o,r),v(l,c),d=!0},p(u,h){const b={};h[1]&32&&(b.$$scope={dirty:h,ctx:u}),e.$set(b)},i(u){d||(T(e.$$.fragment,u),d=!0)},o(u){N(e.$$.fragment,u),d=!1},d(u){X(e,u),u&&_(t),u&&_(l)}}}function bt(a){let e,t,l,n=a[0],i=[];for(let s=0;s<n.length;s+=1)i[s]=vt(gt(a,n,s));return{c(){e=w("br"),t=V();for(let s=0;s<i.length;s+=1)i[s].c();l=R()},l(s){e=E(s,"BR",{}),t=j(s);for(let f=0;f<i.length;f+=1)i[f].l(s);l=R()},m(s,f){p(s,e,f),p(s,t,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);p(s,l,f)},p(s,f){if(f[0]&259){n=s[0];let o;for(o=0;o<n.length;o+=1){const r=gt(s,n,o);i[o]?i[o].p(r,f):(i[o]=vt(r),i[o].c(),i[o].m(l.parentNode,l))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(s){s&&_(e),s&&_(t),te(i,s),s&&_(l)}}}function ia(a){let e,t,l=_e(a[33].topic)+"",n,i,s=_e(a[33].label)+"",f,o,r,c,d,u;function h(){return a[13](a[33])}return{c(){e=w("div"),t=w("span"),n=K(l),i=K(": "),f=K(s),o=V(),r=w("button"),c=V(),this.h()},l(b){e=E(b,"DIV",{class:!0});var m=z(e);t=E(m,"SPAN",{class:!0});var C=z(t);n=M(C,l),i=M(C,": "),f=M(C,s),C.forEach(_),o=j(m),r=E(m,"BUTTON",{class:!0}),z(r).forEach(_),c=j(m),m.forEach(_),this.h()},h(){k(t,"class","svelte-1gx872z"),k(r,"class","svelte-1gx872z"),k(e,"class","chip svelte-1gx872z")},m(b,m){p(b,e,m),v(e,t),v(t,n),v(t,i),v(t,f),v(e,o),v(e,r),v(e,c),d||(u=De(r,"click",h),d=!0)},p(b,m){a=b,m[0]&1&&l!==(l=_e(a[33].topic)+"")&&W(n,l),m[0]&1&&s!==(s=_e(a[33].label)+"")&&W(f,s)},d(b){b&&_(e),d=!1,u()}}}function aa(a){let e,t,l=_e(a[33].topic)+"",n,i,s=_e(a[33].label)+"",f,o,r,c;return{c(){e=w("div"),t=w("span"),n=K(l),i=K(": "),f=K(s),o=V(),r=w("div"),c=V(),this.h()},l(d){e=E(d,"DIV",{class:!0});var u=z(e);t=E(u,"SPAN",{class:!0});var h=z(t);n=M(h,l),i=M(h,": "),f=M(h,s),h.forEach(_),o=j(u),r=E(u,"DIV",{class:!0}),z(r).forEach(_),c=j(u),u.forEach(_),this.h()},h(){k(t,"class","svelte-1gx872z"),k(r,"class","chip-loader svelte-1gx872z"),k(e,"class","chip chip-pending svelte-1gx872z")},m(d,u){p(d,e,u),v(e,t),v(t,n),v(t,i),v(t,f),v(e,o),v(e,r),v(e,c)},p(d,u){u[0]&1&&l!==(l=_e(d[33].topic)+"")&&W(n,l),u[0]&1&&s!==(s=_e(d[33].label)+"")&&W(f,s)},d(d){d&&_(e)}}}function vt(a){let e;function t(i,s){return i[1]=="loading"?aa:ia}let l=t(a),n=l(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&_(e)}}}function kt(a){let e,t,l,n=a[1]=="failed"&&pt(),i=a[2]==!0&&wt();return{c(){e=w("div"),t=K(`Some datasets not available for selected variables.
        `),n&&n.c(),l=V(),i&&i.c(),this.h()},l(s){e=E(s,"DIV",{class:!0});var f=z(e);t=M(f,`Some datasets not available for selected variables.
        `),n&&n.l(f),l=j(f),i&&i.l(f),f.forEach(_),this.h()},h(){k(e,"class","warning svelte-1gx872z")},m(s,f){p(s,e,f),v(e,t),n&&n.m(e,null),v(e,l),i&&i.m(e,null)},p(s,f){s[1]=="failed"?n||(n=pt(),n.c(),n.m(e,l)):n&&(n.d(1),n=null),s[2]==!0?i||(i=wt(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(s){s&&_(e),n&&n.d(),i&&i.d()}}}function pt(a){let e;return{c(){e=K("Try removing a variable to see more datasets.")},l(t){e=M(t,"Try removing a variable to see more datasets.")},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function wt(a){let e;return{c(){e=K(`Economic indicators (employment, social status etc) not available for
          ages 0 to 15.`)},l(t){e=M(t,`Economic indicators (employment, social status etc) not available for
          ages 0 to 15.`)},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function Et(a){let e,t;return e=new la({props:{options:Yt,clickCallback:a[6],removeCatCallback:a[7],globalSelectedCategories:a[0],disabled:a[1]==="loading"}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n[0]&1&&(i.globalSelectedCategories=l[0]),n[0]&2&&(i.disabled=l[1]==="loading"),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function sa(a){let e,t,l,n,i=a[0][0]&&bt(a),s=(a[1]=="failed"||a[2]==!0)&&kt(a),f=a[0].length<3&&Et(a);return{c(){e=w("div"),i&&i.c(),t=V(),s&&s.c(),l=V(),f&&f.c(),this.h()},l(o){e=E(o,"DIV",{slot:!0,class:!0});var r=z(e);i&&i.l(r),t=j(r),s&&s.l(r),l=j(r),f&&f.l(r),r.forEach(_),this.h()},h(){k(e,"slot","meta"),k(e,"class","wrapper")},m(o,r){p(o,e,r),i&&i.m(e,null),v(e,t),s&&s.m(e,null),v(e,l),f&&f.m(e,null),n=!0},p(o,r){o[0][0]?i?i.p(o,r):(i=bt(o),i.c(),i.m(e,t)):i&&(i.d(1),i=null),o[1]=="failed"||o[2]==!0?s?s.p(o,r):(s=kt(o),s.c(),s.m(e,l)):s&&(s.d(1),s=null),o[0].length<3?f?(f.p(o,r),r[0]&1&&T(f,1)):(f=Et(o),f.c(),T(f,1),f.m(e,null)):f&&(ne(),N(f,1,1,()=>{f=null}),ie())},i(o){n||(T(f),n=!0)},o(o){N(f),n=!1},d(o){o&&_(e),i&&i.d(),s&&s.d(),f&&f.d()}}}function oa(a){let e,t,l,n;return e=new Xn({props:{data:a[4]}}),l=new ci({props:{data:a[4],selected:a[0]}}),{c(){G(e.$$.fragment),t=V(),G(l.$$.fragment)},l(i){J(e.$$.fragment,i),t=j(i),J(l.$$.fragment,i)},m(i,s){Z(e,i,s),p(i,t,s),Z(l,i,s),n=!0},p(i,s){const f={};s[0]&16&&(f.data=i[4]),e.$set(f);const o={};s[0]&16&&(o.data=i[4]),s[0]&1&&(o.selected=i[0]),l.$set(o)},i(i){n||(T(e.$$.fragment,i),T(l.$$.fragment,i),n=!0)},o(i){N(e.$$.fragment,i),N(l.$$.fragment,i),n=!1},d(i){X(e,i),i&&_(t),X(l,i)}}}function yt(a){let e,t,l,n=a[30].name+"",i,s,f;return{c(){e=w("label"),t=w("input"),i=K(n),this.h()},l(o){e=E(o,"LABEL",{});var r=z(e);t=E(r,"INPUT",{type:!0,name:!0}),i=M(r,n),r.forEach(_),this.h()},h(){k(t,"type","radio"),k(t,"name","chart-type"),t.__value=l=a[30].component,t.value=t.__value,a[15][0].push(t)},m(o,r){p(o,e,r),v(e,t),t.checked=t.__value===a[3],v(e,i),s||(f=De(t,"change",a[14]),s=!0)},p(o,r){r[0]&8&&(t.checked=t.__value===o[3])},d(o){o&&_(e),a[15][0].splice(a[15][0].indexOf(t),1),s=!1,f()}}}function Ct(a){let e,t;return e=new Fn({props:{title:We(a[27].key),table:a[27],data:a[4],chart_type:a[3]}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n[0]&16&&(i.title=We(l[27].key)),n[0]&16&&(i.table=l[27]),n[0]&16&&(i.data=l[4]),n[0]&8&&(i.chart_type=l[3]),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function fa(a){let e,t,l=a[24].tables.filter(a[16]),n=[];for(let s=0;s<l.length;s+=1)n[s]=Ct(dt(a,l,s));const i=s=>N(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=V()},l(s){for(let f=0;f<n.length;f+=1)n[f].l(s);e=j(s)},m(s,f){for(let o=0;o<n.length;o+=1)n[o].m(s,f);p(s,e,f),t=!0},p(s,f){if(f[0]&24){l=s[24].tables.filter(s[16]);let o;for(o=0;o<l.length;o+=1){const r=dt(s,l,o);n[o]?(n[o].p(r,f),T(n[o],1)):(n[o]=Ct(r),n[o].c(),T(n[o],1),n[o].m(e.parentNode,e))}for(ne(),o=l.length;o<n.length;o+=1)i(o);ie()}},i(s){if(!t){for(let f=0;f<l.length;f+=1)T(n[f]);t=!0}},o(s){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)N(n[f]);t=!1},d(s){te(n,s),s&&_(e)}}}function zt(a){let e,t;return e=new Ke({props:{title:a[24].categoryName,$$slots:{default:[fa]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n[0]&24|n[1]&32&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(T(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function ra(a){let e,t,l,n,i,s,f,o,r,c,d;e=new Ke({props:{title:"Demographics",$$slots:{default:[oa]},$$scope:{ctx:a}}}),l=new jn({props:{data:a[4],mapStyle:Zt,ladBounds:Ee,selected:a[0],colors:ve}});let u=a[5],h=[];for(let g=0;g<u.length;g+=1)h[g]=yt(mt(a,u,g));let b=Ve[0].tablesCategorised,m=[];for(let g=0;g<b.length;g+=1)m[g]=zt(_t(a,b,g));const C=g=>N(m[g],1,1,()=>{m[g]=null});return{c(){G(e.$$.fragment),t=V(),G(l.$$.fragment),n=V(),i=w("span"),s=w("strong"),f=K("Chart type:"),o=V();for(let g=0;g<h.length;g+=1)h[g].c();r=V();for(let g=0;g<m.length;g+=1)m[g].c();c=R()},l(g){J(e.$$.fragment,g),t=j(g),J(l.$$.fragment,g),n=j(g),i=E(g,"SPAN",{});var y=z(i);s=E(y,"STRONG",{});var L=z(s);f=M(L,"Chart type:"),L.forEach(_),o=j(y);for(let I=0;I<h.length;I+=1)h[I].l(y);y.forEach(_),r=j(g);for(let I=0;I<m.length;I+=1)m[I].l(g);c=R()},m(g,y){Z(e,g,y),p(g,t,y),Z(l,g,y),p(g,n,y),p(g,i,y),v(i,s),v(s,f),v(i,o);for(let L=0;L<h.length;L+=1)h[L].m(i,null);p(g,r,y);for(let L=0;L<m.length;L+=1)m[L].m(g,y);p(g,c,y),d=!0},p(g,y){const L={};y[0]&17|y[1]&32&&(L.$$scope={dirty:y,ctx:g}),e.$set(L);const I={};if(y[0]&16&&(I.data=g[4]),y[0]&1&&(I.selected=g[0]),l.$set(I),y[0]&40){u=g[5];let A;for(A=0;A<u.length;A+=1){const D=mt(g,u,A);h[A]?h[A].p(D,y):(h[A]=yt(D),h[A].c(),h[A].m(i,null))}for(;A<h.length;A+=1)h[A].d(1);h.length=u.length}if(y[0]&24){b=Ve[0].tablesCategorised;let A;for(A=0;A<b.length;A+=1){const D=_t(g,b,A);m[A]?(m[A].p(D,y),T(m[A],1)):(m[A]=zt(D),m[A].c(),T(m[A],1),m[A].m(c.parentNode,c))}for(ne(),A=b.length;A<m.length;A+=1)C(A);ie()}},i(g){if(!d){T(e.$$.fragment,g),T(l.$$.fragment,g);for(let y=0;y<b.length;y+=1)T(m[y]);d=!0}},o(g){N(e.$$.fragment,g),N(l.$$.fragment,g),m=m.filter(Boolean);for(let y=0;y<m.length;y+=1)N(m[y]);d=!1},d(g){X(e,g),g&&_(t),X(l,g),g&&_(n),g&&_(i),te(h,g),g&&_(r),te(m,g),g&&_(c)}}}function ca(a){let e,t,l,n,i,s,f,o,r,c,d,u;return r=new ji({props:{background:"none",breadcrumb:[{label:"Census",url:"/census"},{label:"Create a population group profile"}],$$slots:{meta:[sa],default:[na]},$$scope:{ctx:a}}}),d=new qi({props:{$$slots:{default:[ra]},$$scope:{ctx:a}}}),{c(){e=w("meta"),t=w("meta"),l=w("meta"),n=w("meta"),i=w("meta"),s=w("meta"),f=w("meta"),o=V(),G(r.$$.fragment),c=V(),G(d.$$.fragment),this.h()},l(h){const b=Wt('[data-svelte="svelte-1yphpwa"]',document.head);e=E(b,"META",{name:!0,content:!0}),t=E(b,"META",{property:!0,content:!0}),l=E(b,"META",{property:!0,content:!0}),n=E(b,"META",{property:!0,content:!0}),i=E(b,"META",{property:!0,content:!0}),s=E(b,"META",{property:!0,content:!0}),f=E(b,"META",{name:!0,content:!0}),b.forEach(_),o=j(h),J(r.$$.fragment,h),c=j(h),J(d.$$.fragment,h),this.h()},h(){document.title="Create a population group profile",k(e,"name","description"),k(e,"content",""),k(t,"property","og:title"),k(t,"content","Create a population group profile"),k(l,"property","og:type"),k(l,"content","website"),k(n,"property","og:url"),k(n,"content",Tt+"/"),k(i,"property","og:image:type"),k(i,"content","image/jpeg"),k(s,"property","og:description"),k(s,"content",""),k(f,"name","description"),k(f,"content","")},m(h,b){v(document.head,e),v(document.head,t),v(document.head,l),v(document.head,n),v(document.head,i),v(document.head,s),v(document.head,f),p(h,o,b),Z(r,h,b),p(h,c,b),Z(d,h,b),u=!0},p(h,b){const m={};b[0]&7|b[1]&32&&(m.$$scope={dirty:b,ctx:h}),r.$set(m);const C={};b[0]&25|b[1]&32&&(C.$$scope={dirty:b,ctx:h}),d.$set(C)},i(h){u||(T(r.$$.fragment,h),T(d.$$.fragment,h),u=!0)},o(h){N(r.$$.fragment,h),N(d.$$.fragment,h),u=!1},d(h){_(e),_(t),_(l),_(n),_(i),_(s),_(f),h&&_(o),X(r,h),h&&_(c),X(d,h)}}}const ka=!1;async function pa({fetch:a}){let e=await en(Tt+Ee.url,Ee.layer,a),t=(await Pt(Ve,[],a)).data;t.total_pop=Vt(t.residents.sex.values.count);let l=e.features.map(i=>({code:i.properties[Ee.code],name:i.properties[Ee.name]})),n=l.map(({code:i,name:s})=>({code:i,name:s,value:100,color:ve.seq[4]}));return{props:{geojson:e,geoCodesAndNames:l,geoPerc:n,dataAll:t}}}let ua="light";function ha(a){let e=[];a.forEach(l=>e.push(l[0]));const t=a.flat().pop();return(a.length===1||t!=e[e.length-1])&&e.push(t),e}function _a(a,e,t){let l;Dt(a,Qt,P=>t(18,l=P));let{geojson:n,geoCodesAndNames:i,geoPerc:s,dataAll:f}=e;ke("theme",Xt[ua]);let o=[{name:"Comparison marker",component:Yl},{name:"Grouped bar",component:Ri}],r=[],c="success",d=!1,u=Yl,h={all:f,selected:f,geojson:n,geoCodesAndNames:i,geoPerc:s,geoBreaks:[0,100]};function b(){ui(`${qt}?${r.map(P=>`${P.key}=${P.code}`).join("&")}`,{noscroll:!0})}function m(P,O){t(0,r=[...r.filter(Y=>Y.topic!==P.shortLabel),me({topic:P.shortLabel,key:P.key},O)]),b()}function C(P,O){t(0,r=r.filter(Y=>Y.label!==O.label)),b()}function g(P){t(0,r=r.filter(O=>O.topic!=P)),b()}function y(P){t(4,h.selected=P.data,h),t(4,h.selected.total_pop=r.length===0?Vt(f.residents.sex.values.count):P.total_pop,h),t(4,h.geoPerc=[],h);let O=null;{h.geoCodesAndNames.forEach(({code:q,name:ee})=>{let oe=r.length===0?100:P.mapData[q]!=null?P.mapData[q][1]:null;h.geoPerc.push({code:q,name:ee,value:oe})});let Y=h.geoPerc.map(q=>q.value).filter(q=>q!=null);O=Y.length===0?null:Ut(Y,Math.min(5,Y.length))}if(O==null)h.geoPerc.forEach(Y=>Y.color=ve.nodata),t(4,h.geoBreaks=[0,100],h);else if(r.length===0)h.geoPerc.forEach(Y=>Y.color=ve.seq[4]),t(4,h.geoBreaks=[100,100],h);else{let Y=ha(O);h.geoPerc.forEach(q=>q.color=q.value!=null?xt(q.value,Y,ve.seq):ve.nodata),t(4,h.geoBreaks=Y,h)}t(1,c="success")}function L(){t(1,c="loading"),t(2,d=r&&r.some(P=>["Aged 4 years and under","Aged 5 to 9 years","Aged 10 to 14 years","Aged 15 years and under"].includes(P.label))),Pt(Ve,r).then(y)}function I(){t(0,r=[]);for(let P of l.url.searchParams.entries()){let O=Jt.find(q=>q.key==P[0]);if(!O)continue;let Y=O.cats.find(q=>q.code==P[1]);!Y||r.push(me({topic:O.shortLabel,key:O.key},Y))}L()}hi(I);const A=[[]],D=P=>g(P.topic);function F(){u=this.__value,t(3,u)}const H=P=>!P.code.startsWith("resident_age")&&h.selected.residents[P.code].values!=="blocked"&&h.selected.residents[P.code].values!==void 0;return a.$$set=P=>{"geojson"in P&&t(9,n=P.geojson),"geoCodesAndNames"in P&&t(10,i=P.geoCodesAndNames),"geoPerc"in P&&t(11,s=P.geoPerc),"dataAll"in P&&t(12,f=P.dataAll)},[r,c,d,u,h,o,m,C,g,n,i,s,f,D,F,A,H]}class wa extends Q{constructor(e){super();$(this,e,_a,ca,x,{geojson:9,geoCodesAndNames:10,geoPerc:11,dataAll:12},null,[-1,-1])}}export{wa as default,pa as load,ka as prerender};
