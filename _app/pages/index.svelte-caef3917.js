var Ot=Object.defineProperty;var We=Object.getOwnPropertySymbols;var Mt=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable;var Ge=(a,e,t)=>e in a?Ot(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,ke=(a,e)=>{for(var t in e||(e={}))Mt.call(e,t)&&Ge(a,t,e[t]);if(We)for(var t of We(e))jt.call(e,t)&&Ge(a,t,e[t]);return a};import{X as Bt,S as te,i as ne,s as ie,e as w,k as N,c as y,a as C,m as L,d as _,b as v,g as E,H as b,t as O,h as M,Q as U,R as le,j as W,l as R,N as fe,w as X,x as $,y as J,q as V,o as K,B as Y,F as he,f as S,n as se,p as oe,J as _e,K as de,L as me,r as ye,W as Ie,G as Be,I as qe,Y as Se,Z as qt,v as Ft,_ as Ne,$ as De,a0 as Ht,D as Rt,V as St,a1 as Wt,O as Ce,a2 as ze,a3 as Pe,U as Gt,T as Ut,a4 as Zt}from"../chunks/vendor-83c0648d.js";import{a as zt,b as Oe}from"../chunks/paths-396f020f.js";import{l as we,c as be,n as Le,v as Ue,a as Xt,t as Jt,b as Yt,m as Ze,p as Qt,d as $t,e as Xe,f as Te}from"../chunks/config-adb0b5bb.js";import{c as Ee}from"../chunks/singletons-d1fb5791.js";const Je="https://raw.githubusercontent.com/jtrim-ons/key-pop-api-downloader/main/generated/";function xt(a){let e=[...a].sort((l,n)=>l.key.localeCompare(n.key));return{selString:a.length==0?"data":e.map((l,n)=>n<e.length-1?`${l.key}-${l.code}`:`${l.key}`).join("/"),lastCode:a.length>0?e[e.length-1].code:null}}async function Pt(a,e=[],t=window.fetch){if(e.length>0&&!e[0].newFormat)throw new Error("OLD FORMAT!");let{selString:l,lastCode:n}=xt(e),i={data:{}},s;if(e.length===0){let f=`${Je}${e.length}var_percent/${l}.json`;s=await(await t(f)).json()}else{let f=`${Je}${e.length}var-combined_percent/${l}.json`,r=await(await t(f)).json();s=r.bar_chart_data[n],i.mapData=r.map_data[n],i.total_pop=s.total_pop}for(let f of a){i.data[f.key]={};for(let o of f.tables)i.data[f.key][o.code]={values:s[o.code]}}return i}function en(a,e,t){for(let l=1;l<e.length;l++)if(a<=e[l])return t[l-1]}async function ln(a,e,t=window.fetch){let n=await(await t(a)).json();return await Bt(n,e)}function ve(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Tt(a){if(!a)return 0;let e=0;for(let t=0;t<a.length;t++)e+=a[t];return e}function tn(a){return!1}function Ye(a){return a.replace(new RegExp(" \\([0-9]* categories\\)"),"")}Ee.disable_scroll_handling;const Me=Ee.goto;Ee.invalidate;Ee.prefetch;Ee.prefetch_routes;Ee.before_navigate;const nn=Ee.after_navigate;function Qe(a,e,t){const l=a.slice();return l[2]=e[t],l}function an(a){let e=a[2].label+"",t;return{c(){t=O(e)},l(l){t=M(l,e)},m(l,n){E(l,t,n)},p(l,n){n&1&&e!==(e=l[2].label+"")&&W(t,e)},d(l){l&&_(t)}}}function sn(a){let e,t=a[2].label+"",l,n;return{c(){e=w("a"),l=O(t),this.h()},l(i){e=y(i,"A",{class:!0,href:!0});var s=C(e);l=M(s,t),s.forEach(_),this.h()},h(){v(e,"class","breadcrumb__link"),v(e,"href",n=a[2].url)},m(i,s){E(i,e,s),b(e,l)},p(i,s){s&1&&t!==(t=i[2].label+"")&&W(l,t),s&1&&n!==(n=i[2].url)&&v(e,"href",n)},d(i){i&&_(e)}}}function $e(a){let e,t;function l(s,f){return s[2].url?sn:an}let n=l(a),i=n(a);return{c(){e=w("li"),i.c(),t=N(),this.h()},l(s){e=y(s,"LI",{class:!0});var f=C(e);i.l(f),t=L(f),f.forEach(_),this.h()},h(){v(e,"class","breadcrumb__item")},m(s,f){E(s,e,f),i.m(e,null),b(e,t)},p(s,f){n===(n=l(s))&&i?i.p(s,f):(i.d(1),i=n(s),i&&(i.c(),i.m(e,t)))},d(s){s&&_(e),i.d()}}}function on(a){let e,t,l,n,i,s,f,o,r=a[0],c=[];for(let h=0;h<r.length;h+=1)c[h]=$e(Qe(a,r,h));return{c(){e=w("nav"),t=w("div"),l=w("ol"),n=w("li"),i=w("a"),s=O("Home"),f=N();for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){e=y(h,"NAV",{"aria-label":!0});var u=C(e);t=y(u,"DIV",{class:!0});var d=C(t);l=y(d,"OL",{class:!0});var g=C(l);n=y(g,"LI",{class:!0});var m=C(n);i=y(m,"A",{class:!0,href:!0});var I=C(i);s=M(I,"Home"),I.forEach(_),m.forEach(_),f=L(g);for(let k=0;k<c.length;k+=1)c[k].l(g);g.forEach(_),d.forEach(_),u.forEach(_),this.h()},h(){v(i,"class","breadcrumb__link"),v(i,"href","/"),v(n,"class","breadcrumb__item"),v(l,"class","breadcrumb__list"),v(t,"class",o=(a[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide"),v(e,"aria-label","Breadcrumbs")},m(h,u){E(h,e,u),b(e,t),b(t,l),b(l,n),b(n,i),b(i,s),b(l,f);for(let d=0;d<c.length;d+=1)c[d].m(l,null)},p(h,[u]){if(u&1){r=h[0];let d;for(d=0;d<r.length;d+=1){const g=Qe(h,r,d);c[d]?c[d].p(g,u):(c[d]=$e(g),c[d].c(),c[d].m(l,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=r.length}u&2&&o!==(o=(h[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide")&&v(t,"class",o)},i:U,o:U,d(h){h&&_(e),le(c,h)}}}function fn(a,e,t){let{links:l=[]}=e,{mode:n="neutral"}=e;return a.$$set=i=>{"links"in i&&t(0,l=i.links),"mode"in i&&t(1,n=i.mode)},[l,n]}class rn extends te{constructor(e){super();ne(this,e,fn,on,ie,{links:0,mode:1})}}function xe(a,e,t){const l=a.slice();return l[2]=e[t],l}function el(a){let e,t,l=a[2].label+"",n,i,s,f;return{c(){e=w("li"),t=w("a"),n=O(l),f=N(),this.h()},l(o){e=y(o,"LI",{});var r=C(e);t=y(r,"A",{href:!0,"data-gtm-title":!0,"data-gtm-type":!0});var c=C(t);n=M(c,l),c.forEach(_),f=L(r),r.forEach(_),this.h()},h(){v(t,"href",i=a[2].url),v(t,"data-gtm-title",s=a[2].label),v(t,"data-gtm-type","highlighted-links")},m(o,r){E(o,e,r),b(e,t),b(t,n),b(e,f)},p(o,r){r&2&&l!==(l=o[2].label+"")&&W(n,l),r&2&&i!==(i=o[2].url)&&v(t,"href",i),r&2&&s!==(s=o[2].label)&&v(t,"data-gtm-title",s)},d(o){o&&_(e)}}}function cn(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=el(xe(a,s,o));return{c(){e=w("div"),t=w("h2"),l=O(a[0]),n=N(),i=w("ul");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=y(o,"DIV",{class:!0});var r=C(e);t=y(r,"H2",{class:!0});var c=C(t);l=M(c,a[0]),c.forEach(_),n=L(r),i=y(r,"UL",{class:!0});var h=C(i);for(let u=0;u<f.length;u+=1)f[u].l(h);h.forEach(_),r.forEach(_),this.h()},h(){v(t,"class","margin-top-lg--1"),v(i,"class","list--neutral margin-top--negative-one-fix"),v(e,"class","nav-secondary--border-left-lg col col--md-47 col--lg-19 col--lg-offset-2 padding-left margin-top-lg--3")},m(o,r){E(o,e,r),b(e,t),b(t,l),b(e,n),b(e,i);for(let c=0;c<f.length;c+=1)f[c].m(i,null)},p(o,[r]){if(r&1&&W(l,o[0]),r&2){s=o[1];let c;for(c=0;c<s.length;c+=1){const h=xe(o,s,c);f[c]?f[c].p(h,r):(f[c]=el(h),f[c].c(),f[c].m(i,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=s.length}},i:U,o:U,d(o){o&&_(e),le(f,o)}}}function un(a,e,t){let{title:l="Highlighted content"}=e,{links:n=[]}=e;return a.$$set=i=>{"title"in i&&t(0,l=i.title),"links"in i&&t(1,n=i.links)},[l,n]}class hn extends te{constructor(e){super();ne(this,e,un,cn,ie,{title:0,links:1})}}function ll(a,e,t){const l=a.slice();return l[2]=e[t],l}function _n(a){let e,t=a[2].label+"",l;return{c(){e=w("li"),l=O(t),this.h()},l(n){e=y(n,"LI",{class:!0,"aria-current":!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){v(e,"class","ons-list__item svelte-1dyzlhu"),v(e,"aria-current","true")},m(n,i){E(n,e,i),b(e,l)},p(n,i){i&2&&t!==(t=n[2].label+"")&&W(l,t)},d(n){n&&_(e)}}}function dn(a){let e,t,l=a[2].label+"",n,i,s;return{c(){e=w("li"),t=w("a"),n=O(l),s=N(),this.h()},l(f){e=y(f,"LI",{class:!0});var o=C(e);t=y(o,"A",{href:!0,class:!0});var r=C(t);n=M(r,l),r.forEach(_),s=L(o),o.forEach(_),this.h()},h(){v(t,"href",i=a[2].url),v(t,"class","ons-list__link"),v(e,"class","ons-list__item svelte-1dyzlhu")},m(f,o){E(f,e,o),b(e,t),b(t,n),b(e,s)},p(f,o){o&2&&l!==(l=f[2].label+"")&&W(n,l),o&2&&i!==(i=f[2].url)&&v(t,"href",i)},d(f){f&&_(e)}}}function tl(a){let e;function t(i,s){return i[2].url?dn:_n}let l=t(a),n=l(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),E(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&_(e)}}}function mn(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=tl(ll(a,s,o));return{c(){e=w("nav"),t=w("h2"),l=O(a[0]),n=N(),i=w("ol");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=y(o,"NAV",{class:!0,"aria-label":!0});var r=C(e);t=y(r,"H2",{class:!0});var c=C(t);l=M(c,a[0]),c.forEach(_),n=L(r),i=y(r,"OL",{class:!0});var h=C(i);for(let u=0;u<f.length;u+=1)f[u].l(h);h.forEach(_),r.forEach(_),this.h()},h(){v(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s svelte-1dyzlhu"),v(i,"class","ons-list ons-u-mb-m ons-list--dashed svelte-1dyzlhu"),v(e,"class","ons-toc svelte-1dyzlhu"),v(e,"aria-label","Pages in this guide")},m(o,r){E(o,e,r),b(e,t),b(t,l),b(e,n),b(e,i);for(let c=0;c<f.length;c+=1)f[c].m(i,null)},p(o,[r]){if(r&1&&W(l,o[0]),r&2){s=o[1];let c;for(c=0;c<s.length;c+=1){const h=ll(o,s,c);f[c]?f[c].p(h,r):(f[c]=tl(h),f[c].c(),f[c].m(i,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=s.length}},i:U,o:U,d(o){o&&_(e),le(f,o)}}}function gn(a,e,t){let{label:l="Contents"}=e,{links:n=[]}=e;return a.$$set=i=>{"label"in i&&t(0,l=i.label),"links"in i&&t(1,n=i.links)},[l,n]}class bn extends te{constructor(e){super();ne(this,e,gn,mn,ie,{label:0,links:1})}}function vn(a){let e,t,l,n,i,s,f,o,r;return{c(){e=w("div"),t=w("div"),l=w("dl"),n=w("div"),i=w("dt"),s=O(a[1]),f=O(":"),o=N(),r=w("dd"),this.h()},l(c){e=y(c,"DIV",{class:!0});var h=C(e);t=y(h,"DIV",{class:!0});var u=C(t);l=y(u,"DL",{class:!0});var d=C(l);n=y(d,"DIV",{class:!0});var g=C(n);i=y(g,"DT",{class:!0});var m=C(i);s=M(m,a[1]),f=M(m,":"),m.forEach(_),o=L(g),r=y(g,"DD",{class:!0});var I=C(r);I.forEach(_),g.forEach(_),d.forEach(_),u.forEach(_),h.forEach(_),this.h()},h(){v(i,"class","meta__term inline"),v(r,"class","inline"),v(n,"class","col padding-left--0 meta__item meta__item--no-border"),v(l,"class","col-wrap"),v(t,"class","wrapper"),v(e,"class","meta-wrap--thin"),fe(e,"meta-wrap",a[0]=="grey")},m(c,h){E(c,e,h),b(e,t),b(t,l),b(l,n),b(n,i),b(i,s),b(i,f),b(n,o),b(n,r),r.innerHTML=a[2]},p(c,[h]){h&2&&W(s,c[1]),h&4&&(r.innerHTML=c[2]),h&1&&fe(e,"meta-wrap",c[0]=="grey")},i:U,o:U,d(c){c&&_(e)}}}function kn(a,e,t){let{background:l="grey"}=e,{label:n="Last updated"}=e,{value:i="date"}=e;return a.$$set=s=>{"background"in s&&t(0,l=s.background),"label"in s&&t(1,n=s.label),"value"in s&&t(2,i=s.value)},[l,n,i]}class pn extends te{constructor(e){super();ne(this,e,kn,vn,ie,{background:0,label:1,value:2})}}const En=a=>({}),nl=a=>({});function il(a){let e,t;return e=new rn({props:{links:a[2],mode:a[0]}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n&4&&(i.links=l[2]),n&1&&(i.mode=l[0]),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function al(a){let e,t;return{c(){e=w("p"),t=O(a[6]),this.h()},l(l){e=y(l,"P",{class:!0});var n=C(e);t=M(n,a[6]),n.forEach(_),this.h()},h(){v(e,"class","page-neutral-intro__meta margin-top--0 margin-bottom--3")},m(l,n){E(l,e,n),b(e,t)},p(l,n){n&64&&W(t,l[6])},d(l){l&&_(e)}}}function sl(a){let e,t;return e=new bn({props:{links:a[3],label:"Contents"}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n&8&&(i.links=l[3]),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function ol(a){let e,t;return e=new hn({props:{links:a[4]}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n&16&&(i.links=l[4]),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function fl(a){let e,t;return e=new pn({props:{label:"Last updated",value:a[5],background:a[1]}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n&32&&(i.value=l[5]),n&2&&(i.background=l[1]),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function rl(a){let e,t,l,n;return{c(){e=w("div"),t=w("div"),l=w("div"),n=w("hr"),this.h()},l(i){e=y(i,"DIV",{class:!0});var s=C(e);t=y(s,"DIV",{class:!0});var f=C(t);l=y(f,"DIV",{class:!0});var o=C(l);n=y(o,"HR",{style:!0}),o.forEach(_),f.forEach(_),s.forEach(_),this.h()},h(){S(n,"border","0"),S(n,"height","0"),S(n,"border-top","1px solid #808080"),v(l,"class","col"),v(t,"class","col-wrap"),v(e,"class","wrapper")},m(i,s){E(i,e,s),b(e,t),b(t,l),b(l,n)},d(i){i&&_(e)}}}function wn(a){let e,t,l,n,i,s,f,o,r,c,h,u,d,g,m=a[2]&&il(a);const I=a[8].default,k=he(I,a,a[7],null);let D=a[6]&&al(a),j=a[3]&&sl(a),P=a[4]&&ol(a);const B=a[8].meta,p=he(B,a,a[7],nl);let q=a[5]&&fl(a),z=a[1]=="none"&&rl();return{c(){e=w("div"),t=w("div"),l=w("div"),n=w("div"),m&&m.c(),i=N(),s=w("div"),k&&k.c(),f=N(),D&&D.c(),o=N(),j&&j.c(),r=N(),P&&P.c(),c=N(),p&&p.c(),h=N(),q&&q.c(),u=N(),z&&z.c(),this.h()},l(T){e=y(T,"DIV",{class:!0});var H=C(e);t=y(H,"DIV",{class:!0});var ae=C(t);l=y(ae,"DIV",{class:!0});var G=C(l);n=y(G,"DIV",{class:!0});var Q=C(n);m&&m.l(Q),i=L(Q),s=y(Q,"DIV",{class:!0});var ce=C(s);k&&k.l(ce),f=L(ce),D&&D.l(ce),o=L(ce),j&&j.l(ce),ce.forEach(_),r=L(Q),P&&P.l(Q),Q.forEach(_),G.forEach(_),ae.forEach(_),c=L(H),p&&p.l(H),h=L(H),q&&q.l(H),u=L(H),z&&z.l(H),H.forEach(_),this.h()},h(){v(s,"class","col col--md-47"),fe(s,"col--lg-38",a[4]),fe(s,"col--lg-48",!a[4]),v(n,"class","col"),v(l,"class","col-wrap"),v(t,"class","wrapper"),v(e,"class",d="page-neutral-intro "+(a[1]=="grey"?"background--gallery":""))},m(T,H){E(T,e,H),b(e,t),b(t,l),b(l,n),m&&m.m(n,null),b(n,i),b(n,s),k&&k.m(s,null),b(s,f),D&&D.m(s,null),b(s,o),j&&j.m(s,null),b(n,r),P&&P.m(n,null),b(e,c),p&&p.m(e,null),b(e,h),q&&q.m(e,null),b(e,u),z&&z.m(e,null),g=!0},p(T,[H]){T[2]?m?(m.p(T,H),H&4&&V(m,1)):(m=il(T),m.c(),V(m,1),m.m(n,i)):m&&(se(),K(m,1,1,()=>{m=null}),oe()),k&&k.p&&(!g||H&128)&&_e(k,I,T,T[7],g?me(I,T[7],H,null):de(T[7]),null),T[6]?D?D.p(T,H):(D=al(T),D.c(),D.m(s,o)):D&&(D.d(1),D=null),T[3]?j?(j.p(T,H),H&8&&V(j,1)):(j=sl(T),j.c(),V(j,1),j.m(s,null)):j&&(se(),K(j,1,1,()=>{j=null}),oe()),H&16&&fe(s,"col--lg-38",T[4]),H&16&&fe(s,"col--lg-48",!T[4]),T[4]?P?(P.p(T,H),H&16&&V(P,1)):(P=ol(T),P.c(),V(P,1),P.m(n,null)):P&&(se(),K(P,1,1,()=>{P=null}),oe()),p&&p.p&&(!g||H&128)&&_e(p,B,T,T[7],g?me(B,T[7],H,En):de(T[7]),nl),T[5]?q?(q.p(T,H),H&32&&V(q,1)):(q=fl(T),q.c(),V(q,1),q.m(e,u)):q&&(se(),K(q,1,1,()=>{q=null}),oe()),T[1]=="none"?z||(z=rl(),z.c(),z.m(e,null)):z&&(z.d(1),z=null),(!g||H&2&&d!==(d="page-neutral-intro "+(T[1]=="grey"?"background--gallery":"")))&&v(e,"class",d)},i(T){g||(V(m),V(k,T),V(j),V(P),V(p,T),V(q),g=!0)},o(T){K(m),K(k,T),K(j),K(P),K(p,T),K(q),g=!1},d(T){T&&_(e),m&&m.d(),k&&k.d(T),D&&D.d(),j&&j.d(),P&&P.d(),p&&p.d(T),q&&q.d(),z&&z.d()}}}function yn(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i="neutral"}=e,{background:s="grey"}=e,{breadcrumb:f=null}=e,{contents:o=null}=e,{highlighted:r=null}=e,{updated:c=null}=e,{date:h=null}=e;return ye("mode",i),ye("background",s),a.$$set=u=>{"mode"in u&&t(0,i=u.mode),"background"in u&&t(1,s=u.background),"breadcrumb"in u&&t(2,f=u.breadcrumb),"contents"in u&&t(3,o=u.contents),"highlighted"in u&&t(4,r=u.highlighted),"updated"in u&&t(5,c=u.updated),"date"in u&&t(6,h=u.date),"$$scope"in u&&t(7,n=u.$$scope)},[i,s,f,o,r,c,h,n,l]}class Cn extends te{constructor(e){super();ne(this,e,yn,wn,ie,{mode:0,background:1,breadcrumb:2,contents:3,highlighted:4,updated:5,date:6})}}function Dn(a){let e,t,l;const n=a[2].default,i=he(n,a,a[1],null);return{c(){e=w("h1"),i&&i.c(),this.h()},l(s){e=y(s,"H1",{class:!0});var f=C(e);i&&i.l(f),f.forEach(_),this.h()},h(){v(e,"class",t=a[0]=="neutral"?"page-neutral-intro__title":"page-intro__title")},m(s,f){E(s,e,f),i&&i.m(e,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&2)&&_e(i,n,s,s[1],l?me(n,s[1],f,null):de(s[1]),null),(!l||f&1&&t!==(t=s[0]=="neutral"?"page-neutral-intro__title":"page-intro__title"))&&v(e,"class",t)},i(s){l||(V(i,s),l=!0)},o(s){K(i,s),l=!1},d(s){s&&_(e),i&&i.d(s)}}}function In(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i=Ie("mode")}=e;return a.$$set=s=>{"mode"in s&&t(0,i=s.mode),"$$scope"in s&&t(1,n=s.$$scope)},[i,n,l]}class Sn extends te{constructor(e){super();ne(this,e,In,Dn,ie,{mode:0})}}function zn(a){let e,t,l,n,i=`translateX(${a[3]/a[1]+(a[1]-a[4])}px)`,s,f=`${a[2]}px`,o=`${a[4]}px`;return{c(){e=w("div"),t=O(a[0]),l=N(),n=w("div"),this.h()},l(r){e=y(r,"DIV",{class:!0});var c=C(e);t=M(c,a[0]),l=L(c),n=y(c,"DIV",{class:!0}),C(n).forEach(_),c.forEach(_),this.h()},h(){v(n,"class","caret svelte-1491tb3"),S(n,"transform",i,!1),v(e,"class","tooltip svelte-1491tb3"),Be(()=>a[6].call(e)),S(e,"top",f,!1),S(e,"left",o,!1)},m(r,c){E(r,e,c),b(e,t),b(e,l),b(e,n),s=qe(e,a[6].bind(e))},p(r,[c]){c&1&&W(t,r[0]),c&26&&i!==(i=`translateX(${r[3]/r[1]+(r[1]-r[4])}px)`)&&S(n,"transform",i,!1),c&4&&f!==(f=`${r[2]}px`)&&S(e,"top",f,!1),c&16&&o!==(o=`${r[4]}px`)&&S(e,"left",o,!1)},i:U,o:U,d(r){r&&_(e),s()}}}const Ve=4;function Pn(a,e,t){let l,{title:n}=e,{x:i}=e,{y:s}=e,{width:f}=e,o;function r(){o=this.clientWidth,t(3,o)}return a.$$set=c=>{"title"in c&&t(0,n=c.title),"x"in c&&t(1,i=c.x),"y"in c&&t(2,s=c.y),"width"in c&&t(5,f=c.width)},a.$$.update=()=>{a.$$.dirty&42&&t(4,l=o&&i+o/2>f-Ve?f-o/2-Ve:o&&i-o/2<0+Ve?o/2+Ve:i)},[n,i,s,o,l,f,r]}class Tn extends te{constructor(e){super();ne(this,e,Pn,zn,ie,{title:0,x:1,y:2,width:5})}}function Vn(a){let e,t;function l(i){e=a.getAttribute("title"),a.removeAttribute("title");let s=document.body.getBoundingClientRect(),f=a.getBoundingClientRect(),o=f.bottom,r=(f.left+f.right)/2;t=new Tn({props:{title:e,x:r,y:o-s.y,width:s.width},target:document.body})}function n(){t.$destroy(),a.setAttribute("title",e)}return a.addEventListener("mouseover",l),a.addEventListener("mouseout",n),{destroy(){t&&t.$destroy(),a.removeEventListener("mouseover",l),a.removeEventListener("mouseout",n)}}}function cl(a,e,t){const l=a.slice();return l[19]=e[t],l[21]=t,l}function ul(a,e,t){const l=a.slice();return l[22]=e[t],l[24]=t,l}function hl(a,e,t){const l=a.slice();return l[22]=e[t],l[24]=t,l}function _l(a,e,t){const l=a.slice();return l[26]=e[t],l[21]=t,l}function dl(a){let e,t=a[11],l=[];for(let n=0;n<t.length;n+=1)l[n]=ml(_l(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);E(n,e,i)},p(n,i){if(i&2064){t=n[11];let s;for(s=0;s<t.length;s+=1){const f=_l(n,t,s);l[s]?l[s].p(f,i):(l[s]=ml(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function ml(a){let e,t,l=`${a[21]==0?0:a[4]}px`,n,i,s=a[26]+"",f,o,r;return{c(){e=w("li"),t=w("div"),n=N(),i=w("span"),f=O(s),r=N(),this.h()},l(c){e=y(c,"LI",{class:!0});var h=C(e);t=y(h,"DIV",{class:!0}),C(t).forEach(_),n=L(h),i=y(h,"SPAN",{class:!0});var u=C(i);f=M(u,s),u.forEach(_),r=L(h),h.forEach(_),this.h()},h(){v(t,"class","legend-vis "+(a[21]==0?"bar":"marker-vis")+" svelte-1hf4ghf"),S(t,"border-bottom-width",l,!1),v(i,"class",o=Se(a[21]==0?"bold":"brackets")+" svelte-1hf4ghf"),v(e,"class","svelte-1hf4ghf")},m(c,h){E(c,e,h),b(e,t),b(e,n),b(e,i),b(i,f),b(e,r)},p(c,h){h&16&&l!==(l=`${c[21]==0?0:c[4]}px`)&&S(t,"border-bottom-width",l,!1),h&2048&&s!==(s=c[26]+"")&&W(f,s)},d(c){c&&_(e)}}}function Nn(a){let e,t=a[19].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=gl(ul(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);E(n,e,i)},p(n,i){if(i&5650){t=n[19].values;let s;for(s=0;s<t.length;s+=1){const f=ul(n,t,s);l[s]?l[s].p(f,i):(l[s]=gl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function Ln(a){let e,t=a[19].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=bl(hl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);E(n,e,i)},p(n,i){if(i&5639){t=n[19].values;let s;for(s=0;s<t.length;s+=1){const f=hl(n,t,s);l[s]?l[s].p(f,i):(l[s]=bl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function gl(a){let e,t=`calc(${a[10](a[22][a[1]])}% - ${a[4]/2}px)`,l=`${a[24]/a[12].length*100}%`,n=`calc(${1/a[12].length*100}% - 2px)`,i=`${a[4]}px`;return{c(){e=w("div"),this.h()},l(s){e=y(s,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){v(e,"class","marker svelte-1hf4ghf"),S(e,"bottom",t,!1),S(e,"height","0px",!1),S(e,"left",l,!1),S(e,"width",n,!1),S(e,"border-bottom-width",i,!1)},m(s,f){E(s,e,f)},p(s,f){f&1554&&t!==(t=`calc(${s[10](s[22][s[1]])}% - ${s[4]/2}px)`)&&S(e,"bottom",t,!1),f&4096&&l!==(l=`${s[24]/s[12].length*100}%`)&&S(e,"left",l,!1),f&4096&&n!==(n=`calc(${1/s[12].length*100}% - 2px)`)&&S(e,"width",n,!1),f&16&&i!==(i=`${s[4]}px`)&&S(e,"border-bottom-width",i,!1)},d(s){s&&_(e)}}}function bl(a){let e,t,l,n=`${a[10](a[22][a[1]])}%`,i=`calc(${a[24]/a[12].length*100}%)`,s=`calc(${1/a[12].length*100}% - 2px)`,f,o;return{c(){e=w("div"),this.h()},l(r){e=y(r,"DIV",{title:!0,class:!0}),C(e).forEach(_),this.h()},h(){v(e,"title",t=`${a[22][a[0]]}: ${a[2](a[22][a[1]])}%`+(a[9].length>1?` (${a[2](a[9][a[21]+1].values[a[24]][a[1]])}%)`:"")),v(e,"class","bar svelte-1hf4ghf"),S(e,"bottom","0",!1),S(e,"height",n,!1),S(e,"left",i,!1),S(e,"width",s,!1)},m(r,c){E(r,e,c),f||(o=qt(l=Vn.call(null,e)),f=!0)},p(r,c){c&519&&t!==(t=`${r[22][r[0]]}: ${r[2](r[22][r[1]])}%`+(r[9].length>1?` (${r[2](r[9][r[21]+1].values[r[24]][r[1]])}%)`:""))&&v(e,"title",t),c&1538&&n!==(n=`${r[10](r[22][r[1]])}%`)&&S(e,"height",n,!1),c&4096&&i!==(i=`calc(${r[24]/r[12].length*100}%)`)&&S(e,"left",i,!1),c&4096&&s!==(s=`calc(${1/r[12].length*100}% - 2px)`)&&S(e,"width",s,!1)},d(r){r&&_(e),f=!1,o()}}}function vl(a){let e;function t(i,s){return i[21]==0?Ln:Nn}let n=t(a)(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),E(i,e,s)},p(i,s){n.p(i,s)},d(i){n.d(i),i&&_(e)}}}function kl(a){let e,t,l=a[6][0]!=0&&pl(a),n=a[6][1]!=18&&El(a);return{c(){l&&l.c(),e=N(),n&&n.c(),t=R()},l(i){l&&l.l(i),e=L(i),n&&n.l(i),t=R()},m(i,s){l&&l.m(i,s),E(i,e,s),n&&n.m(i,s),E(i,t,s)},p(i,s){i[6][0]!=0?l?l.p(i,s):(l=pl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i[6][1]!=18?n?n.p(i,s):(n=El(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){l&&l.d(i),i&&_(e),n&&n.d(i),i&&_(t)}}}function pl(a){let e,t=`${a[14](a[9])}%`;return{c(){e=w("div"),this.h()},l(l){e=y(l,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){v(e,"class","mask svelte-1hf4ghf"),S(e,"bottom","0",!1),S(e,"height",t,!1),S(e,"left","0",!1),S(e,"width",a[13](a[6][0]),!1)},m(l,n){E(l,e,n)},p(l,n){n&512&&t!==(t=`${l[14](l[9])}%`)&&S(e,"height",t,!1),n&64&&S(e,"width",l[13](l[6][0]),!1)},d(l){l&&_(e)}}}function El(a){let e,t=`${a[14](a[9])}%`;return{c(){e=w("div"),this.h()},l(l){e=y(l,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){v(e,"class","mask svelte-1hf4ghf"),S(e,"bottom","0",!1),S(e,"height",t,!1),S(e,"left",a[13](a[6][1]),!1),S(e,"right","2px",!1)},m(l,n){E(l,e,n)},p(l,n){n&512&&t!==(t=`${l[14](l[9])}%`)&&S(e,"height",t,!1),n&64&&S(e,"left",l[13](l[6][1]),!1)},d(l){l&&_(e)}}}function wl(a){let e,t,l;return{c(){e=w("small"),t=O(a[7]),l=O(a[8]),this.h()},l(n){e=y(n,"SMALL",{class:!0});var i=C(e);t=M(i,a[7]),l=M(i,a[8]),i.forEach(_),this.h()},h(){v(e,"class","svelte-1hf4ghf")},m(n,i){E(n,e,i),b(e,t),b(e,l)},p(n,i){i&128&&W(t,n[7]),i&256&&W(l,n[8])},d(n){n&&_(e)}}}function An(a){let e,t,l,n,i=`${a[3]}px`,s,f,o,r=a[5][0]+"",c,h,u,d=a[5][1]+"",g,m,I,k=a[11][1]&&dl(a),D=a[9],j=[];for(let p=0;p<D.length;p+=1)j[p]=vl(cl(a,D,p));let P=a[6]!=null&&kl(a),B=a[7]&&wl(a);return{c(){e=w("ul"),k&&k.c(),t=N(),l=w("div");for(let p=0;p<j.length;p+=1)j[p].c();n=N(),P&&P.c(),s=N(),f=w("div"),o=w("div"),c=O(r),h=N(),u=w("div"),g=O(d),m=N(),B&&B.c(),I=R(),this.h()},l(p){e=y(p,"UL",{class:!0});var q=C(e);k&&k.l(q),q.forEach(_),t=L(p),l=y(p,"DIV",{class:!0});var z=C(l);for(let G=0;G<j.length;G+=1)j[G].l(z);n=L(z),P&&P.l(z),z.forEach(_),s=L(p),f=y(p,"DIV",{class:!0});var T=C(f);o=y(T,"DIV",{class:!0});var H=C(o);c=M(H,r),H.forEach(_),h=L(T),u=y(T,"DIV",{class:!0});var ae=C(u);g=M(ae,d),ae.forEach(_),T.forEach(_),m=L(p),B&&B.l(p),I=R(),this.h()},h(){v(e,"class","legend-block svelte-1hf4ghf"),v(l,"class","bar-group svelte-1hf4ghf"),S(l,"height",i,!1),v(o,"class","svelte-1hf4ghf"),S(o,"left","0",!1),v(u,"class","svelte-1hf4ghf"),S(u,"right","0",!1),v(f,"class","x-scale svelte-1hf4ghf"),S(f,"height","1rem",!1)},m(p,q){E(p,e,q),k&&k.m(e,null),E(p,t,q),E(p,l,q);for(let z=0;z<j.length;z+=1)j[z].m(l,null);b(l,n),P&&P.m(l,null),E(p,s,q),E(p,f,q),b(f,o),b(o,c),b(f,h),b(f,u),b(u,g),E(p,m,q),B&&B.m(p,q),E(p,I,q)},p(p,[q]){if(p[11][1]?k?k.p(p,q):(k=dl(p),k.c(),k.m(e,null)):k&&(k.d(1),k=null),q&5655){D=p[9];let z;for(z=0;z<D.length;z+=1){const T=cl(p,D,z);j[z]?j[z].p(T,q):(j[z]=vl(T),j[z].c(),j[z].m(l,n))}for(;z<j.length;z+=1)j[z].d(1);j.length=D.length}p[6]!=null?P?P.p(p,q):(P=kl(p),P.c(),P.m(l,null)):P&&(P.d(1),P=null),q&8&&i!==(i=`${p[3]}px`)&&S(l,"height",i,!1),q&32&&r!==(r=p[5][0]+"")&&W(c,r),q&32&&d!==(d=p[5][1]+"")&&W(g,d),p[7]?B?B.p(p,q):(B=wl(p),B.c(),B.m(I.parentNode,I)):B&&(B.d(1),B=null)},i:U,o:U,d(p){p&&_(e),k&&k.d(),p&&_(t),p&&_(l),le(j,p),P&&P.d(),p&&_(s),p&&_(f),p&&_(m),B&&B.d(p),p&&_(I)}}}function Kn(a,e,t){let l,n,i,s,f,{data:o}=e,{xKey:r="category"}=e,{yKey:c="value"}=e,{zKey:h="areanm"}=e,{formatTick:u=p=>p.toFixed(1)}=e,{height:d=100}=e,{markerWidth:g=2.5}=e,{minmax:m=["0 years","85+"]}=e,{maskRange:I=null}=e,{base:k=null}=e,{base_ext:D=", 5 year age bands"}=e;function j(p,q){let z={};for(const H of p)z[H[q]]||(z[H[q]]={label:H[q],values:[]}),z[H[q]].values.push(H);let T=[];for(const H in z)T.push(z[H]);return T}function P(p){return p%1===0?`calc(${p/l.length*100}% - 1px)`:`calc(${Math.floor(p)/l.length*100}% +(${1/l.length*100}% - 2px) * ${p%1})`}function B(p){return Math.max(...p.map(q=>Math.max(...q.values.map(z=>s(z[c])))))}return a.$$set=p=>{"data"in p&&t(15,o=p.data),"xKey"in p&&t(0,r=p.xKey),"yKey"in p&&t(1,c=p.yKey),"zKey"in p&&t(16,h=p.zKey),"formatTick"in p&&t(2,u=p.formatTick),"height"in p&&t(3,d=p.height),"markerWidth"in p&&t(4,g=p.markerWidth),"minmax"in p&&t(5,m=p.minmax),"maskRange"in p&&t(6,I=p.maskRange),"base"in p&&t(7,k=p.base),"base_ext"in p&&t(8,D=p.base_ext)},a.$$.update=()=>{a.$$.dirty&32769&&t(12,l=o.map(p=>p[r]).filter((p,q,z)=>z.indexOf(p)===q)),a.$$.dirty&32770&&t(17,n=[0,Math.max(...o.map(p=>p[c]))]),a.$$.dirty&98304&&t(11,i=o.map(p=>p[h]).filter((p,q,z)=>z.indexOf(p)===q)),a.$$.dirty&131072&&t(10,s=p=>Math.abs(p/n[1])*100),a.$$.dirty&98304&&t(9,f=j(o,h))},[r,c,u,d,g,m,I,k,D,f,s,i,l,P,B,o,h,n]}class On extends te{constructor(e){super();ne(this,e,Kn,An,ie,{data:15,xKey:0,yKey:1,zKey:16,formatTick:2,height:3,markerWidth:4,minmax:5,maskRange:6,base:7,base_ext:8})}}function yl(a,e,t){const l=a.slice();return l[10]=e[t],l[12]=t,l}function Cl(a){let e,t,l,n,i,s=a[6](a[4][a[12]])+"",f;return{c(){e=w("div"),t=N(),l=w("div"),n=N(),i=w("div"),f=O(s),this.h()},l(o){e=y(o,"DIV",{class:!0,style:!0}),C(e).forEach(_),t=L(o),l=y(o,"DIV",{class:!0,style:!0}),C(l).forEach(_),n=L(o),i=y(o,"DIV",{class:!0,style:!0});var r=C(i);f=M(r,s),r.forEach(_),this.h()},h(){v(e,"class","block svelte-j1hxpu"),S(e,"width",100/(a[4].length-1)+"%"),S(e,"left",a[12]*(100/(a[4].length-1))+"%"),S(e,"background-color",a[5][a[12]]),v(l,"class","line svelte-j1hxpu"),S(l,"left",a[12]*(100/(a[4].length-1))+"%"),v(i,"class","tick svelte-j1hxpu"),S(i,"left",a[12]*(100/(a[4].length-1))+"%"),fe(i,"tick-start",a[12]==0)},m(o,r){E(o,e,r),E(o,t,r),E(o,l,r),E(o,n,r),E(o,i,r),b(i,f)},p(o,r){r&16&&S(e,"width",100/(o[4].length-1)+"%"),r&16&&S(e,"left",o[12]*(100/(o[4].length-1))+"%"),r&32&&S(e,"background-color",o[5][o[12]]),r&16&&S(l,"left",o[12]*(100/(o[4].length-1))+"%"),r&80&&s!==(s=o[6](o[4][o[12]])+"")&&W(f,s),r&16&&S(i,"left",o[12]*(100/(o[4].length-1))+"%")},d(o){o&&_(e),o&&_(t),o&&_(l),o&&_(n),o&&_(i)}}}function Dl(a){let e,t,l,n=a[7](a[1])+"",i,s;return{c(){e=w("div"),t=N(),l=w("div"),i=O(n),s=O(a[8]),this.h()},l(f){e=y(f,"DIV",{class:!0,style:!0}),C(e).forEach(_),t=L(f),l=y(f,"DIV",{class:!0,style:!0});var o=C(l);i=M(o,n),s=M(o,a[8]),o.forEach(_),this.h()},h(){v(e,"class","marker svelte-j1hxpu"),S(e,"width",a[2]+"px"),S(e,"left","calc("+a[9](a[1],a[4])+"% - "+a[2]/2+"px)"),v(l,"class","value svelte-j1hxpu"),S(l,"left",a[9](a[1],a[4])+"%")},m(f,o){E(f,e,o),E(f,t,o),E(f,l,o),b(l,i),b(l,s)},p(f,o){o&4&&S(e,"width",f[2]+"px"),o&22&&S(e,"left","calc("+f[9](f[1],f[4])+"% - "+f[2]/2+"px)"),o&130&&n!==(n=f[7](f[1])+"")&&W(i,n),o&256&&W(s,f[8]),o&18&&S(l,"left",f[9](f[1],f[4])+"%")},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function Il(a){let e,t,l,n=a[7](a[0])+"",i,s;return{c(){e=w("div"),t=N(),l=w("div"),i=O(n),s=O(a[8]),this.h()},l(f){e=y(f,"DIV",{class:!0,style:!0}),C(e).forEach(_),t=L(f),l=y(f,"DIV",{class:!0,style:!0});var o=C(l);i=M(o,n),s=M(o,a[8]),o.forEach(_),this.h()},h(){v(e,"class","marker marker-hovered svelte-j1hxpu"),S(e,"width",a[2]+"px"),S(e,"left","calc("+a[9](a[0],a[4])+"% - "+a[2]/2+"px)"),v(l,"class","value svelte-j1hxpu"),S(l,"left",a[9](a[0],a[4])+"%")},m(f,o){E(f,e,o),E(f,t,o),E(f,l,o),b(l,i),b(l,s)},p(f,o){o&4&&S(e,"width",f[2]+"px"),o&21&&S(e,"left","calc("+f[9](f[0],f[4])+"% - "+f[2]/2+"px)"),o&129&&n!==(n=f[7](f[0])+"")&&W(i,n),o&256&&W(s,f[8]),o&17&&S(l,"left",f[9](f[0],f[4])+"%")},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function Mn(a){let e,t,l,n,i,s=a[6](a[4][a[4].length-1])+"",f,o,r,c,h=a[4].slice(1),u=[];for(let m=0;m<h.length;m+=1)u[m]=Cl(yl(a,h,m));let d=a[1]&&Dl(a),g=a[0]&&Il(a);return{c(){e=w("div");for(let m=0;m<u.length;m+=1)u[m].c();t=N(),l=w("div"),n=N(),i=w("div"),f=O(s),o=O(a[8]),r=N(),d&&d.c(),c=N(),g&&g.c(),this.h()},l(m){e=y(m,"DIV",{class:!0,style:!0});var I=C(e);for(let D=0;D<u.length;D+=1)u[D].l(I);t=L(I),l=y(I,"DIV",{class:!0,style:!0}),C(l).forEach(_),n=L(I),i=y(I,"DIV",{class:!0,style:!0});var k=C(i);f=M(k,s),o=M(k,a[8]),k.forEach(_),r=L(I),d&&d.l(I),c=L(I),g&&g.l(I),I.forEach(_),this.h()},h(){v(l,"class","line svelte-j1hxpu"),S(l,"left","100%"),v(i,"class","tick tick-end svelte-j1hxpu"),S(i,"left","100%"),v(e,"class","container svelte-j1hxpu"),S(e,"height",a[3]+"px")},m(m,I){E(m,e,I);for(let k=0;k<u.length;k+=1)u[k].m(e,null);b(e,t),b(e,l),b(e,n),b(e,i),b(i,f),b(i,o),b(e,r),d&&d.m(e,null),b(e,c),g&&g.m(e,null)},p(m,[I]){if(I&112){h=m[4].slice(1);let k;for(k=0;k<h.length;k+=1){const D=yl(m,h,k);u[k]?u[k].p(D,I):(u[k]=Cl(D),u[k].c(),u[k].m(e,t))}for(;k<u.length;k+=1)u[k].d(1);u.length=h.length}I&80&&s!==(s=m[6](m[4][m[4].length-1])+"")&&W(f,s),I&256&&W(o,m[8]),m[1]?d?d.p(m,I):(d=Dl(m),d.c(),d.m(e,c)):d&&(d.d(1),d=null),m[0]?g?g.p(m,I):(g=Il(m),g.c(),g.m(e,null)):g&&(g.d(1),g=null),I&8&&S(e,"height",m[3]+"px")},i:U,o:U,d(m){m&&_(e),le(u,m),d&&d.d(),g&&g.d()}}}function jn(a,e,t){let{hovered:l=null}=e,{selected:n=null}=e,{lineWidth:i=3}=e,{height:s=15}=e,{breaks:f=[0,20,40,60,80,100]}=e,{colors:o=["rgba(234,236,177,.8)","rgba(169,216,145,.8)","rgba(0,167,186,.8)","rgba(0,78,166,.8)","rgba(0,13,84,.8)"]}=e,{formatTick:r=d=>d.toFixed(1)}=e,{formatVal:c=d=>d.toFixed(1)}=e,{suffix:h="%"}=e;const u=(d,g)=>{let m=0;for(;d>g[m+1];)m+=1;let I=100/(g.length-1),k=(d-g[m])/(g[m+1]-g[m]);return(m+k)*I};return a.$$set=d=>{"hovered"in d&&t(0,l=d.hovered),"selected"in d&&t(1,n=d.selected),"lineWidth"in d&&t(2,i=d.lineWidth),"height"in d&&t(3,s=d.height),"breaks"in d&&t(4,f=d.breaks),"colors"in d&&t(5,o=d.colors),"formatTick"in d&&t(6,r=d.formatTick),"formatVal"in d&&t(7,c=d.formatVal),"suffix"in d&&t(8,h=d.suffix)},[l,n,i,s,f,o,r,c,h,u]}class Bn extends te{constructor(e){super();ne(this,e,jn,Mn,ie,{hovered:0,selected:1,lineWidth:2,height:3,breaks:4,colors:5,formatTick:6,formatVal:7,suffix:8})}}function Sl(a,e,t){const l=a.slice();return l[14]=e[t],l}function zl(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Pl(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Tl(a,e,t){const l=a.slice();return l[14]=e[t],l[19]=t,l}function Vl(a){let e,t=a[8],l=[];for(let n=0;n<t.length;n+=1)l[n]=Nl(Tl(a,t,n));return{c(){e=w("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=y(n,"UL",{class:!0});var i=C(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){v(e,"class","legend-block svelte-1sx4bpf")},m(n,i){E(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&288){t=n[8];let s;for(s=0;s<t.length;s+=1){const f=Tl(n,t,s);l[s]?l[s].p(f,i):(l[s]=Nl(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),le(l,n)}}}function Nl(a){let e,t,l,n,i=a[14]+"",s,f,o;return{c(){e=w("li"),t=w("div"),l=N(),n=w("span"),s=O(i),o=N(),this.h()},l(r){e=y(r,"LI",{class:!0});var c=C(e);t=y(c,"DIV",{class:!0}),C(t).forEach(_),l=L(c),n=y(c,"SPAN",{class:!0});var h=C(n);s=M(h,i),h.forEach(_),o=L(c),c.forEach(_),this.h()},h(){v(t,"class","legend-vis "+(a[19]==0?"bar":"marker")+" svelte-1sx4bpf"),S(t,"height","1rem",!1),S(t,"width",a[19]==0?"1rem":a[5]+"px",!1),v(n,"class",f=Se(a[19]==0?"bold":"brackets")+" svelte-1sx4bpf"),v(e,"class","svelte-1sx4bpf"),fe(e,"ew",a[19]!=0)},m(r,c){E(r,e,c),b(e,t),b(e,l),b(e,n),b(n,s),b(e,o)},p(r,c){c&32&&S(t,"width",r[19]==0?"1rem":r[5]+"px",!1),c&256&&i!==(i=r[14]+"")&&W(s,i)},d(r){r&&_(e)}}}function Ll(a){let e,t=a[1](a[17][a[0]])+"",l,n,i;return{c(){e=w("span"),l=O(t),n=O(a[2]),this.h()},l(s){e=y(s,"SPAN",{class:!0});var f=C(e);l=M(f,t),n=M(f,a[2]),f.forEach(_),this.h()},h(){v(e,"class",i="label "+(a[19]==0?"bold":"sml brackets")+" svelte-1sx4bpf")},m(s,f){E(s,e,f),b(e,l),b(e,n)},p(s,f){f&67&&t!==(t=s[1](s[17][s[0]])+"")&&W(l,t),f&4&&W(n,s[2])},d(s){s&&_(e)}}}function qn(a){let e,t=`calc(${a[7](a[17][a[0]])}% - ${a[5]/2}px)`,l=`${a[5]}px`;return{c(){e=w("div"),this.h()},l(n){e=y(n,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){v(e,"class","marker svelte-1sx4bpf"),S(e,"left",t,!1),S(e,"border-left-width",l,!1)},m(n,i){E(n,e,i)},p(n,i){i&225&&t!==(t=`calc(${n[7](n[17][n[0]])}% - ${n[5]/2}px)`)&&S(e,"left",t,!1),i&32&&l!==(l=`${n[5]}px`)&&S(e,"border-left-width",l,!1)},d(n){n&&_(e)}}}function Fn(a){let e,t=`${a[7](a[17][a[0]])}%`;return{c(){e=w("div"),this.h()},l(l){e=y(l,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){v(e,"class","bar svelte-1sx4bpf"),S(e,"left","0",!1),S(e,"width",t,!1)},m(l,n){E(l,e,n)},p(l,n){n&193&&t!==(t=`${l[7](l[17][l[0]])}%`)&&S(e,"width",t,!1)},d(l){l&&_(e)}}}function Al(a){let e;function t(i,s){return i[19]==0?Fn:qn}let n=t(a)(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),E(i,e,s)},p(i,s){n.p(i,s)},d(i){n.d(i),i&&_(e)}}}function Kl(a){let e,t=a[14].label+"",l,n,i,s,f,o=`${a[4]}px`,r=a[14].values,c=[];for(let d=0;d<r.length;d+=1)c[d]=Ll(Pl(a,r,d));let h=a[14].values,u=[];for(let d=0;d<h.length;d+=1)u[d]=Al(zl(a,h,d));return{c(){e=w("div"),l=O(t),n=N(),i=w("span");for(let d=0;d<c.length;d+=1)c[d].c();s=N(),f=w("div");for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=y(d,"DIV",{class:!0});var g=C(e);l=M(g,t),n=L(g),i=y(g,"SPAN",{class:!0});var m=C(i);for(let k=0;k<c.length;k+=1)c[k].l(m);m.forEach(_),g.forEach(_),s=L(d),f=y(d,"DIV",{class:!0});var I=C(f);for(let k=0;k<u.length;k+=1)u[k].l(I);I.forEach(_),this.h()},h(){v(i,"class","nowrap svelte-1sx4bpf"),v(e,"class","label-group svelte-1sx4bpf"),v(f,"class","bar-group svelte-1sx4bpf"),S(f,"height",o,!1)},m(d,g){E(d,e,g),b(e,l),b(e,n),b(e,i);for(let m=0;m<c.length;m+=1)c[m].m(i,null);E(d,s,g),E(d,f,g);for(let m=0;m<u.length;m+=1)u[m].m(f,null)},p(d,g){if(g&64&&t!==(t=d[14].label+"")&&W(l,t),g&71){r=d[14].values;let m;for(m=0;m<r.length;m+=1){const I=Pl(d,r,m);c[m]?c[m].p(I,g):(c[m]=Ll(I),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}if(g&225){h=d[14].values;let m;for(m=0;m<h.length;m+=1){const I=zl(d,h,m);u[m]?u[m].p(I,g):(u[m]=Al(I),u[m].c(),u[m].m(f,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=h.length}g&16&&o!==(o=`${d[4]}px`)&&S(f,"height",o,!1)},d(d){d&&_(e),le(c,d),d&&_(s),d&&_(f),le(u,d)}}}function Ol(a){let e,t;return{c(){e=w("small"),t=O(a[3]),this.h()},l(l){e=y(l,"SMALL",{class:!0});var n=C(e);t=M(n,a[3]),n.forEach(_),this.h()},h(){v(e,"class","svelte-1sx4bpf")},m(l,n){E(l,e,n),b(e,t)},p(l,n){n&8&&W(t,l[3])},d(l){l&&_(e)}}}function Hn(a){let e,t,l,n=a[8][1]&&Vl(a),i=a[6],s=[];for(let o=0;o<i.length;o+=1)s[o]=Kl(Sl(a,i,o));let f=a[3]&&Ol(a);return{c(){n&&n.c(),e=N();for(let o=0;o<s.length;o+=1)s[o].c();t=N(),f&&f.c(),l=R()},l(o){n&&n.l(o),e=L(o);for(let r=0;r<s.length;r+=1)s[r].l(o);t=L(o),f&&f.l(o),l=R()},m(o,r){n&&n.m(o,r),E(o,e,r);for(let c=0;c<s.length;c+=1)s[c].m(o,r);E(o,t,r),f&&f.m(o,r),E(o,l,r)},p(o,[r]){if(o[8][1]?n?n.p(o,r):(n=Vl(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),r&247){i=o[6];let c;for(c=0;c<i.length;c+=1){const h=Sl(o,i,c);s[c]?s[c].p(h,r):(s[c]=Kl(h),s[c].c(),s[c].m(t.parentNode,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=i.length}o[3]?f?f.p(o,r):(f=Ol(o),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null)},i:U,o:U,d(o){n&&n.d(o),o&&_(e),le(s,o),o&&_(t),f&&f.d(o),o&&_(l)}}}function Rn(a,e,t){let l,n,i,s,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:c="areanm"}=e,{formatTick:h=k=>k.toFixed(1)}=e,{suffix:u="%"}=e,{base:d=null}=e,{barHeight:g=25}=e,{markerWidth:m=3}=e;function I(k,D){let j={},P=[];for(const p of k)j[p[D]]||(j[p[D]]={label:p[D],values:[]},P.push(p[D])),j[p[D]].values.push(p);let B=[];return P.forEach(p=>{B.push(j[p])}),B}return a.$$set=k=>{"data"in k&&t(9,f=k.data),"xKey"in k&&t(0,o=k.xKey),"yKey"in k&&t(10,r=k.yKey),"zKey"in k&&t(11,c=k.zKey),"formatTick"in k&&t(1,h=k.formatTick),"suffix"in k&&t(2,u=k.suffix),"base"in k&&t(3,d=k.base),"barHeight"in k&&t(4,g=k.barHeight),"markerWidth"in k&&t(5,m=k.markerWidth)},a.$$.update=()=>{a.$$.dirty&513&&t(12,l=Math.max(...f.map(k=>k[o]))),a.$$.dirty&2560&&t(8,n=f.map(k=>k[c]).filter((k,D,j)=>j.indexOf(k)===D)),a.$$.dirty&4096&&t(7,i=k=>k/l*100),a.$$.dirty&1536&&t(6,s=I(f,r))},[o,h,u,d,g,m,s,i,n,f,r,c,l]}class Vt extends te{constructor(e){super();ne(this,e,Rn,Hn,ie,{data:9,xKey:0,yKey:10,zKey:11,formatTick:1,suffix:2,base:3,barHeight:4,markerWidth:5})}}function Ml(a,e,t){const l=a.slice();return l[15]=e[t],l}function jl(a,e,t){const l=a.slice();return l[18]=e[t],l[19]=e,l[20]=t,l}function Bl(a,e,t){const l=a.slice();return l[15]=e[t],l[20]=t,l}function ql(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=Fl(Bl(a,t,n));return{c(){e=w("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=y(n,"UL",{class:!0});var i=C(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){v(e,"class","legend-block svelte-7hzvwr")},m(n,i){E(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&128){t=n[7];let s;for(s=0;s<t.length;s+=1){const f=Bl(n,t,s);l[s]?l[s].p(f,i):(l[s]=Fl(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),le(l,n)}}}function Fl(a){let e,t,l,n,i=a[15]+"",s,f;return{c(){e=w("li"),t=w("div"),l=N(),n=w("span"),s=O(i),f=N(),this.h()},l(o){e=y(o,"LI",{class:!0});var r=C(e);t=y(r,"DIV",{class:!0}),C(t).forEach(_),l=L(r),n=y(r,"SPAN",{class:!0});var c=C(n);s=M(c,i),c.forEach(_),f=L(r),r.forEach(_),this.h()},h(){v(t,"class","legend-vis "+(a[20]==0?"bar":"bar2")+" svelte-7hzvwr"),v(n,"class","svelte-7hzvwr"),fe(n,"bold",a[20]==0),v(e,"class","svelte-7hzvwr")},m(o,r){E(o,e,r),b(e,t),b(e,l),b(e,n),b(n,s),b(e,f)},p(o,r){r&128&&i!==(i=o[15]+"")&&W(s,i)},d(o){o&&_(e)}}}function Hl(a){let e,t=`${a[6](a[18][a[0]])}%`,l,n,i=a[1](a[18][a[0]])+"",s,f,o,r=`calc(${a[6](a[18][a[0]])}% + 2px)`;function c(){a[12].call(n,a[19],a[20])}return{c(){e=w("div"),l=N(),n=w("div"),s=O(i),f=O(a[2]),this.h()},l(h){e=y(h,"DIV",{class:!0}),C(e).forEach(_),l=L(h),n=y(h,"DIV",{class:!0});var u=C(n);s=M(u,i),f=M(u,a[2]),u.forEach(_),this.h()},h(){v(e,"class",Se(a[20]==0?"bar":"bar2")+" svelte-7hzvwr"),S(e,"left","0",!1),S(e,"width",t,!1),S(e,"top",a[20]==0?"0":"50%",!1),S(e,"height",a[7][1]?"50%":"100%",!1),v(n,"class","label svelte-7hzvwr"),Be(()=>c.call(n)),fe(n,"bold",a[20]==0),S(n,"left",r,!1),S(n,"top",a[20]==0?"0":"50%",!1),S(n,"height","50%",!1)},m(h,u){E(h,e,u),E(h,l,u),E(h,n,u),b(n,s),b(n,f),o=qe(n,c.bind(n))},p(h,u){a=h,u&97&&t!==(t=`${a[6](a[18][a[0]])}%`)&&S(e,"width",t,!1),u&128&&S(e,"height",a[7][1]?"50%":"100%",!1),u&35&&i!==(i=a[1](a[18][a[0]])+"")&&W(s,i),u&4&&W(f,a[2]),u&97&&r!==(r=`calc(${a[6](a[18][a[0]])}% + 2px)`)&&S(n,"left",r,!1)},d(h){h&&_(e),h&&_(l),h&&_(n),o()}}}function Rl(a){let e,t=a[15].label+"",l,n,i,s,f=`${a[7][1]?a[3]*2:a[3]}px`,o=`calc(100% - ${a[4]}px)`,r=a[15].values,c=[];for(let h=0;h<r.length;h+=1)c[h]=Hl(jl(a,r,h));return{c(){e=w("div"),l=O(t),n=N(),i=w("div");for(let h=0;h<c.length;h+=1)c[h].c();s=N(),this.h()},l(h){e=y(h,"DIV",{class:!0});var u=C(e);l=M(u,t),u.forEach(_),n=L(h),i=y(h,"DIV",{class:!0});var d=C(i);for(let g=0;g<c.length;g+=1)c[g].l(d);s=L(d),d.forEach(_),this.h()},h(){v(e,"class","label-group svelte-7hzvwr"),v(i,"class","bar-group svelte-7hzvwr"),S(i,"height",f,!1),S(i,"width",o,!1)},m(h,u){E(h,e,u),b(e,l),E(h,n,u),E(h,i,u);for(let d=0;d<c.length;d+=1)c[d].m(i,null);b(i,s)},p(h,u){if(u&32&&t!==(t=h[15].label+"")&&W(l,t),u&231){r=h[15].values;let d;for(d=0;d<r.length;d+=1){const g=jl(h,r,d);c[d]?c[d].p(g,u):(c[d]=Hl(g),c[d].c(),c[d].m(i,s))}for(;d<c.length;d+=1)c[d].d(1);c.length=r.length}u&136&&f!==(f=`${h[7][1]?h[3]*2:h[3]}px`)&&S(i,"height",f,!1),u&16&&o!==(o=`calc(100% - ${h[4]}px)`)&&S(i,"width",o,!1)},d(h){h&&_(e),h&&_(n),h&&_(i),le(c,h)}}}function Wn(a){let e,t,l=a[7][1]&&ql(a),n=a[5],i=[];for(let s=0;s<n.length;s+=1)i[s]=Rl(Ml(a,n,s));return{c(){l&&l.c(),e=N();for(let s=0;s<i.length;s+=1)i[s].c();t=R()},l(s){l&&l.l(s),e=L(s);for(let f=0;f<i.length;f+=1)i[f].l(s);t=R()},m(s,f){l&&l.m(s,f),E(s,e,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);E(s,t,f)},p(s,[f]){if(s[7][1]?l?l.p(s,f):(l=ql(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&255){n=s[5];let o;for(o=0;o<n.length;o+=1){const r=Ml(s,n,o);i[o]?i[o].p(r,f):(i[o]=Rl(r),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:U,o:U,d(s){l&&l.d(s),s&&_(e),le(i,s),s&&_(t)}}}function Gn(a,e,t){let l,n,i,s,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:c="group"}=e,{formatTick:h=k=>Math.round(k)}=e,{suffix:u="%"}=e,{barHeight:d=20}=e,{margin:g=30}=e;function m(k,D){let j={};for(const B of k)j[B[D]]||(j[B[D]]={label:B[D],values:[]}),j[B[D]].values.push(B);let P=[];for(const B in j)P.push(j[B]);return P}function I(k,D){k[D].width=this.clientWidth,t(5,s),t(8,f),t(9,r)}return a.$$set=k=>{"data"in k&&t(8,f=k.data),"xKey"in k&&t(0,o=k.xKey),"yKey"in k&&t(9,r=k.yKey),"zKey"in k&&t(10,c=k.zKey),"formatTick"in k&&t(1,h=k.formatTick),"suffix"in k&&t(2,u=k.suffix),"barHeight"in k&&t(3,d=k.barHeight),"margin"in k&&t(4,g=k.margin)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...f.map(k=>k[o]))]),a.$$.dirty&768&&f.map(k=>k[r]).filter((k,D,j)=>j.indexOf(k)===D),a.$$.dirty&1280&&t(7,n=f.map(k=>k[c]).filter((k,D,j)=>j.indexOf(k)===D)),a.$$.dirty&2048&&t(6,i=k=>k/l[1]*100),a.$$.dirty&768&&t(5,s=m(f,r))},[o,h,u,d,g,s,i,n,f,r,c,l,I]}class Un extends te{constructor(e){super();ne(this,e,Gn,Wn,ie,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,margin:4})}}function Wl(a,e,t){const l=a.slice();return l[2]=e[t],l[4]=t,l}function Gl(a){let e,t,l,n=a[2].name+"",i,s,f,o=a[2].value.toFixed(1)+"",r,c,h;return{c(){e=w("tr"),t=w("td"),l=w("strong"),i=O(n),s=N(),f=w("td"),r=O(o),c=O("%"),h=N(),this.h()},l(u){e=y(u,"TR",{});var d=C(e);t=y(d,"TD",{});var g=C(t);l=y(g,"STRONG",{});var m=C(l);i=M(m,n),m.forEach(_),g.forEach(_),s=L(d),f=y(d,"TD",{class:!0});var I=C(f);r=M(I,o),c=M(I,"%"),I.forEach(_),h=L(d),d.forEach(_),this.h()},h(){v(f,"class","text-right svelte-vtsuxa")},m(u,d){E(u,e,d),b(e,t),b(t,l),b(l,i),b(e,s),b(e,f),b(f,r),b(f,c),b(e,h)},p(u,d){d&1&&n!==(n=u[2].name+"")&&W(i,n),d&1&&o!==(o=u[2].value.toFixed(1)+"")&&W(r,o)},d(u){u&&_(e)}}}function Zn(a){let e,t,l=a[0],n=[];for(let i=0;i<l.length;i+=1)n[i]=Gl(Wl(a,l,i));return{c(){e=w("table"),t=w("tbody");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=y(i,"TABLE",{class:!0});var s=C(e);t=y(s,"TBODY",{});var f=C(t);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(_),s.forEach(_),this.h()},h(){v(e,"class","table-rank text-small svelte-vtsuxa")},m(i,s){E(i,e,s),b(e,t);for(let f=0;f<n.length;f+=1)n[f].m(t,null)},p(i,[s]){if(s&1){l=i[0];let f;for(f=0;f<l.length;f+=1){const o=Wl(i,l,f);n[f]?n[f].p(o,s):(n[f]=Gl(o),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},i:U,o:U,d(i){i&&_(e),le(n,i)}}}function Xn(a,e,t){let{data:l}=e,{offset:n=1}=e;return a.$$set=i=>{"data"in i&&t(0,l=i.data),"offset"in i&&t(1,n=i.offset)},[l,n]}class Nt extends te{constructor(e){super();ne(this,e,Xn,Zn,ie,{data:0,offset:1})}}function Ul(a){let e;const t=a[14].default,l=he(t,a,a[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&8192)&&_e(l,t,n,n[13],e?me(t,n[13],i,null):de(n[13]),null)},i(n){e||(V(l,n),e=!0)},o(n){K(l,n),e=!1},d(n){l&&l.d(n)}}}function Jn(a){let e,t,l=a[0]&&Ul(a);return{c(){e=w("div"),l&&l.c(),this.h()},l(n){e=y(n,"DIV",{id:!0,class:!0});var i=C(e);l&&l.l(i),i.forEach(_),this.h()},h(){v(e,"id",a[1]),v(e,"class","svelte-a65d1y")},m(n,i){E(n,e,i),l&&l.m(e,null),a[15](e),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&V(l,1)):(l=Ul(n),l.c(),V(l,1),l.m(e,null)):l&&(se(),K(l,1,1,()=>{l=null}),oe()),(!t||i&2)&&v(e,"id",n[1])},i(n){t||(V(l),t=!0)},o(n){K(l),t=!1},d(n){n&&_(e),l&&l.d(),a[15](null)}}}function Yn(a,e,t){let{$$slots:l={},$$scope:n}=e,{map:i}=e,{id:s="map"}=e,{location:f={bounds:[[-5.816,49.864],[1.863,55.872]]}}=e,{maxbounds:o=[[-13,48],[5,60]]}=e,{style:r="https://bothness.github.io/ons-basemaps/data/style-omt.json"}=e,{interactive:c=!0}=e,{minzoom:h=0}=e,{maxzoom:u=14}=e,{zoom:d=null}=e,{scrollzoom:g=!0}=e,{geolocate:m=!0}=e,{zoomcontrol:I=!0}=e,k,D;ye("map",{getMap:()=>i}),f.bounds?D={bounds:f.bounds}:f.lon&&f.lat&&(D={center:[f.lon,f.lat]},f.zoom&&(D.zoom=f.zoom)),o&&(D.maxBounds=o),Ft(()=>{const P=document.createElement("link");return P.rel="stylesheet",P.href="https://unpkg.com/mapbox-gl@1.13.0/dist/mapbox-gl.css",P.onload=()=>{t(0,i=new Ne.Map(ke({container:k,style:r,minZoom:h,maxZoom:u,interactive:c},D))),I&&i.addControl(new Ne.NavigationControl({showCompass:!1})),g||i.scrollZoom.disable(),m&&i.addControl(new Ne.GeolocateControl),i.on("load",()=>{t(3,d=i.getZoom())}),i.on("zoom",()=>{t(3,d=i.getZoom())})},document.head.appendChild(P),()=>{i.remove(),P.parentNode.removeChild(P)}});function j(P){De[P?"unshift":"push"](()=>{k=P,t(2,k)})}return a.$$set=P=>{"map"in P&&t(0,i=P.map),"id"in P&&t(1,s=P.id),"location"in P&&t(4,f=P.location),"maxbounds"in P&&t(5,o=P.maxbounds),"style"in P&&t(6,r=P.style),"interactive"in P&&t(7,c=P.interactive),"minzoom"in P&&t(8,h=P.minzoom),"maxzoom"in P&&t(9,u=P.maxzoom),"zoom"in P&&t(3,d=P.zoom),"scrollzoom"in P&&t(10,g=P.scrollzoom),"geolocate"in P&&t(11,m=P.geolocate),"zoomcontrol"in P&&t(12,I=P.zoomcontrol),"$$scope"in P&&t(13,n=P.$$scope)},[i,s,k,d,f,o,r,c,h,u,g,m,I,n,l,j]}class Qn extends te{constructor(e){super();ne(this,e,Yn,Jn,ie,{map:0,id:1,location:4,maxbounds:5,style:6,interactive:7,minzoom:8,maxzoom:9,zoom:3,scrollzoom:10,geolocate:11,zoomcontrol:12})}}function Zl(a){let e;const t=a[11].default,l=he(t,a,a[10],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&1024)&&_e(l,t,n,n[10],e?me(t,n[10],i,null):de(n[10]),null)},i(n){e||(V(l,n),e=!0)},o(n){K(l,n),e=!1},d(n){l&&l.d(n)}}}function $n(a){let e,t,l=a[0]&&Zl(a);return{c(){l&&l.c(),e=R()},l(n){l&&l.l(n),e=R()},m(n,i){l&&l.m(n,i),E(n,e,i),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&V(l,1)):(l=Zl(n),l.c(),V(l,1),l.m(e.parentNode,e)):l&&(se(),K(l,1,1,()=>{l=null}),oe())},i(n){t||(V(l),t=!0)},o(n){K(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function xn(a,e,t){let{$$slots:l={},$$scope:n}=e,{id:i}=e,{type:s}=e,{url:f=null}=e,{props:o={}}=e,{data:r=null}=e,{layer:c=null}=e,{promoteId:h=null}=e,{minzoom:u=null}=e,{maxzoom:d=null}=e,g=!1;const{getMap:m}=Ie("map"),I=m();ye("source",{source:i,sourceLayer:c}),I.getSource(i)&&I.removeSource(i);function k(){I.isSourceLoaded(i)?t(0,g=!0):setTimeout(()=>{k()},500)}function D(){I.isStyleLoaded(i)?(j(),document.querySelector("#map canvas")&&document.querySelector("#map canvas").tabIndex=="0"&&(document.querySelector("#map canvas").tabIndex="-1")):setTimeout(()=>{D()},500)}u&&(o.minzoom=u),d&&(o.maxzoom=d),c&&h?(o.promoteId={},o.promoteId[c]=h):h&&(o.promoteId=h);function j(){s=="geojson"?r?(I.addSource(i,ke({type:s,data:r},o)),k()):f&&(I.addSource(i,ke({type:s,data:f},o)),k()):s=="vector"&&(I.addSource(i,ke({type:s,tiles:[f]},o)),k())}D();function P(){I.getSource(i).setData(r)}return a.$$set=B=>{"id"in B&&t(2,i=B.id),"type"in B&&t(3,s=B.type),"url"in B&&t(4,f=B.url),"props"in B&&t(1,o=B.props),"data"in B&&t(5,r=B.data),"layer"in B&&t(6,c=B.layer),"promoteId"in B&&t(7,h=B.promoteId),"minzoom"in B&&t(8,u=B.minzoom),"maxzoom"in B&&t(9,d=B.maxzoom),"$$scope"in B&&t(10,n=B.$$scope)},a.$$.update=()=>{a.$$.dirty&33&&g&&r&&P()},[g,o,i,s,f,r,c,h,u,d,n,l]}class ei extends te{constructor(e){super();ne(this,e,xn,$n,ie,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}function li(a,e,t){const l=Ht(),n=new Ne.Popup({closeButton:!1,closeOnClick:!1});let{id:i}=e,{type:s}=e,{filter:f=null}=e,{layout:o={}}=e,{paint:r={}}=e,{data:c=null}=e,{geoCode:h=null}=e,{colorCode:u=null}=e,{nameCode:d=null}=e,{valueCode:g=null}=e,{click:m=!1}=e,{ignoreClick:I=!1}=e,{clickCenter:k=!1}=e,{selected:D=null}=e,{hover:j=!1}=e,{hovered:P=null}=e,{highlight:B=!1}=e,{highlightKey:p="highlighted"}=e,{highlighted:q=[]}=e,{order:z=null}=e,{maxzoom:T=null}=e,{minzoom:H=null}=e,{tooltip:ae=!1}=e;const{source:G,sourceLayer:Q}=Ie("source"),{getMap:ce}=Ie("map"),ee=ce();let ue=null,ge=null,F=[];ee.getLayer(i)&&ee.removeLayer(i);let Z={id:i,type:s,source:G,paint:r,layout:o};f&&(Z.filter=f),Q&&(Z["source-layer"]=Q),T&&(Z.maxzoom=T),H&&(Z.minzoom=H),ee.addLayer(Z,z);function x(){c.forEach(A=>{ee.setFeatureState({source:G,sourceLayer:Q,id:A[h]},{color:u?A[u]:null,name:d?A[d]:null,value:g?A[g]:null})})}return m&&ee.on("click",i,A=>{if(A.features.length>0&&!I){if(t(0,D=A.features[0].id),l("select",{code:D}),ue&&ee.setFeatureState({source:G,sourceLayer:Q,id:ue},{selected:!1}),ee.setFeatureState({source:G,sourceLayer:Q,id:D},{selected:!0}),k){let re=centroid(A.features[0].toJSON().geometry);ee.flyTo({center:re.geometry.coordinates})}t(23,ue=D)}}),j&&(ee.on("mousemove",i,A=>{if(A.features.length>0){P&&ee.setFeatureState({source:G,sourceLayer:Q,id:P},{hovered:!1}),t(1,P=t(24,ge=A.features[0].id)),ee.setFeatureState({source:G,sourceLayer:Q,id:P},{hovered:!0}),ee.getCanvas().style.cursor="pointer";let re=ee.getFeatureState({source:G,sourceLayer:Q,id:P});ae&&re.name&&n.setLngLat(A.lngLat).setHTML(`<strong>${re.name}</strong>${re.value!=null?"<br/>"+re.value.toFixed(1)+"%":"<br/>Data not available"}`).addTo(ee)}}),ee.on("mouseleave",i,A=>{P&&ee.setFeatureState({source:G,sourceLayer:Q,id:P},{hovered:!1}),t(1,P=t(24,ge=null)),ee.getCanvas().style.cursor="",ae&&n.remove()})),a.$$set=A=>{"id"in A&&t(2,i=A.id),"type"in A&&t(3,s=A.type),"filter"in A&&t(4,f=A.filter),"layout"in A&&t(5,o=A.layout),"paint"in A&&t(6,r=A.paint),"data"in A&&t(7,c=A.data),"geoCode"in A&&t(8,h=A.geoCode),"colorCode"in A&&t(9,u=A.colorCode),"nameCode"in A&&t(10,d=A.nameCode),"valueCode"in A&&t(11,g=A.valueCode),"click"in A&&t(12,m=A.click),"ignoreClick"in A&&t(13,I=A.ignoreClick),"clickCenter"in A&&t(14,k=A.clickCenter),"selected"in A&&t(0,D=A.selected),"hover"in A&&t(15,j=A.hover),"hovered"in A&&t(1,P=A.hovered),"highlight"in A&&t(16,B=A.highlight),"highlightKey"in A&&t(17,p=A.highlightKey),"highlighted"in A&&t(18,q=A.highlighted),"order"in A&&t(19,z=A.order),"maxzoom"in A&&t(20,T=A.maxzoom),"minzoom"in A&&t(21,H=A.minzoom),"tooltip"in A&&t(22,ae=A.tooltip)},a.$$.update=()=>{a.$$.dirty[0]&640&&(c||u)&&x(),a.$$.dirty[0]&34013184&&B&&q!=F&&(F[0]&&F.forEach(A=>{let re={};re[p]=!1,ee.setFeatureState({source:G,sourceLayer:Q,id:A},re)}),t(25,F=q),q[0]&&q.forEach(A=>{let re={};re[p]=!0,ee.setFeatureState({source:G,sourceLayer:Q,id:A},re)})),a.$$.dirty[0]&8392705&&m&&D!=ue&&(ue&&ee.setFeatureState({source:G,sourceLayer:Q,id:ue},{selected:!1}),D&&ee.setFeatureState({source:G,sourceLayer:Q,id:D},{selected:!0}),t(23,ue=D)),a.$$.dirty[0]&16809986&&j&&P!=ge&&(ge&&ee.setFeatureState({source:G,sourceLayer:Q,id:ge},{hovered:!1}),P&&ee.setFeatureState({source:G,sourceLayer:Q,id:P},{hovered:!0}),t(24,ge=P))},[D,P,i,s,f,o,r,c,h,u,d,g,m,I,k,j,B,p,q,z,T,H,ae,ue,ge,F]}class Xl extends te{constructor(e){super();ne(this,e,li,null,ie,{id:2,type:3,filter:4,layout:5,paint:6,data:7,geoCode:8,colorCode:9,nameCode:10,valueCode:11,click:12,ignoreClick:13,clickCenter:14,selected:0,hover:15,hovered:1,highlight:16,highlightKey:17,highlighted:18,order:19,maxzoom:20,minzoom:21,tooltip:22},null,[-1,-1])}}function ti(a){let e,t,l;const n=a[1].default,i=he(n,a,a[0],null);return{c(){e=w("div"),t=w("div"),i&&i.c(),this.h()},l(s){e=y(s,"DIV",{class:!0});var f=C(e);t=y(f,"DIV",{class:!0});var o=C(t);i&&i.l(o),o.forEach(_),f.forEach(_),this.h()},h(){v(t,"class","wrapper"),v(e,"class","page-content")},m(s,f){E(s,e,f),b(e,t),i&&i.m(t,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&1)&&_e(i,n,s,s[0],l?me(n,s[0],f,null):de(s[0]),null)},i(s){l||(V(i,s),l=!0)},o(s){K(i,s),l=!1},d(s){s&&_(e),i&&i.d(s)}}}function ni(a,e,t){let{$$slots:l={},$$scope:n}=e;return a.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,l]}class ii extends te{constructor(e){super();ne(this,e,ni,ti,ie,{})}}const ai=a=>({}),Jl=a=>({});function Yl(a){let e,t,l,n;const i=a[6].meta,s=he(i,a,a[5],Jl);return{c(){e=w("h2"),t=O(a[0]),l=N(),s&&s.c(),this.h()},l(f){e=y(f,"H2",{id:!0,class:!0});var o=C(e);t=M(o,a[0]),o.forEach(_),l=L(f),s&&s.l(f),this.h()},h(){v(e,"id","topics"),v(e,"class","svelte-1328dmd")},m(f,o){E(f,e,o),b(e,t),E(f,l,o),s&&s.m(f,o),n=!0},p(f,o){(!n||o&1)&&W(t,f[0]),s&&s.p&&(!n||o&32)&&_e(s,i,f,f[5],n?me(i,f[5],o,ai):de(f[5]),Jl)},i(f){n||(V(s,f),n=!0)},o(f){K(s,f),n=!1},d(f){f&&_(e),f&&_(l),s&&s.d(f)}}}function si(a){let e,t,l,n,i=`repeat(auto-fit, minmax(min(${a[1]}px, 100%), 1fr))`,s=`${a[2]}px`,f,o=a[0]&&Yl(a);const r=a[6].default,c=he(r,a,a[5],null);return{c(){e=w("div"),o&&o.c(),t=N(),l=w("div"),c&&c.c(),this.h()},l(h){e=y(h,"DIV",{class:!0});var u=C(e);o&&o.l(u),t=L(u),l=y(u,"DIV",{class:!0});var d=C(l);c&&c.l(d),d.forEach(_),u.forEach(_),this.h()},h(){v(l,"class","tiles-grid margin-bottom svelte-1328dmd"),Be(()=>a[7].call(l)),S(l,"grid-template-columns",i,!1),S(l,"grid-gap",s,!1),v(e,"class","tiles")},m(h,u){E(h,e,u),o&&o.m(e,null),b(e,t),b(e,l),c&&c.m(l,null),n=qe(l,a[7].bind(l)),f=!0},p(h,[u]){h[0]?o?(o.p(h,u),u&1&&V(o,1)):(o=Yl(h),o.c(),V(o,1),o.m(e,t)):o&&(se(),K(o,1,1,()=>{o=null}),oe()),c&&c.p&&(!f||u&32)&&_e(c,r,h,h[5],f?me(r,h[5],u,null):de(h[5]),null),u&2&&i!==(i=`repeat(auto-fit, minmax(min(${h[1]}px, 100%), 1fr))`)&&S(l,"grid-template-columns",i,!1),u&4&&s!==(s=`${h[2]}px`)&&S(l,"grid-gap",s,!1)},i(h){f||(V(o),V(c,h),f=!0)},o(h){K(o),K(c,h),f=!1},d(h){h&&_(e),o&&o.d(),c&&c.d(h),n()}}}function oi(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{colwidth:f=280}=e,{gridgap:o=16}=e,r;const c=Rt(3);ye("tiles",{cols:c});function h(){r=this.clientWidth,t(3,r)}return a.$$set=u=>{"title"in u&&t(0,s=u.title),"colwidth"in u&&t(1,f=u.colwidth),"gridgap"in u&&t(2,o=u.gridgap),"$$scope"in u&&t(5,i=u.$$scope)},a.$$.update=()=>{a.$$.dirty&14&&t(4,l=r?Math.floor((r+o)/(f+o)):3),a.$$.dirty&16&&c.set(l)},[s,f,o,r,l,i,n,h]}class je extends te{constructor(e){super();ne(this,e,oi,si,ie,{title:0,colwidth:1,gridgap:2})}}function Ql(a,e,t){const l=a.slice();return l[9]=e[t],l}function $l(a){let e,t,l;return{c(){e=w("header"),t=w("h3"),l=O(a[2]),this.h()},l(n){e=y(n,"HEADER",{class:!0});var i=C(e);t=y(i,"H3",{class:!0});var s=C(t);l=M(s,a[2]),s.forEach(_),i.forEach(_),this.h()},h(){v(t,"class","margin-top--0 margin-right--0 margin-bottom--0 margin-left--0 svelte-1krn9ab"),v(e,"class","margin-top--1")},m(n,i){E(n,e,i),b(e,t),b(t,l)},p(n,i){i&4&&W(l,n[2])},d(n){n&&_(e)}}}function xl(a){let e,t=a[3],l=[];for(let n=0;n<t.length;n+=1)l[n]=et(Ql(a,t,n));return{c(){e=w("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=y(n,"DIV",{class:!0});var i=C(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){v(e,"class","margin-top--2")},m(n,i){E(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&8){t=n[3];let s;for(s=0;s<t.length;s+=1){const f=Ql(n,t,s);l[s]?l[s].p(f,i):(l[s]=et(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),le(l,n)}}}function et(a){let e,t=a[9].label+"",l,n,i,s,f;return{c(){e=w("a"),l=O(t),n=N(),this.h()},l(o){e=y(o,"A",{href:!0,class:!0,"aria-label":!0,"data-gtm-label":!0});var r=C(e);l=M(r,t),n=L(r),r.forEach(_),this.h()},h(){v(e,"href",i=a[9].url),v(e,"class","tile__link"),v(e,"aria-label",s=a[9].label),v(e,"data-gtm-label",f=a[9].label)},m(o,r){E(o,e,r),b(e,l),b(e,n)},p(o,r){r&8&&t!==(t=o[9].label+"")&&W(l,t),r&8&&i!==(i=o[9].url)&&v(e,"href",i),r&8&&s!==(s=o[9].label)&&v(e,"aria-label",s),r&8&&f!==(f=o[9].label)&&v(e,"data-gtm-label",f)},d(o){o&&_(e)}}}function fi(a){let e,t,l,n,i=`span ${a[0]==1?1:a[0]>a[5]?a[5]:a[0]}`,s=`span ${a[1]}`,f,o=a[2]&&$l(a);const r=a[8].default,c=he(r,a,a[7],null);let h=a[3]&&a[3][0]&&xl(a);return{c(){e=w("div"),o&&o.c(),t=N(),c&&c.c(),l=N(),h&&h.c(),this.h()},l(u){e=y(u,"DIV",{class:!0});var d=C(e);o&&o.l(d),t=L(d),c&&c.l(d),l=L(d),h&&h.l(d),d.forEach(_),this.h()},h(){v(e,"class",n=Se(a[4]?"":"tile tile__content")+" svelte-1krn9ab"),fe(e,"blank",a[4]),S(e,"grid-column",i,!1),S(e,"grid-row",s,!1)},m(u,d){E(u,e,d),o&&o.m(e,null),b(e,t),c&&c.m(e,null),b(e,l),h&&h.m(e,null),f=!0},p(u,[d]){u[2]?o?o.p(u,d):(o=$l(u),o.c(),o.m(e,t)):o&&(o.d(1),o=null),c&&c.p&&(!f||d&128)&&_e(c,r,u,u[7],f?me(r,u[7],d,null):de(u[7]),null),u[3]&&u[3][0]?h?h.p(u,d):(h=xl(u),h.c(),h.m(e,null)):h&&(h.d(1),h=null),(!f||d&16&&n!==(n=Se(u[4]?"":"tile tile__content")+" svelte-1krn9ab"))&&v(e,"class",n),d&16&&fe(e,"blank",u[4]),d&33&&i!==(i=`span ${u[0]==1?1:u[0]>u[5]?u[5]:u[0]}`)&&S(e,"grid-column",i,!1),d&2&&s!==(s=`span ${u[1]}`)&&S(e,"grid-row",s,!1)},i(u){f||(V(c,u),f=!0)},o(u){K(c,u),f=!1},d(u){u&&_(e),o&&o.d(),c&&c.d(u),h&&h.d()}}}function ri(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{colspan:s=1}=e,{rowspan:f=1}=e,{title:o=null}=e,{links:r=null}=e,{blank:c=!1}=e;const{cols:h}=Ie("tiles");return St(a,h,u=>t(5,l=u)),a.$$set=u=>{"colspan"in u&&t(0,s=u.colspan),"rowspan"in u&&t(1,f=u.rowspan),"title"in u&&t(2,o=u.title),"links"in u&&t(3,r=u.links),"blank"in u&&t(4,c=u.blank),"$$scope"in u&&t(7,i=u.$$scope)},[s,f,o,r,c,l,h,i,n]}class pe extends te{constructor(e){super();ne(this,e,ri,fi,ie,{colspan:0,rowspan:1,title:2,links:3,blank:4})}}function ci(a){let e,t;const l=a[5].default,n=he(l,a,a[4],null);return{c(){e=w("mark"),n&&n.c(),this.h()},l(i){e=y(i,"MARK",{class:!0,style:!0,role:!0});var s=C(e);n&&n.l(s),s.forEach(_),this.h()},h(){v(e,"class","em svelte-1602h77"),S(e,"background-color",a[0]),S(e,"color",a[2]),v(e,"role","presentation"),fe(e,"nowrap",a[1])},m(i,s){E(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){n&&n.p&&(!t||s&16)&&_e(n,l,i,i[4],t?me(l,i[4],s,null):de(i[4]),null),(!t||s&1)&&S(e,"background-color",i[0]),(!t||s&4)&&S(e,"color",i[2]),s&2&&fe(e,"nowrap",i[1])},i(i){t||(V(n,i),t=!0)},o(i){K(n,i),t=!1},d(i){i&&_(e),n&&n.d(i)}}}function ui(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{color:s="lightgrey"}=e,{nowrap:f=!0}=e;function o(c){return(c[0]*299+c[1]*587+c[2]*114)/1e3>125?"black":"white"}let r="black";return a.$$set=c=>{"color"in c&&t(0,s=c.color),"nowrap"in c&&t(1,f=c.nowrap),"$$scope"in c&&t(4,i=c.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&t(3,l=Wt(s).rgb),a.$$.dirty&8&&l&&t(2,r=o(l))},[s,f,r,l,i,n]}class hi extends te{constructor(e){super();ne(this,e,ui,ci,ie,{color:0,nowrap:1})}}function lt(a,e,t){const l=a.slice();return l[12]=e[t],l[16]=t,l}function tt(a,e,t){const l=a.slice();return l[12]=e[t],l}function _i(a){let e,t=a[1],l=[];for(let n=0;n<t.length;n+=1)l[n]=it(lt(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);E(n,e,i)},p(n,i){if(i&190){t=n[1];let s;for(s=0;s<t.length;s+=1){const f=lt(n,t,s);l[s]?l[s].p(f,i):(l[s]=it(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function di(a){let e,t=a[1],l=[];for(let n=0;n<t.length;n+=1)l[n]=st(tt(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);E(n,e,i)},p(n,i){if(i&167){t=n[1];let s;for(s=0;s<t.length;s+=1){const f=tt(n,t,s);l[s]?l[s].p(f,i):(l[s]=st(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function nt(a){let e,t,l,n;function i(){return a[11](a[12])}return{c(){e=w("button"),t=O("Remove"),this.h()},l(s){e=y(s,"BUTTON",{style:!0});var f=C(e);t=M(f,"Remove"),f.forEach(_),this.h()},h(){S(e,"float","right")},m(s,f){E(s,e,f),b(e,t),l||(n=Ce(e,"click",i),l=!0)},p(s,f){a=s},d(s){s&&_(e),l=!1,n()}}}function it(a){let e,t,l,n,i,s,f=a[7](a[12])+"",o,r,c,h=a[4](a[12],a[5]),u,d,g;function m(){return a[10](a[12])}let I=h&&nt(a);return{c(){e=w("p"),t=w("input"),i=N(),s=w("label"),o=O(f),c=N(),I&&I.c(),u=N(),this.h()},l(k){e=y(k,"P",{class:!0});var D=C(e);t=y(D,"INPUT",{type:!0,id:!0,name:!0,class:!0}),i=L(D),s=y(D,"LABEL",{for:!0,class:!0});var j=C(s);o=M(j,f),j.forEach(_),c=L(D),I&&I.l(D),u=L(D),D.forEach(_),this.h()},h(){v(t,"type","radio"),v(t,"id",l="category-option-"+a[16]),v(t,"name","selected-category"),t.checked=n=a[4](a[12],a[5]),v(t,"class","svelte-n9882c"),v(s,"for",r="category-option-"+a[16]),v(s,"class","svelte-n9882c"),v(e,"class","svelte-n9882c")},m(k,D){E(k,e,D),b(e,t),b(e,i),b(e,s),b(s,o),b(e,c),I&&I.m(e,null),b(e,u),d||(g=Ce(t,"click",m),d=!0)},p(k,D){a=k,D&50&&n!==(n=a[4](a[12],a[5]))&&(t.checked=n),D&130&&f!==(f=a[7](a[12])+"")&&W(o,f),D&50&&(h=a[4](a[12],a[5])),h?I?I.p(a,D):(I=nt(a),I.c(),I.m(e,u)):I&&(I.d(1),I=null)},d(k){k&&_(e),I&&I.d(),d=!1,g()}}}function at(a){let e,t,l,n,i=Ae(a[12],a[5])+"",s;return{c(){e=w("br"),t=N(),l=w("div"),n=O("Currently selected: "),s=O(i),this.h()},l(f){e=y(f,"BR",{}),t=L(f),l=y(f,"DIV",{class:!0});var o=C(l);n=M(o,"Currently selected: "),s=M(o,i),o.forEach(_),this.h()},h(){v(l,"class","svelte-n9882c")},m(f,o){E(f,e,o),E(f,t,o),E(f,l,o),b(l,n),b(l,s)},p(f,o){o&34&&i!==(i=Ae(f[12],f[5])+"")&&W(s,i)},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function st(a){let e,t=a[7](a[12])+"",l,n,i,s,f,o=Ae(a[12],a[5]),r,c,h,u=o&&at(a);function d(){return a[9](a[12])}return{c(){e=w("button"),l=O(t),n=N(),i=w("span"),s=O("\u203A"),f=N(),u&&u.c(),r=N(),this.h()},l(g){e=y(g,"BUTTON",{class:!0});var m=C(e);l=M(m,t),n=L(m),i=y(m,"SPAN",{class:!0});var I=C(i);s=M(I,"\u203A"),I.forEach(_),f=L(m),u&&u.l(m),r=L(m),m.forEach(_),this.h()},h(){v(i,"class","right-chevron svelte-n9882c"),v(e,"class","svelte-n9882c"),fe(e,"plain-button",!0),fe(e,"selected",a[12]===a[0])},m(g,m){E(g,e,m),b(e,l),b(e,n),b(e,i),b(i,s),b(e,f),u&&u.m(e,null),b(e,r),c||(h=Ce(e,"click",d),c=!0)},p(g,m){a=g,m&130&&t!==(t=a[7](a[12])+"")&&W(l,t),m&34&&(o=Ae(a[12],a[5])),o?u?u.p(a,m):(u=at(a),u.c(),u.m(e,r)):u&&(u.d(1),u=null),m&3&&fe(e,"selected",a[12]===a[0])},d(g){g&&_(e),u&&u.d(),c=!1,h()}}}function mi(a){let e,t,l,n;function i(o,r){return o[8]?di:_i}let s=i(a),f=s(a);return{c(){e=w("div"),t=w("h5"),l=O(a[6]),n=N(),f.c(),this.h()},l(o){e=y(o,"DIV",{class:!0});var r=C(e);t=y(r,"H5",{class:!0});var c=C(t);l=M(c,a[6]),c.forEach(_),n=L(r),f.l(r),r.forEach(_),this.h()},h(){v(t,"class","column-title svelte-n9882c"),v(e,"class","column svelte-n9882c")},m(o,r){E(o,e,r),b(e,t),b(t,l),b(e,n),f.m(e,null)},p(o,[r]){r&64&&W(l,o[6]),s===(s=i(o))&&f?f.p(o,r):(f.d(1),f=s(o),f&&(f.c(),f.m(e,null)))},i:U,o:U,d(o){o&&_(e),f.d()}}}function ot(a){console.log("clicked",a)}function Ae(a,e){for(let t of e)if(t.topic===a.label)return t.label;return!1}function gi(a,e,t){let{options:l=[]}=e,{clickCallback:n=ot}=e,{removeCatCallback:i=ot}=e,{checkIfOptionSelected:s=()=>{}}=e,{globalSelectedCategories:f=[]}=e,{columnTitle:o="column title"}=e,{labeller:r=m=>m.label}=e,{selected:c=null}=e,{hasChildren:h=!0}=e;const u=m=>{t(0,c=m),n(m)},d=m=>n(m),g=m=>i(m);return a.$$set=m=>{"options"in m&&t(1,l=m.options),"clickCallback"in m&&t(2,n=m.clickCallback),"removeCatCallback"in m&&t(3,i=m.removeCatCallback),"checkIfOptionSelected"in m&&t(4,s=m.checkIfOptionSelected),"globalSelectedCategories"in m&&t(5,f=m.globalSelectedCategories),"columnTitle"in m&&t(6,o=m.columnTitle),"labeller"in m&&t(7,r=m.labeller),"selected"in m&&t(0,c=m.selected),"hasChildren"in m&&t(8,h=m.hasChildren)},a.$$.update=()=>{a.$$.dirty&2&&console.log(l),a.$$.dirty&32&&console.log(f)},[c,l,n,i,s,f,o,r,h,u,d,g]}class Fe extends te{constructor(e){super();ne(this,e,gi,mi,ie,{options:1,clickCallback:2,removeCatCallback:3,checkIfOptionSelected:4,globalSelectedCategories:5,columnTitle:6,labeller:7,selected:0,hasChildren:8})}}function ft(a){let e,t,l,n,i;function s(r){a[10](r)}let f={columnTitle:"Select a classification",labeller:pi,options:a[5].vars};a[6]!==void 0&&(f.selected=a[6]),e=new Fe({props:f}),De.push(()=>ze(e,"selected",s));let o=a[6]!=null&&rt(a);return{c(){X(e.$$.fragment),l=N(),o&&o.c(),n=R()},l(r){$(e.$$.fragment,r),l=L(r),o&&o.l(r),n=R()},m(r,c){J(e,r,c),E(r,l,c),o&&o.m(r,c),E(r,n,c),i=!0},p(r,c){const h={};c&32&&(h.options=r[5].vars),!t&&c&64&&(t=!0,h.selected=r[6],Pe(()=>t=!1)),e.$set(h),r[6]!=null?o?(o.p(r,c),c&64&&V(o,1)):(o=rt(r),o.c(),V(o,1),o.m(n.parentNode,n)):o&&(se(),K(o,1,1,()=>{o=null}),oe())},i(r){i||(V(e.$$.fragment,r),V(o),i=!0)},o(r){K(e.$$.fragment,r),K(o),i=!1},d(r){Y(e,r),r&&_(l),o&&o.d(r),r&&_(n)}}}function rt(a){let e,t,l;function n(s){a[13](s)}let i={columnTitle:"Select a category",options:a[6].cats,clickCallback:a[11],removeCatCallback:a[12],hasChildren:!1,checkIfOptionSelected:a[3]};return a[7]!==void 0&&(i.selected=a[7]),e=new Fe({props:i}),De.push(()=>ze(e,"selected",n)),{c(){X(e.$$.fragment)},l(s){$(e.$$.fragment,s)},m(s,f){J(e,s,f),l=!0},p(s,f){const o={};f&64&&(o.options=s[6].cats),f&66&&(o.clickCallback=s[11]),f&68&&(o.removeCatCallback=s[12]),f&8&&(o.checkIfOptionSelected=s[3]),!t&&f&128&&(t=!0,o.selected=s[7],Pe(()=>t=!1)),e.$set(o)},i(s){l||(V(e.$$.fragment,s),l=!0)},o(s){K(e.$$.fragment,s),l=!1},d(s){Y(e,s)}}}function bi(a){let e,t,l,n,i,s,f;function o(h){a[9](h)}let r={columnTitle:"Select a variable",clickCallback:a[8],options:a[0],globalSelectedCategories:a[4]};a[5]!==void 0&&(r.selected=a[5]),t=new Fe({props:r}),De.push(()=>ze(t,"selected",o));let c=a[5]!=null&&ft(a);return{c(){e=w("div"),X(t.$$.fragment),n=N(),c&&c.c(),i=N(),s=R(),this.h()},l(h){e=y(h,"DIV",{class:!0});var u=C(e);$(t.$$.fragment,u),n=L(u),c&&c.l(u),u.forEach(_),i=L(h),s=R(),this.h()},h(){v(e,"class","container svelte-3hmhst")},m(h,u){E(h,e,u),J(t,e,null),b(e,n),c&&c.m(e,null),E(h,i,u),E(h,s,u),f=!0},p(h,[u]){const d={};u&64&&(d.clickCallback=h[8]),u&1&&(d.options=h[0]),u&16&&(d.globalSelectedCategories=h[4]),!l&&u&32&&(l=!0,d.selected=h[5],Pe(()=>l=!1)),t.$set(d),h[5]!=null?c?(c.p(h,u),u&32&&V(c,1)):(c=ft(h),c.c(),V(c,1),c.m(e,null)):c&&(se(),K(c,1,1,()=>{c=null}),oe())},i(h){f||(V(t.$$.fragment,h),V(c),f=!0)},o(h){K(t.$$.fragment,h),K(c),f=!1},d(h){h&&_(e),Y(t),c&&c.d(),h&&_(i),h&&_(s)}}}function vi(a,e){console.log(a,e)}function ki(a,e){console.log(a,e)}const pi=a=>`${a.cats.length+" categories"}`;function Ei(a,e,t){let{options:l=[]}=e,{clickCallback:n=vi}=e,{removeCatCallback:i=ki}=e,{checkIfOptionSelected:s=()=>!1}=e,{globalSelectedCategories:f=[]}=e,o=null,r=null,c=null;const h=()=>{t(6,r=null)};function u(D){o=D,t(5,o)}function d(D){r=D,t(6,r)}const g=D=>n(r,D),m=D=>i(r,D);function I(D){c=D,t(7,c)}const k=(D,j)=>n(D,j);return a.$$set=D=>{"options"in D&&t(0,l=D.options),"clickCallback"in D&&t(1,n=D.clickCallback),"removeCatCallback"in D&&t(2,i=D.removeCatCallback),"checkIfOptionSelected"in D&&t(3,s=D.checkIfOptionSelected),"globalSelectedCategories"in D&&t(4,f=D.globalSelectedCategories)},[l,n,i,s,f,o,r,c,h,u,d,g,m,I,k]}class wi extends te{constructor(e){super();ne(this,e,Ei,bi,ie,{options:0,clickCallback:1,removeCatCallback:2,checkIfOptionSelected:3,globalSelectedCategories:4})}}function ct(a,e,t){const l=a.slice();return l[34]=e[t],l}function ut(a,e,t){const l=a.slice();return l[37]=e[t],l}function ht(a,e,t){const l=a.slice();return l[40]=e[t],l[42]=t,l}function yi(a){let e;return{c(){e=O("Population Group Profiles")},l(t){e=M(t,"Population Group Profiles")},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function Ci(a){let e,t,l,n,i,s,f,o,r,c,h;return e=new Sn({props:{$$slots:{default:[yi]},$$scope:{ctx:a}}}),{c(){X(e.$$.fragment),t=N(),l=w("p"),n=O(`Select one or more identity characteristics to define a population group to
    compare with the whole population of England and Wales. For example, see `),i=w("a"),s=O("Sikhs born in the UK"),f=O(`
    or
    `),o=w("a"),r=O("people aged 65+ born in Ireland"),c=O("."),this.h()},l(u){$(e.$$.fragment,u),t=L(u),l=y(u,"P",{class:!0});var d=C(l);n=M(d,`Select one or more identity characteristics to define a population group to
    compare with the whole population of England and Wales. For example, see `),i=y(d,"A",{href:!0,class:!0});var g=C(i);s=M(g,"Sikhs born in the UK"),g.forEach(_),f=M(d,`
    or
    `),o=y(d,"A",{href:!0,class:!0});var m=C(o);r=M(m,"people aged 65+ born in Ireland"),m.forEach(_),c=M(d,"."),d.forEach(_),this.h()},h(){v(i,"href","?religion_tb=7&country_of_birth_3a=1"),v(i,"class","svelte-4bq5sb"),v(o,"href","?resident_age_3a=3&country_of_birth_8a=2"),v(o,"class","svelte-4bq5sb"),v(l,"class","subtitle svelte-4bq5sb")},m(u,d){J(e,u,d),E(u,t,d),E(u,l,d),b(l,n),b(l,i),b(i,s),b(l,f),b(l,o),b(o,r),b(l,c),h=!0},p(u,d){const g={};d[1]&4096&&(g.$$scope={dirty:d,ctx:u}),e.$set(g)},i(u){h||(V(e.$$.fragment,u),h=!0)},o(u){K(e.$$.fragment,u),h=!1},d(u){Y(e,u),u&&_(t),u&&_(l)}}}function _t(a){let e,t,l,n=a[0],i=[];for(let s=0;s<n.length;s+=1)i[s]=dt(ht(a,n,s));return{c(){e=w("br"),t=N();for(let s=0;s<i.length;s+=1)i[s].c();l=R()},l(s){e=y(s,"BR",{}),t=L(s);for(let f=0;f<i.length;f+=1)i[f].l(s);l=R()},m(s,f){E(s,e,f),E(s,t,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);E(s,l,f)},p(s,f){if(f[0]&1033){n=s[0];let o;for(o=0;o<n.length;o+=1){const r=ht(s,n,o);i[o]?i[o].p(r,f):(i[o]=dt(r),i[o].c(),i[o].m(l.parentNode,l))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(s){s&&_(e),s&&_(t),le(i,s),s&&_(l)}}}function Di(a){let e,t,l=ve(a[40].topic)+"",n,i,s=ve(a[40].label)+"",f,o,r,c,h,u;function d(){return a[18](a[40])}return{c(){e=w("div"),t=w("span"),n=O(l),i=O(": "),f=O(s),o=N(),r=w("button"),c=N(),this.h()},l(g){e=y(g,"DIV",{class:!0});var m=C(e);t=y(m,"SPAN",{class:!0});var I=C(t);n=M(I,l),i=M(I,": "),f=M(I,s),I.forEach(_),o=L(m),r=y(m,"BUTTON",{class:!0}),C(r).forEach(_),c=L(m),m.forEach(_),this.h()},h(){v(t,"class","svelte-4bq5sb"),v(r,"class","svelte-4bq5sb"),v(e,"class","chip svelte-4bq5sb")},m(g,m){E(g,e,m),b(e,t),b(t,n),b(t,i),b(t,f),b(e,o),b(e,r),b(e,c),h||(u=Ce(r,"click",d),h=!0)},p(g,m){a=g,m[0]&1&&l!==(l=ve(a[40].topic)+"")&&W(n,l),m[0]&1&&s!==(s=ve(a[40].label)+"")&&W(f,s)},d(g){g&&_(e),h=!1,u()}}}function Ii(a){let e,t,l=ve(a[40].topic)+"",n,i,s=ve(a[40].label)+"",f,o,r,c;return{c(){e=w("div"),t=w("span"),n=O(l),i=O(": "),f=O(s),o=N(),r=w("div"),c=N(),this.h()},l(h){e=y(h,"DIV",{class:!0});var u=C(e);t=y(u,"SPAN",{class:!0});var d=C(t);n=M(d,l),i=M(d,": "),f=M(d,s),d.forEach(_),o=L(u),r=y(u,"DIV",{class:!0}),C(r).forEach(_),c=L(u),u.forEach(_),this.h()},h(){v(t,"class","svelte-4bq5sb"),v(r,"class","chip-loader svelte-4bq5sb"),v(e,"class","chip chip-pending svelte-4bq5sb")},m(h,u){E(h,e,u),b(e,t),b(t,n),b(t,i),b(t,f),b(e,o),b(e,r),b(e,c)},p(h,u){u[0]&1&&l!==(l=ve(h[40].topic)+"")&&W(n,l),u[0]&1&&s!==(s=ve(h[40].label)+"")&&W(f,s)},d(h){h&&_(e)}}}function dt(a){let e;function t(i,s){return i[3]=="loading"&&i[42]==i[0].length-1?Ii:Di}let l=t(a),n=l(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),E(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&_(e)}}}function mt(a){let e,t,l,n=a[3]=="failed"&&gt(),i=a[4]==!0&&bt();return{c(){e=w("div"),t=O(`Some datasets not available for selected variables.
        `),n&&n.c(),l=N(),i&&i.c(),this.h()},l(s){e=y(s,"DIV",{class:!0});var f=C(e);t=M(f,`Some datasets not available for selected variables.
        `),n&&n.l(f),l=L(f),i&&i.l(f),f.forEach(_),this.h()},h(){v(e,"class","warning svelte-4bq5sb")},m(s,f){E(s,e,f),b(e,t),n&&n.m(e,null),b(e,l),i&&i.m(e,null)},p(s,f){s[3]=="failed"?n||(n=gt(),n.c(),n.m(e,l)):n&&(n.d(1),n=null),s[4]==!0?i||(i=bt(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(s){s&&_(e),n&&n.d(),i&&i.d()}}}function gt(a){let e;return{c(){e=O("Try removing a variable to see more datasets.")},l(t){e=M(t,"Try removing a variable to see more datasets.")},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function bt(a){let e;return{c(){e=O(`Economic indicators (employment, social status etc) not available for
          ages 0 to 15.`)},l(t){e=M(t,`Economic indicators (employment, social status etc) not available for
          ages 0 to 15.`)},m(t,l){E(t,e,l)},d(t){t&&_(e)}}}function Si(a){let e,t,l,n,i,s=a[0][0]&&_t(a),f=(a[3]=="failed"||a[4]==!0)&&mt(a);return n=new wi({props:{options:Xt,clickCallback:a[7],removeCatCallback:a[8],checkIfOptionSelected:a[9],globalSelectedCategories:a[0]}}),{c(){e=w("div"),s&&s.c(),t=N(),f&&f.c(),l=N(),X(n.$$.fragment),this.h()},l(o){e=y(o,"DIV",{slot:!0,class:!0});var r=C(e);s&&s.l(r),t=L(r),f&&f.l(r),l=L(r),$(n.$$.fragment,r),r.forEach(_),this.h()},h(){v(e,"slot","meta"),v(e,"class","wrapper")},m(o,r){E(o,e,r),s&&s.m(e,null),b(e,t),f&&f.m(e,null),b(e,l),J(n,e,null),i=!0},p(o,r){o[0][0]?s?s.p(o,r):(s=_t(o),s.c(),s.m(e,t)):s&&(s.d(1),s=null),o[3]=="failed"||o[4]==!0?f?f.p(o,r):(f=mt(o),f.c(),f.m(e,l)):f&&(f.d(1),f=null);const c={};r[0]&1&&(c.globalSelectedCategories=o[0]),n.$set(c)},i(o){i||(V(n.$$.fragment,o),i=!0)},o(o){K(n.$$.fragment,o),i=!1},d(o){o&&_(e),s&&s.d(),f&&f.d(),Y(n)}}}function zi(a){let e,t=a[6].selected.total_pop.toLocaleString()+"",l,n,i,s,f,o,r,c=(a[6].selected.total_pop===a[6].all.total_pop?100:(a[6].selected.total_pop/a[6].all.total_pop*100).toFixed(1)!=="0.0"?(a[6].selected.total_pop/a[6].all.total_pop*100).toFixed(1):"Less than 0.05")+"",h,u,d;return r=new hi({props:{color:"lightgrey"}}),{c(){e=w("div"),l=O(t),n=N(),i=w("div"),s=O("people (TODO: calculate this percentage in Python)"),f=N(),o=w("div"),X(r.$$.fragment),h=O(c),u=O("% of the total population of England and Wales"),this.h()},l(g){e=y(g,"DIV",{class:!0});var m=C(e);l=M(m,t),m.forEach(_),n=L(g),i=y(g,"DIV",{class:!0});var I=C(i);s=M(I,"people (TODO: calculate this percentage in Python)"),I.forEach(_),f=L(g),o=y(g,"DIV",{class:!0});var k=C(o);$(r.$$.fragment,k),h=M(k,c),u=M(k,"% of the total population of England and Wales"),k.forEach(_),this.h()},h(){v(e,"class","num-big svelte-4bq5sb"),v(i,"class","num-suffix svelte-4bq5sb"),v(o,"class","num-desc svelte-4bq5sb")},m(g,m){E(g,e,m),b(e,l),E(g,n,m),E(g,i,m),b(i,s),E(g,f,m),E(g,o,m),J(r,o,null),b(o,h),b(o,u),d=!0},p(g,m){(!d||m[0]&64)&&t!==(t=g[6].selected.total_pop.toLocaleString()+"")&&W(l,t),(!d||m[0]&64)&&c!==(c=(g[6].selected.total_pop===g[6].all.total_pop?100:(g[6].selected.total_pop/g[6].all.total_pop*100).toFixed(1)!=="0.0"?(g[6].selected.total_pop/g[6].all.total_pop*100).toFixed(1):"Less than 0.05")+"")&&W(h,c)},i(g){d||(V(r.$$.fragment,g),d=!0)},o(g){K(r.$$.fragment,g),d=!1},d(g){g&&_(e),g&&_(n),g&&_(i),g&&_(f),g&&_(o),Y(r)}}}function Pi(a){let e,t=Te.nodata+"",l;return{c(){e=w("div"),l=O(t),this.h()},l(n){e=y(n,"DIV",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){v(e,"class","num-desc svelte-4bq5sb")},m(n,i){E(n,e,i),b(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Ti(a){let e,t,l,n;const i=[Pi,zi],s=[];function f(o,r){return o[6].selected.total_pop==0?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),E(o,l,r),n=!0},p(o,r){let c=e;e=f(o),e===c?s[e].p(o,r):(se(),K(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),V(t,1),t.m(l.parentNode,l))},i(o){n||(V(t),n=!0)},o(o){K(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function Vi(a){let e,t;return e=new On({props:{data:a[6].selected&&a[11](["residents","resident_age_23a"]),zKey:"group",maskRange:a[12](a[0])}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n[0]&64&&(i.data=l[6].selected&&l[11](["residents","resident_age_23a"])),n[0]&1&&(i.maskRange=l[12](l[0])),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Ni(a){let e,t=Te.nodata+"",l;return{c(){e=w("span"),l=O(t),this.h()},l(n){e=y(n,"SPAN",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){v(e,"class","num-desc svelte-4bq5sb")},m(n,i){E(n,e,i),b(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Li(a){let e,t=Te.nodata+"",l;return{c(){e=w("span"),l=O(t),this.h()},l(n){e=y(n,"SPAN",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){v(e,"class","num-desc svelte-4bq5sb")},m(n,i){E(n,e,i),b(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Ai(a){let e,t,l,n,i;const s=[Li,Ni,Vi],f=[];function o(r,c){return c[0]&64&&(e=null),r[6].selected.residents.resident_age_23a.values==="blocked"?0:(e==null&&(e=!!tn(r[6].selected.residents.resident_age_23a.values.percent)),e?1:2)}return t=o(a,[-1,-1]),l=f[t]=s[t](a),{c(){l.c(),n=R()},l(r){l.l(r),n=R()},m(r,c){f[t].m(r,c),E(r,n,c),i=!0},p(r,c){let h=t;t=o(r,c),t===h?f[t].p(r,c):(se(),K(f[h],1,1,()=>{f[h]=null}),oe(),l=f[t],l?l.p(r,c):(l=f[t]=s[t](r),l.c()),V(l,1),l.m(n.parentNode,n))},i(r){i||(V(l),i=!0)},o(r){K(l),i=!1},d(r){f[t].d(r),r&&_(n)}}}function Ki(a){let e,t,l,n;return e=new pe({props:{title:"Population",$$slots:{default:[Ti]},$$scope:{ctx:a}}}),l=new pe({props:{title:"Age profile",$$slots:{default:[Ai]},$$scope:{ctx:a}}}),{c(){X(e.$$.fragment),t=N(),X(l.$$.fragment)},l(i){$(e.$$.fragment,i),t=L(i),$(l.$$.fragment,i)},m(i,s){J(e,i,s),E(i,t,s),J(l,i,s),n=!0},p(i,s){const f={};s[0]&64|s[1]&4096&&(f.$$scope={dirty:s,ctx:i}),e.$set(f);const o={};s[0]&65|s[1]&4096&&(o.$$scope={dirty:s,ctx:i}),l.$set(o)},i(i){n||(V(e.$$.fragment,i),V(l.$$.fragment,i),n=!0)},o(i){K(e.$$.fragment,i),K(l.$$.fragment,i),n=!1},d(i){Y(e,i),i&&_(t),Y(l,i)}}}function Oi(a){let e,t;return{c(){e=w("p"),t=O(`For each lower-tier local authority area in England and Wales, the map
        shows the count of people in the categories chosen above as a percentage
        of the area's total population.`),this.h()},l(l){e=y(l,"P",{class:!0});var n=C(e);t=M(n,`For each lower-tier local authority area in England and Wales, the map
        shows the count of people in the categories chosen above as a percentage
        of the area's total population.`),n.forEach(_),this.h()},h(){v(e,"class","subtitle svelte-4bq5sb")},m(l,n){E(l,e,n),b(e,t)},d(l){l&&_(e)}}}function vt(a){let e,t;return e=new ei({props:{id:"lad",type:"geojson",data:a[6].geojson,promoteId:we.code,$$slots:{default:[Mi]},$$scope:{ctx:a}}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n[0]&64&&(i.data=l[6].geojson),n[0]&68|n[1]&4096&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Mi(a){let e,t,l,n,i;function s(o){a[19](o)}let f={id:"lad-fill",data:a[6].geoPerc,geoCode:"code",nameCode:"name",colorCode:"color",valueCode:"value",hover:!0,tooltip:!0,type:"fill",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.8},order:"highway_name_other"};return a[2]!==void 0&&(f.hovered=a[2]),e=new Xl({props:f}),De.push(()=>ze(e,"hovered",s)),n=new Xl({props:{id:"lad-line",type:"line",paint:{"line-color":"orange","line-width":2,"line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]},order:"highway_name_other"}}),{c(){X(e.$$.fragment),l=N(),X(n.$$.fragment)},l(o){$(e.$$.fragment,o),l=L(o),$(n.$$.fragment,o)},m(o,r){J(e,o,r),E(o,l,r),J(n,o,r),i=!0},p(o,r){const c={};r[0]&64&&(c.data=o[6].geoPerc),!t&&r[0]&4&&(t=!0,c.hovered=o[2],Pe(()=>t=!1)),e.$set(c)},i(o){i||(V(e.$$.fragment,o),V(n.$$.fragment,o),i=!0)},o(o){K(e.$$.fragment,o),K(n.$$.fragment,o),i=!1},d(o){Y(e,o),o&&_(l),Y(n,o)}}}function ji(a){let e,t,l=a[6].geojson&&a[6].geoPerc&&vt(a);return{c(){l&&l.c(),e=R()},l(n){l&&l.l(n),e=R()},m(n,i){l&&l.m(n,i),E(n,e,i),t=!0},p(n,i){n[6].geojson&&n[6].geoPerc?l?(l.p(n,i),i[0]&64&&V(l,1)):(l=vt(n),l.c(),V(l,1),l.m(e.parentNode,e)):l&&(se(),K(l,1,1,()=>{l=null}),oe())},i(n){t||(V(l),t=!0)},o(n){K(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function kt(a){let e,t,l;return t=new Bn({props:{breaks:a[6].geoBreaks,hovered:a[2]&&a[6].geoPerc.find(a[21])?a[6].geoPerc.find(a[22]).value:null,colors:a[6].geoBreaks[1]==100?[be.seq[4]]:be.seq}}),{c(){e=w("div"),X(t.$$.fragment),this.h()},l(n){e=y(n,"DIV",{});var i=C(e);$(t.$$.fragment,i),i.forEach(_),this.h()},h(){S(e,"height","38px",!1),S(e,"width","100%",!1)},m(n,i){E(n,e,i),J(t,e,null),l=!0},p(n,i){const s={};i[0]&64&&(s.breaks=n[6].geoBreaks),i[0]&68&&(s.hovered=n[2]&&n[6].geoPerc.find(n[21])?n[6].geoPerc.find(n[22]).value:null),i[0]&64&&(s.colors=n[6].geoBreaks[1]==100?[be.seq[4]]:be.seq),t.$set(s)},i(n){l||(V(t.$$.fragment,n),l=!0)},o(n){K(t.$$.fragment,n),l=!1},d(n){n&&_(e),Y(t)}}}function Bi(a){let e,t,l,n,i,s;function f(c){a[20](c)}let o={style:$t,$$slots:{default:[ji]},$$scope:{ctx:a}};a[1]!==void 0&&(o.map=a[1]),t=new Qn({props:o}),De.push(()=>ze(t,"map",f));let r=a[6].geoBreaks&&a[6].geoPerc&&kt(a);return{c(){e=w("div"),X(t.$$.fragment),n=N(),r&&r.c(),i=R(),this.h()},l(c){e=y(c,"DIV",{});var h=C(e);$(t.$$.fragment,h),h.forEach(_),n=L(c),r&&r.l(c),i=R(),this.h()},h(){S(e,"height","450px",!1)},m(c,h){E(c,e,h),J(t,e,null),E(c,n,h),r&&r.m(c,h),E(c,i,h),s=!0},p(c,h){const u={};h[0]&68|h[1]&4096&&(u.$$scope={dirty:h,ctx:c}),!l&&h[0]&2&&(l=!0,u.map=c[1],Pe(()=>l=!1)),t.$set(u),c[6].geoBreaks&&c[6].geoPerc?r?(r.p(c,h),h[0]&64&&V(r,1)):(r=kt(c),r.c(),V(r,1),r.m(i.parentNode,i)):r&&(se(),K(r,1,1,()=>{r=null}),oe())},i(c){s||(V(t.$$.fragment,c),V(r),s=!0)},o(c){K(t.$$.fragment,c),K(r),s=!1},d(c){c&&_(e),Y(t),c&&_(n),r&&r.d(c),c&&_(i)}}}function qi(a){let e,t;return{c(){e=w("span"),t=O("Make a selection to see rankings."),this.h()},l(l){e=y(l,"SPAN",{class:!0});var n=C(e);t=M(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){v(e,"class","muted svelte-4bq5sb")},m(l,n){E(l,e,n),b(e,t)},p:U,i:U,o:U,d(l){l&&_(e)}}}function Fi(a){let e,t;return e=new Nt({props:{data:[...a[6].geoPerc].filter(wt).sort(yt).slice(0,5)}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n[0]&64&&(i.data=[...l[6].geoPerc].filter(wt).sort(yt).slice(0,5)),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Hi(a){let e,t,l,n;const i=[Fi,qi],s=[];function f(o,r){return o[6].geoPerc&&o[0][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),E(o,l,r),n=!0},p(o,r){let c=e;e=f(o),e===c?s[e].p(o,r):(se(),K(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),V(t,1),t.m(l.parentNode,l))},i(o){n||(V(t),n=!0)},o(o){K(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function Ri(a){let e,t;return{c(){e=w("span"),t=O("Make a selection to see rankings."),this.h()},l(l){e=y(l,"SPAN",{class:!0});var n=C(e);t=M(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){v(e,"class","muted svelte-4bq5sb")},m(l,n){E(l,e,n),b(e,t)},p:U,i:U,o:U,d(l){l&&_(e)}}}function Wi(a){let e,t;return e=new Nt({props:{data:a[6].geoPerc.filter(Ct).sort(Dt).slice(-5),offset:a[6].geoPerc.filter(It).length-4}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n[0]&64&&(i.data=l[6].geoPerc.filter(Ct).sort(Dt).slice(-5)),n[0]&64&&(i.offset=l[6].geoPerc.filter(It).length-4),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Gi(a){let e,t,l,n;const i=[Wi,Ri],s=[];function f(o,r){return o[6].geoPerc&&o[0][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),E(o,l,r),n=!0},p(o,r){let c=e;e=f(o),e===c?s[e].p(o,r):(se(),K(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),V(t,1),t.m(l.parentNode,l))},i(o){n||(V(t),n=!0)},o(o){K(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function Ui(a){let e,t,l,n,i,s,f,o;return e=new pe({props:{colspan:3,rowspan:1,blank:!0,$$slots:{default:[Oi]},$$scope:{ctx:a}}}),l=new pe({props:{colspan:2,rowspan:2,blank:!0,$$slots:{default:[Bi]},$$scope:{ctx:a}}}),i=new pe({props:{title:"Areas with high %",$$slots:{default:[Hi]},$$scope:{ctx:a}}}),f=new pe({props:{title:"Areas with low %",$$slots:{default:[Gi]},$$scope:{ctx:a}}}),{c(){X(e.$$.fragment),t=N(),X(l.$$.fragment),n=N(),X(i.$$.fragment),s=N(),X(f.$$.fragment)},l(r){$(e.$$.fragment,r),t=L(r),$(l.$$.fragment,r),n=L(r),$(i.$$.fragment,r),s=L(r),$(f.$$.fragment,r)},m(r,c){J(e,r,c),E(r,t,c),J(l,r,c),E(r,n,c),J(i,r,c),E(r,s,c),J(f,r,c),o=!0},p(r,c){const h={};c[1]&4096&&(h.$$scope={dirty:c,ctx:r}),e.$set(h);const u={};c[0]&70|c[1]&4096&&(u.$$scope={dirty:c,ctx:r}),l.$set(u);const d={};c[0]&65|c[1]&4096&&(d.$$scope={dirty:c,ctx:r}),i.$set(d);const g={};c[0]&65|c[1]&4096&&(g.$$scope={dirty:c,ctx:r}),f.$set(g)},i(r){o||(V(e.$$.fragment,r),V(l.$$.fragment,r),V(i.$$.fragment,r),V(f.$$.fragment,r),o=!0)},o(r){K(e.$$.fragment,r),K(l.$$.fragment,r),K(i.$$.fragment,r),K(f.$$.fragment,r),o=!1},d(r){Y(e,r),r&&_(t),Y(l,r),r&&_(n),Y(i,r),r&&_(s),Y(f,r)}}}function Zi(a){let e,t,l;var n=a[5];function i(s){return{props:{data:s[6].selected&&s[11](["residents",s[37].code])}}}return n&&(e=new n(i(a))),{c(){e&&X(e.$$.fragment),t=R()},l(s){e&&$(e.$$.fragment,s),t=R()},m(s,f){e&&J(e,s,f),E(s,t,f),l=!0},p(s,f){const o={};if(f[0]&64&&(o.data=s[6].selected&&s[11](["residents",s[37].code])),n!==(n=s[5])){if(e){se();const r=e;K(r.$$.fragment,1,0,()=>{Y(r,1)}),oe()}n?(e=new n(i(s)),X(e.$$.fragment),V(e.$$.fragment,1),J(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&V(e.$$.fragment,s),l=!0)},o(s){e&&K(e.$$.fragment,s),l=!1},d(s){s&&_(t),e&&Y(e,s)}}}function Xi(a){let e,t=Te.nodata+"",l;return{c(){e=w("span"),l=O(t),this.h()},l(n){e=y(n,"SPAN",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){v(e,"class","num-desc svelte-4bq5sb")},m(n,i){E(n,e,i),b(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Ji(a){let e,t=Te.blocked+"",l;return{c(){e=w("span"),l=O(t),this.h()},l(n){e=y(n,"SPAN",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){v(e,"class","num-desc svelte-4bq5sb")},m(n,i){E(n,e,i),b(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Yi(a){let e,t,l,n,i,s=Xe[a[37].code]+"",f,o;const r=[Ji,Xi,Zi],c=[];function h(u,d){return u[6].selected.residents[u[37].code].values==="blocked"?0:u[6].selected.residents[u[37].code].values.percent[0]==null?1:2}return e=h(a),t=c[e]=r[e](a),{c(){t.c(),l=N(),n=w("span"),i=O("% of "),f=O(s),this.h()},l(u){t.l(u),l=L(u),n=y(u,"SPAN",{class:!0});var d=C(n);i=M(d,"% of "),f=M(d,s),d.forEach(_),this.h()},h(){v(n,"class","num-desc svelte-4bq5sb")},m(u,d){c[e].m(u,d),E(u,l,d),E(u,n,d),b(n,i),b(n,f),o=!0},p(u,d){let g=e;e=h(u),e===g?c[e].p(u,d):(se(),K(c[g],1,1,()=>{c[g]=null}),oe(),t=c[e],t?t.p(u,d):(t=c[e]=r[e](u),t.c()),V(t,1),t.m(l.parentNode,l)),(!o||d[0]&64)&&s!==(s=Xe[u[37].code]+"")&&W(f,s)},i(u){o||(V(t),o=!0)},o(u){K(t),o=!1},d(u){c[e].d(u),u&&_(l),u&&_(n)}}}function pt(a){let e,t;return e=new pe({props:{title:Ye(a[37].key),$$slots:{default:[Yi]},$$scope:{ctx:a}}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n[0]&64&&(i.title=Ye(l[37].key)),n[0]&96|n[1]&4096&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function Qi(a){let e,t,l=a[34].tables.filter(a[26]),n=[];for(let s=0;s<l.length;s+=1)n[s]=pt(ut(a,l,s));const i=s=>K(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=N()},l(s){for(let f=0;f<n.length;f+=1)n[f].l(s);e=L(s)},m(s,f){for(let o=0;o<n.length;o+=1)n[o].m(s,f);E(s,e,f),t=!0},p(s,f){if(f[0]&2144){l=s[34].tables.filter(s[26]);let o;for(o=0;o<l.length;o+=1){const r=ut(s,l,o);n[o]?(n[o].p(r,f),V(n[o],1)):(n[o]=pt(r),n[o].c(),V(n[o],1),n[o].m(e.parentNode,e))}for(se(),o=l.length;o<n.length;o+=1)i(o);oe()}},i(s){if(!t){for(let f=0;f<l.length;f+=1)V(n[f]);t=!0}},o(s){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)K(n[f]);t=!1},d(s){le(n,s),s&&_(e)}}}function Et(a){let e,t;return e=new je({props:{title:a[34].categoryName,$$slots:{default:[Qi]},$$scope:{ctx:a}}}),{c(){X(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){J(e,l,n),t=!0},p(l,n){const i={};n[0]&96|n[1]&4096&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){K(e.$$.fragment,l),t=!1},d(l){Y(e,l)}}}function $i(a){let e,t,l,n,i,s,f,o,r,c,h,u,d,g,m,I,k,D,j,P;e=new je({props:{title:"Demographics",$$slots:{default:[Ki]},$$scope:{ctx:a}}}),l=new je({props:{title:"Population by area",$$slots:{default:[Ui]},$$scope:{ctx:a}}});let B=Le[0].tablesCategorised,p=[];for(let z=0;z<B.length;z+=1)p[z]=Et(ct(a,B,z));const q=z=>K(p[z],1,1,()=>{p[z]=null});return{c(){X(e.$$.fragment),t=N(),X(l.$$.fragment),n=N(),i=w("span"),s=w("strong"),f=O("Chart type:"),o=N(),r=w("label"),c=w("input"),h=O("Comparison marker"),u=N(),d=w("label"),g=w("input"),m=O("Grouped bar"),I=N();for(let z=0;z<p.length;z+=1)p[z].c();k=R(),this.h()},l(z){$(e.$$.fragment,z),t=L(z),$(l.$$.fragment,z),n=L(z),i=y(z,"SPAN",{});var T=C(i);s=y(T,"STRONG",{});var H=C(s);f=M(H,"Chart type:"),H.forEach(_),o=L(T),r=y(T,"LABEL",{});var ae=C(r);c=y(ae,"INPUT",{type:!0,name:!0}),h=M(ae,"Comparison marker"),ae.forEach(_),u=L(T),d=y(T,"LABEL",{});var G=C(d);g=y(G,"INPUT",{type:!0,name:!0}),m=M(G,"Grouped bar"),G.forEach(_),T.forEach(_),I=L(z);for(let Q=0;Q<p.length;Q+=1)p[Q].l(z);k=R(),this.h()},h(){v(c,"type","radio"),v(c,"name","chart-type"),c.__value=Vt,c.value=c.__value,a[24][0].push(c),v(g,"type","radio"),v(g,"name","chart-type"),g.__value=Un,g.value=g.__value,a[24][0].push(g)},m(z,T){J(e,z,T),E(z,t,T),J(l,z,T),E(z,n,T),E(z,i,T),b(i,s),b(s,f),b(i,o),b(i,r),b(r,c),c.checked=c.__value===a[5],b(r,h),b(i,u),b(i,d),b(d,g),g.checked=g.__value===a[5],b(d,m),E(z,I,T);for(let H=0;H<p.length;H+=1)p[H].m(z,T);E(z,k,T),D=!0,j||(P=[Ce(c,"change",a[23]),Ce(g,"change",a[25])],j=!0)},p(z,T){const H={};T[0]&65|T[1]&4096&&(H.$$scope={dirty:T,ctx:z}),e.$set(H);const ae={};if(T[0]&71|T[1]&4096&&(ae.$$scope={dirty:T,ctx:z}),l.$set(ae),T[0]&32&&(c.checked=c.__value===z[5]),T[0]&32&&(g.checked=g.__value===z[5]),T[0]&2144){B=Le[0].tablesCategorised;let G;for(G=0;G<B.length;G+=1){const Q=ct(z,B,G);p[G]?(p[G].p(Q,T),V(p[G],1)):(p[G]=Et(Q),p[G].c(),V(p[G],1),p[G].m(k.parentNode,k))}for(se(),G=B.length;G<p.length;G+=1)q(G);oe()}},i(z){if(!D){V(e.$$.fragment,z),V(l.$$.fragment,z);for(let T=0;T<B.length;T+=1)V(p[T]);D=!0}},o(z){K(e.$$.fragment,z),K(l.$$.fragment,z),p=p.filter(Boolean);for(let T=0;T<p.length;T+=1)K(p[T]);D=!1},d(z){Y(e,z),z&&_(t),Y(l,z),z&&_(n),z&&_(i),a[24][0].splice(a[24][0].indexOf(c),1),a[24][0].splice(a[24][0].indexOf(g),1),z&&_(I),le(p,z),z&&_(k),j=!1,Ut(P)}}}function xi(a){let e,t,l,n,i,s,f,o,r,c,h,u;return r=new Cn({props:{background:"none",breadcrumb:[{label:"Census",url:"/census"},{label:"Population Group Profiles"}],$$slots:{meta:[Si],default:[Ci]},$$scope:{ctx:a}}}),h=new ii({props:{$$slots:{default:[$i]},$$scope:{ctx:a}}}),{c(){e=w("meta"),t=w("meta"),l=w("meta"),n=w("meta"),i=w("meta"),s=w("meta"),f=w("meta"),o=N(),X(r.$$.fragment),c=N(),X(h.$$.fragment),this.h()},l(d){const g=Gt('[data-svelte="svelte-t9gyf0"]',document.head);e=y(g,"META",{name:!0,content:!0}),t=y(g,"META",{property:!0,content:!0}),l=y(g,"META",{property:!0,content:!0}),n=y(g,"META",{property:!0,content:!0}),i=y(g,"META",{property:!0,content:!0}),s=y(g,"META",{property:!0,content:!0}),f=y(g,"META",{name:!0,content:!0}),g.forEach(_),o=L(d),$(r.$$.fragment,d),c=L(d),$(h.$$.fragment,d),this.h()},h(){document.title="Census Population Group Profiles",v(e,"name","description"),v(e,"content",""),v(t,"property","og:title"),v(t,"content","Census Population Group Profiles"),v(l,"property","og:type"),v(l,"content","website"),v(n,"property","og:url"),v(n,"content",zt+"/"),v(i,"property","og:image:type"),v(i,"content","image/jpeg"),v(s,"property","og:description"),v(s,"content",""),v(f,"name","description"),v(f,"content","")},m(d,g){b(document.head,e),b(document.head,t),b(document.head,l),b(document.head,n),b(document.head,i),b(document.head,s),b(document.head,f),E(d,o,g),J(r,d,g),E(d,c,g),J(h,d,g),u=!0},p(d,g){const m={};g[0]&25|g[1]&4096&&(m.$$scope={dirty:g,ctx:d}),r.$set(m);const I={};g[0]&103|g[1]&4096&&(I.$$scope={dirty:g,ctx:d}),h.$set(I)},i(d){u||(V(r.$$.fragment,d),V(h.$$.fragment,d),u=!0)},o(d){K(r.$$.fragment,d),K(h.$$.fragment,d),u=!1},d(d){_(e),_(t),_(l),_(n),_(i),_(s),_(f),d&&_(o),Y(r,d),d&&_(c),Y(h,d)}}}const fa=!1;async function ra({fetch:a}){let e=await ln(zt+we.url,we.layer,a),t={};e.features.forEach(s=>t[s.properties[we.code]]=s.properties[we.name]);let l=(await Pt(Le,[],a)).data;l.total_pop=Tt(l.residents.sex.values.count);let n=[],i=e.features.map(s=>s.properties[we.code]);return i.forEach(s=>{n.push({code:s,name:t[s],value:100})}),n.forEach(s=>s.color=be.seq[4]),{props:{geojson:e,geoLookup:t,dataAll:l,geoCodes:i,geoPerc:n}}}let ea="light";function la(a){let e=[];a.forEach(l=>e.push(l[0]));const t=a.flat().pop();return(a.length===1||t!=e[e.length-1])&&e.push(t),e}const wt=a=>a.value!=null,yt=(a,e)=>e.value-a.value,Ct=a=>a.value!=null,Dt=(a,e)=>e.value-a.value,It=a=>a.value!=null;function ta(a,e,t){let l;St(a,Qt,F=>t(29,l=F));let{geojson:n,geoLookup:i,dataAll:s,geoCodes:f,geoPerc:o}=e;ye("theme",Jt[ea]);let r=null,c=[],h=null,u="success",d=!1,g=Vt,m={all:s,selected:s,geojson:n,geoLookup:i,geoCodes:f,geoPerc:o,geoBreaks:[0,100]};function I(F,Z){console.log("doSelect2",F,Z),t(0,c=[...c.filter(x=>x.topic!==F.shortLabel),ke({topic:F.shortLabel,key:F.key},Z)]),Me(`${Oe}?${c.map(x=>`${x.key}=${x.code}`).join("&")}`,{noscroll:!0})}function k(F,Z){console.log("doDeselect",F,Z),t(0,c=c.filter(x=>x.label!==Z.label)),Me(`${Oe}?${c.map(x=>`${x.key}=${x.code}`).join("&")}`,{noscroll:!0})}function D(F){for(const Z of c)if(Z.var===F.var&&Z.code===F.code)return!0;return!1}function j(F){t(0,c=c.filter(Z=>Z.topic!=F)),Me(`${Oe}?${c.map(Z=>`${Z.key}=${Z.code}`).join("&")}`,{noscroll:!0})}function P(F){t(6,m.selected=F.data,m),t(6,m.selected.total_pop=c.length===0?Tt(s.residents.sex.values.count):F.total_pop,m),t(6,m.geoPerc=[],m);let Z=null;{m.geoCodes.forEach(A=>{let re=c.length===0?100:F.mapData[A]!=null?F.mapData[A][1]:null;m.geoPerc.push({code:A,name:m.geoLookup[A],value:re})});let x=m.geoPerc.map(A=>A.value).filter(A=>A!=null);Z=x.length===0?null:Zt(x,Math.min(5,x.length))}if(Z==null)m.geoPerc.forEach(x=>x.color=be.nodata),t(6,m.geoBreaks=[0,100],m);else if(c.length===0)m.geoPerc.forEach(x=>x.color=be.seq[4]),t(6,m.geoBreaks=[100,100],m);else{let x=la(Z);m.geoPerc.forEach(A=>A.color=A.value!=null?en(A.value,x,be.seq):be.nodata),t(6,m.geoBreaks=x,m)}t(3,u="success")}function B(){t(3,u="loading"),t(4,d=c&&c.some(F=>["Aged 4 years and under","Aged 5 to 9 years","Aged 10 to 14 years","Aged 15 years and under"].includes(F.label))),Pt(Le,c).then(P)}function p(F){let Z=F[0],x=F[1],A=m.all[Z][x].values,re=m.selected[Z][x].values,Ke=[];return Yt[x].forEach((Lt,He)=>{let Re=Lt.label,At=A.percent[He],Kt=re.percent[He];m.selected.total_pop!=m.all.total_pop&&Ke.push({group:"This group",category:Re,value:Kt}),Ke.push({group:"Whole population",category:Re,value:At})}),Ke}function q(){t(0,c=[]);for(let F of l.url.searchParams.entries()){let Z=Ue.find(A=>A.key==F[0]);if(!Z)continue;let x=Z.cats.find(A=>A.code==F[1]);!x||c.push(ke({topic:Z.shortLabel,key:Z.key},x))}B()}function z(F){for(const Z of F)if(Z.var in Ze)return Ze[Z.var][Z.code];return null}nn(q);const T=[[]],H=F=>j(F.topic);function ae(F){h=F,t(2,h)}function G(F){r=F,t(1,r)}const Q=F=>F.code==h,ce=F=>F.code==h;function ee(){g=this.__value,t(5,g)}function ue(){g=this.__value,t(5,g)}const ge=F=>!F.code.startsWith("resident_age")&&m.selected.residents[F.code].values!=="blocked"&&m.selected.residents[F.code].values!==void 0;return a.$$set=F=>{"geojson"in F&&t(13,n=F.geojson),"geoLookup"in F&&t(14,i=F.geoLookup),"dataAll"in F&&t(15,s=F.dataAll),"geoCodes"in F&&t(16,f=F.geoCodes),"geoPerc"in F&&t(17,o=F.geoPerc)},a.$$.update=()=>{a.$$.dirty[0]&1&&Ue.filter(F=>!c.map(Z=>Z.topic).includes(F.label))},[c,r,h,u,d,g,m,I,k,D,j,p,z,n,i,s,f,o,H,ae,G,Q,ce,ee,T,ue,ge]}class ca extends te{constructor(e){super();ne(this,e,ta,xi,ie,{geojson:13,geoLookup:14,dataAll:15,geoCodes:16,geoPerc:17},null,[-1,-1])}}export{ca as default,ra as load,fa as prerender};
