var Kt=Object.defineProperty;var Me=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable;var Ke=(a,e,t)=>e in a?Kt(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,ge=(a,e)=>{for(var t in e||(e={}))Ot.call(e,t)&&Ke(a,t,e[t]);if(Me)for(var t of Me(e))Ft.call(e,t)&&Ke(a,t,e[t]);return a};import{X as Ht,S as Q,i as $,s as x,e as E,t as B,c as y,a as C,h as M,d as _,b as k,g as p,H as v,j as W,F as oe,k as P,m as V,R as le,Y as Ce,N as ae,f as T,J as fe,K as re,L as ue,q as j,o as A,W as De,V as Tt,G as jt,I as Nt,n as ne,p as ie,r as pe,D as Rt,v as Wt,Z as Te,_ as Ve,l as R,$ as Ut,Q as U,w as G,x as J,y as Z,B as X,a0 as Ae,a1 as Le,a2 as qt,a3 as Gt,O as de,a4 as Zt,U as Xt,a5 as Jt}from"../chunks/vendor-88ee4c21.js";import{a as Pt,b as Yt}from"../chunks/paths-396f020f.js";import{m as Oe,c as Qt,a as Fe,b as Se,l as ye,d as ke,e as je,f as $t,t as xt,v as en,g as ln,p as tn}from"../chunks/config-597a54ed.js";import{c as ve}from"../chunks/singletons-d1fb5791.js";const He="https://raw.githubusercontent.com/jtrim-ons/key-pop-api-downloader/main/generated/";function nn(a){let e=[...a].sort((l,n)=>l.key.localeCompare(n.key));return{selString:a.length==0?"data":e.map((l,n)=>n<e.length-1?`${l.key}-${l.code}`:`${l.key}`).join("/"),lastCode:a.length>0?e[e.length-1].code:null}}async function Vt(a,e=[],t=window.fetch){if(e.length>0&&!e[0].newFormat)throw new Error("OLD FORMAT!");let{selString:l,lastCode:n}=nn(e),i={data:{}},s;if(e.length===0){let f=`${He}${e.length}var_percent/${l}.json`;s=await(await t(f)).json()}else{let f=`${He}${e.length}var-combined_percent/${l}.json`,r=await(await t(f)).json();s=r.bar_chart_data[n],i.mapData=r.map_data[n],i.total_pop=s.total_pop}for(let f of a){i.data[f.key]={};for(let o of f.tables)i.data[f.key][o.code]={values:s[o.code]}}return i}function an(a,e,t){for(let l=1;l<e.length;l++)if(a<=e[l])return t[l-1]}async function sn(a,e,t=window.fetch){let n=await(await t(a)).json();return await Ht(n,e)}function _e(a){return a.charAt(0).toUpperCase()+a.slice(1)}function At(a){if(!a)return 0;let e=0;for(let t=0;t<a.length;t++)e+=a[t];return e}function Re(a){return a.replace(new RegExp(" \\([0-9]* categories\\)"),"")}function We(a){for(const e of a)if(e.var in Oe)return Oe[e.var][e.code];return null}function Ne(a,e,t){let l=t.all[a][e].values,n=t.selected[a][e].values,i=[];return Qt[e].forEach((s,f)=>{let o=s.label,r=l.percent[f],u=n.percent[f];t.selected.total_pop!=t.all.total_pop&&i.push({group:"This group",category:o,value:u}),i.push({group:"Whole population",category:o,value:r})}),i}function Ue(a){if(a===100)return"100";const e=a.toFixed(1);return e!=="0.0"?e:"Less than 0.05"}function qe(a,e,t){const l=a.slice();return l[9]=e[t],l}function Ge(a){let e,t,l;return{c(){e=E("header"),t=E("h3"),l=B(a[2]),this.h()},l(n){e=y(n,"HEADER",{class:!0});var i=C(e);t=y(i,"H3",{class:!0});var s=C(t);l=M(s,a[2]),s.forEach(_),i.forEach(_),this.h()},h(){k(t,"class","margin-top--0 margin-right--0 margin-bottom--0 margin-left--0 svelte-1krn9ab"),k(e,"class","margin-top--1")},m(n,i){p(n,e,i),v(e,t),v(t,l)},p(n,i){i&4&&W(l,n[2])},d(n){n&&_(e)}}}function Ze(a){let e,t=a[3],l=[];for(let n=0;n<t.length;n+=1)l[n]=Xe(qe(a,t,n));return{c(){e=E("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=y(n,"DIV",{class:!0});var i=C(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){k(e,"class","margin-top--2")},m(n,i){p(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&8){t=n[3];let s;for(s=0;s<t.length;s+=1){const f=qe(n,t,s);l[s]?l[s].p(f,i):(l[s]=Xe(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),le(l,n)}}}function Xe(a){let e,t=a[9].label+"",l,n,i,s,f;return{c(){e=E("a"),l=B(t),n=P(),this.h()},l(o){e=y(o,"A",{href:!0,class:!0,"aria-label":!0,"data-gtm-label":!0});var r=C(e);l=M(r,t),n=V(r),r.forEach(_),this.h()},h(){k(e,"href",i=a[9].url),k(e,"class","tile__link"),k(e,"aria-label",s=a[9].label),k(e,"data-gtm-label",f=a[9].label)},m(o,r){p(o,e,r),v(e,l),v(e,n)},p(o,r){r&8&&t!==(t=o[9].label+"")&&W(l,t),r&8&&i!==(i=o[9].url)&&k(e,"href",i),r&8&&s!==(s=o[9].label)&&k(e,"aria-label",s),r&8&&f!==(f=o[9].label)&&k(e,"data-gtm-label",f)},d(o){o&&_(e)}}}function on(a){let e,t,l,n,i=`span ${a[0]==1?1:a[0]>a[5]?a[5]:a[0]}`,s=`span ${a[1]}`,f,o=a[2]&&Ge(a);const r=a[8].default,u=oe(r,a,a[7],null);let d=a[3]&&a[3][0]&&Ze(a);return{c(){e=E("div"),o&&o.c(),t=P(),u&&u.c(),l=P(),d&&d.c(),this.h()},l(c){e=y(c,"DIV",{class:!0});var h=C(e);o&&o.l(h),t=V(h),u&&u.l(h),l=V(h),d&&d.l(h),h.forEach(_),this.h()},h(){k(e,"class",n=Ce(a[4]?"":"tile tile__content")+" svelte-1krn9ab"),ae(e,"blank",a[4]),T(e,"grid-column",i,!1),T(e,"grid-row",s,!1)},m(c,h){p(c,e,h),o&&o.m(e,null),v(e,t),u&&u.m(e,null),v(e,l),d&&d.m(e,null),f=!0},p(c,[h]){c[2]?o?o.p(c,h):(o=Ge(c),o.c(),o.m(e,t)):o&&(o.d(1),o=null),u&&u.p&&(!f||h&128)&&fe(u,r,c,c[7],f?ue(r,c[7],h,null):re(c[7]),null),c[3]&&c[3][0]?d?d.p(c,h):(d=Ze(c),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!f||h&16&&n!==(n=Ce(c[4]?"":"tile tile__content")+" svelte-1krn9ab"))&&k(e,"class",n),h&16&&ae(e,"blank",c[4]),h&33&&i!==(i=`span ${c[0]==1?1:c[0]>c[5]?c[5]:c[0]}`)&&T(e,"grid-column",i,!1),h&2&&s!==(s=`span ${c[1]}`)&&T(e,"grid-row",s,!1)},i(c){f||(j(u,c),f=!0)},o(c){A(u,c),f=!1},d(c){c&&_(e),o&&o.d(),u&&u.d(c),d&&d.d()}}}function fn(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{colspan:s=1}=e,{rowspan:f=1}=e,{title:o=null}=e,{links:r=null}=e,{blank:u=!1}=e;const{cols:d}=De("tiles");return Tt(a,d,c=>t(5,l=c)),a.$$set=c=>{"colspan"in c&&t(0,s=c.colspan),"rowspan"in c&&t(1,f=c.rowspan),"title"in c&&t(2,o=c.title),"links"in c&&t(3,r=c.links),"blank"in c&&t(4,u=c.blank),"$$scope"in c&&t(7,i=c.$$scope)},[s,f,o,r,u,l,d,i,n]}class be extends Q{constructor(e){super();$(this,e,fn,on,x,{colspan:0,rowspan:1,title:2,links:3,blank:4})}}const rn=a=>({}),Je=a=>({});function Ye(a){let e,t,l,n;const i=a[6].meta,s=oe(i,a,a[5],Je);return{c(){e=E("h2"),t=B(a[0]),l=P(),s&&s.c(),this.h()},l(f){e=y(f,"H2",{id:!0,class:!0});var o=C(e);t=M(o,a[0]),o.forEach(_),l=V(f),s&&s.l(f),this.h()},h(){k(e,"id","topics"),k(e,"class","svelte-1328dmd")},m(f,o){p(f,e,o),v(e,t),p(f,l,o),s&&s.m(f,o),n=!0},p(f,o){(!n||o&1)&&W(t,f[0]),s&&s.p&&(!n||o&32)&&fe(s,i,f,f[5],n?ue(i,f[5],o,rn):re(f[5]),Je)},i(f){n||(j(s,f),n=!0)},o(f){A(s,f),n=!1},d(f){f&&_(e),f&&_(l),s&&s.d(f)}}}function un(a){let e,t,l,n,i=`repeat(auto-fit, minmax(min(${a[1]}px, 100%), 1fr))`,s=`${a[2]}px`,f,o=a[0]&&Ye(a);const r=a[6].default,u=oe(r,a,a[5],null);return{c(){e=E("div"),o&&o.c(),t=P(),l=E("div"),u&&u.c(),this.h()},l(d){e=y(d,"DIV",{class:!0});var c=C(e);o&&o.l(c),t=V(c),l=y(c,"DIV",{class:!0});var h=C(l);u&&u.l(h),h.forEach(_),c.forEach(_),this.h()},h(){k(l,"class","tiles-grid margin-bottom svelte-1328dmd"),jt(()=>a[7].call(l)),T(l,"grid-template-columns",i,!1),T(l,"grid-gap",s,!1),k(e,"class","tiles")},m(d,c){p(d,e,c),o&&o.m(e,null),v(e,t),v(e,l),u&&u.m(l,null),n=Nt(l,a[7].bind(l)),f=!0},p(d,[c]){d[0]?o?(o.p(d,c),c&1&&j(o,1)):(o=Ye(d),o.c(),j(o,1),o.m(e,t)):o&&(ne(),A(o,1,1,()=>{o=null}),ie()),u&&u.p&&(!f||c&32)&&fe(u,r,d,d[5],f?ue(r,d[5],c,null):re(d[5]),null),c&2&&i!==(i=`repeat(auto-fit, minmax(min(${d[1]}px, 100%), 1fr))`)&&T(l,"grid-template-columns",i,!1),c&4&&s!==(s=`${d[2]}px`)&&T(l,"grid-gap",s,!1)},i(d){f||(j(o),j(u,d),f=!0)},o(d){A(o),A(u,d),f=!1},d(d){d&&_(e),o&&o.d(),u&&u.d(d),n()}}}function cn(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{colwidth:f=280}=e,{gridgap:o=16}=e,r;const u=Rt(3);pe("tiles",{cols:u});function d(){r=this.clientWidth,t(3,r)}return a.$$set=c=>{"title"in c&&t(0,s=c.title),"colwidth"in c&&t(1,f=c.colwidth),"gridgap"in c&&t(2,o=c.gridgap),"$$scope"in c&&t(5,i=c.$$scope)},a.$$.update=()=>{a.$$.dirty&14&&t(4,l=r?Math.floor((r+o)/(f+o)):3),a.$$.dirty&16&&u.set(l)},[s,f,o,r,l,i,n,d]}class Be extends Q{constructor(e){super();$(this,e,cn,un,x,{title:0,colwidth:1,gridgap:2})}}function Qe(a){let e;const t=a[14].default,l=oe(t,a,a[13],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&8192)&&fe(l,t,n,n[13],e?ue(t,n[13],i,null):re(n[13]),null)},i(n){e||(j(l,n),e=!0)},o(n){A(l,n),e=!1},d(n){l&&l.d(n)}}}function hn(a){let e,t,l=a[0]&&Qe(a);return{c(){e=E("div"),l&&l.c(),this.h()},l(n){e=y(n,"DIV",{id:!0,class:!0});var i=C(e);l&&l.l(i),i.forEach(_),this.h()},h(){k(e,"id",a[1]),k(e,"class","svelte-78euky")},m(n,i){p(n,e,i),l&&l.m(e,null),a[15](e),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&j(l,1)):(l=Qe(n),l.c(),j(l,1),l.m(e,null)):l&&(ne(),A(l,1,1,()=>{l=null}),ie()),(!t||i&2)&&k(e,"id",n[1])},i(n){t||(j(l),t=!0)},o(n){A(l),t=!1},d(n){n&&_(e),l&&l.d(),a[15](null)}}}function _n(a,e,t){let{$$slots:l={},$$scope:n}=e,{map:i}=e,{id:s="map"}=e,{location:f={bounds:[[-5.816,49.864],[1.863,55.872]]}}=e,{maxbounds:o=[[-13,48],[5,60]]}=e,{style:r="https://bothness.github.io/ons-basemaps/data/style-omt.json"}=e,{interactive:u=!0}=e,{minzoom:d=0}=e,{maxzoom:c=10}=e,{zoom:h=null}=e,{scrollzoom:g=!0}=e,{geolocate:m=!0}=e,{zoomcontrol:w=!0}=e,b,z;pe("map",{getMap:()=>i}),f.bounds?z={bounds:f.bounds}:f.lon&&f.lat&&(z={center:[f.lon,f.lat]},f.zoom&&(z.zoom=f.zoom)),o&&(z.maxBounds=o),Wt(()=>{t(0,i=new Te.Map(ge({container:b,style:r,minZoom:d,maxZoom:c,interactive:u},z))),w&&i.addControl(new Te.NavigationControl({showCompass:!1})),g||i.scrollZoom.disable(),m&&i.addControl(new Te.GeolocateControl),i.on("load",()=>{t(3,h=i.getZoom())}),i.on("zoom",()=>{t(3,h=i.getZoom())})});function D(I){Ve[I?"unshift":"push"](()=>{b=I,t(2,b)})}return a.$$set=I=>{"map"in I&&t(0,i=I.map),"id"in I&&t(1,s=I.id),"location"in I&&t(4,f=I.location),"maxbounds"in I&&t(5,o=I.maxbounds),"style"in I&&t(6,r=I.style),"interactive"in I&&t(7,u=I.interactive),"minzoom"in I&&t(8,d=I.minzoom),"maxzoom"in I&&t(9,c=I.maxzoom),"zoom"in I&&t(3,h=I.zoom),"scrollzoom"in I&&t(10,g=I.scrollzoom),"geolocate"in I&&t(11,m=I.geolocate),"zoomcontrol"in I&&t(12,w=I.zoomcontrol),"$$scope"in I&&t(13,n=I.$$scope)},[i,s,b,h,f,o,r,u,d,c,g,m,w,n,l,D]}class dn extends Q{constructor(e){super();$(this,e,_n,hn,x,{map:0,id:1,location:4,maxbounds:5,style:6,interactive:7,minzoom:8,maxzoom:9,zoom:3,scrollzoom:10,geolocate:11,zoomcontrol:12})}}function $e(a){let e;const t=a[11].default,l=oe(t,a,a[10],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&1024)&&fe(l,t,n,n[10],e?ue(t,n[10],i,null):re(n[10]),null)},i(n){e||(j(l,n),e=!0)},o(n){A(l,n),e=!1},d(n){l&&l.d(n)}}}function mn(a){let e,t,l=a[0]&&$e(a);return{c(){l&&l.c(),e=R()},l(n){l&&l.l(n),e=R()},m(n,i){l&&l.m(n,i),p(n,e,i),t=!0},p(n,[i]){n[0]?l?(l.p(n,i),i&1&&j(l,1)):(l=$e(n),l.c(),j(l,1),l.m(e.parentNode,e)):l&&(ne(),A(l,1,1,()=>{l=null}),ie())},i(n){t||(j(l),t=!0)},o(n){A(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function gn(a,e,t){let{$$slots:l={},$$scope:n}=e,{id:i}=e,{type:s}=e,{url:f=null}=e,{props:o={}}=e,{data:r=null}=e,{layer:u=null}=e,{promoteId:d=null}=e,{minzoom:c=null}=e,{maxzoom:h=null}=e,g=!1;const{getMap:m}=De("map"),w=m();pe("source",{source:i,sourceLayer:u}),w.getSource(i)&&w.removeSource(i);function b(){w.isSourceLoaded(i)?t(0,g=!0):setTimeout(()=>{b()},500)}function z(){w.isStyleLoaded(i)?(D(),document.querySelector("#map canvas")&&document.querySelector("#map canvas").tabIndex=="0"&&(document.querySelector("#map canvas").tabIndex="-1")):setTimeout(()=>{z()},500)}c&&(o.minzoom=c),h&&(o.maxzoom=h),u&&d?(o.promoteId={},o.promoteId[u]=d):d&&(o.promoteId=d);function D(){s=="geojson"?r?(w.addSource(i,ge({type:s,data:r},o)),b()):f&&(w.addSource(i,ge({type:s,data:f},o)),b()):s=="vector"&&(w.addSource(i,ge({type:s,tiles:[f]},o)),b())}z();function I(){w.getSource(i).setData(r)}return a.$$set=L=>{"id"in L&&t(2,i=L.id),"type"in L&&t(3,s=L.type),"url"in L&&t(4,f=L.url),"props"in L&&t(1,o=L.props),"data"in L&&t(5,r=L.data),"layer"in L&&t(6,u=L.layer),"promoteId"in L&&t(7,d=L.promoteId),"minzoom"in L&&t(8,c=L.minzoom),"maxzoom"in L&&t(9,h=L.maxzoom),"$$scope"in L&&t(10,n=L.$$scope)},a.$$.update=()=>{a.$$.dirty&33&&g&&r&&I()},[g,o,i,s,f,r,u,d,c,h,n,l]}class bn extends Q{constructor(e){super();$(this,e,gn,mn,x,{id:2,type:3,url:4,props:1,data:5,layer:6,promoteId:7,minzoom:8,maxzoom:9})}}function vn(a,e,t){const l=Ut(),n=new Te.Popup({closeButton:!1,closeOnClick:!1});let{id:i}=e,{type:s}=e,{filter:f=null}=e,{layout:o={}}=e,{paint:r={}}=e,{data:u=null}=e,{geoCode:d=null}=e,{colorCode:c=null}=e,{nameCode:h=null}=e,{valueCode:g=null}=e,{click:m=!1}=e,{ignoreClick:w=!1}=e,{clickCenter:b=!1}=e,{selected:z=null}=e,{hover:D=!1}=e,{hovered:I=null}=e,{highlight:L=!1}=e,{highlightKey:S="highlighted"}=e,{highlighted:O=[]}=e,{order:H=null}=e,{maxzoom:N=null}=e,{minzoom:F=null}=e,{tooltip:Y=!1}=e;const{source:q,sourceLayer:ee}=De("source"),{getMap:ce}=De("map"),te=ce();let he=null,me=null,we=[];te.getLayer(i)&&te.removeLayer(i);let Ee={id:i,type:s,source:q,paint:r,layout:o};f&&(Ee.filter=f),ee&&(Ee["source-layer"]=ee),N&&(Ee.maxzoom=N),F&&(Ee.minzoom=F),te.addLayer(Ee,H);function Mt(){u.forEach(K=>{te.setFeatureState({source:q,sourceLayer:ee,id:K[d]},{color:c?K[c]:null,name:h?K[h]:null,value:g?K[g]:null})})}return m&&te.on("click",i,K=>{if(K.features.length>0&&!w){if(t(0,z=K.features[0].id),l("select",{code:z}),he&&te.setFeatureState({source:q,sourceLayer:ee,id:he},{selected:!1}),te.setFeatureState({source:q,sourceLayer:ee,id:z},{selected:!0}),b){let se=centroid(K.features[0].toJSON().geometry);te.flyTo({center:se.geometry.coordinates})}t(23,he=z)}}),D&&(te.on("mousemove",i,K=>{if(K.features.length>0){I&&te.setFeatureState({source:q,sourceLayer:ee,id:I},{hovered:!1}),t(1,I=t(24,me=K.features[0].id)),te.setFeatureState({source:q,sourceLayer:ee,id:I},{hovered:!0}),te.getCanvas().style.cursor="pointer";let se=te.getFeatureState({source:q,sourceLayer:ee,id:I});Y&&se.name&&n.setLngLat(K.lngLat).setHTML(`<strong>${se.name}</strong>${se.value!=null?"<br/>"+se.value.toFixed(1)+"%":"<br/>Data not available"}`).addTo(te)}}),te.on("mouseleave",i,K=>{I&&te.setFeatureState({source:q,sourceLayer:ee,id:I},{hovered:!1}),t(1,I=t(24,me=null)),te.getCanvas().style.cursor="",Y&&n.remove()})),a.$$set=K=>{"id"in K&&t(2,i=K.id),"type"in K&&t(3,s=K.type),"filter"in K&&t(4,f=K.filter),"layout"in K&&t(5,o=K.layout),"paint"in K&&t(6,r=K.paint),"data"in K&&t(7,u=K.data),"geoCode"in K&&t(8,d=K.geoCode),"colorCode"in K&&t(9,c=K.colorCode),"nameCode"in K&&t(10,h=K.nameCode),"valueCode"in K&&t(11,g=K.valueCode),"click"in K&&t(12,m=K.click),"ignoreClick"in K&&t(13,w=K.ignoreClick),"clickCenter"in K&&t(14,b=K.clickCenter),"selected"in K&&t(0,z=K.selected),"hover"in K&&t(15,D=K.hover),"hovered"in K&&t(1,I=K.hovered),"highlight"in K&&t(16,L=K.highlight),"highlightKey"in K&&t(17,S=K.highlightKey),"highlighted"in K&&t(18,O=K.highlighted),"order"in K&&t(19,H=K.order),"maxzoom"in K&&t(20,N=K.maxzoom),"minzoom"in K&&t(21,F=K.minzoom),"tooltip"in K&&t(22,Y=K.tooltip)},a.$$.update=()=>{a.$$.dirty[0]&640&&(u||c)&&Mt(),a.$$.dirty[0]&34013184&&L&&O!=we&&(we[0]&&we.forEach(K=>{let se={};se[S]=!1,te.setFeatureState({source:q,sourceLayer:ee,id:K},se)}),t(25,we=O),O[0]&&O.forEach(K=>{let se={};se[S]=!0,te.setFeatureState({source:q,sourceLayer:ee,id:K},se)})),a.$$.dirty[0]&8392705&&m&&z!=he&&(he&&te.setFeatureState({source:q,sourceLayer:ee,id:he},{selected:!1}),z&&te.setFeatureState({source:q,sourceLayer:ee,id:z},{selected:!0}),t(23,he=z)),a.$$.dirty[0]&16809986&&D&&I!=me&&(me&&te.setFeatureState({source:q,sourceLayer:ee,id:me},{hovered:!1}),I&&te.setFeatureState({source:q,sourceLayer:ee,id:I},{hovered:!0}),t(24,me=I))},[z,I,i,s,f,o,r,u,d,c,h,g,m,w,b,D,L,S,O,H,N,F,Y,he,me,we]}class xe extends Q{constructor(e){super();$(this,e,vn,null,x,{id:2,type:3,filter:4,layout:5,paint:6,data:7,geoCode:8,colorCode:9,nameCode:10,valueCode:11,click:12,ignoreClick:13,clickCenter:14,selected:0,hover:15,hovered:1,highlight:16,highlightKey:17,highlighted:18,order:19,maxzoom:20,minzoom:21,tooltip:22},null,[-1,-1])}}function el(a,e,t){const l=a.slice();return l[10]=e[t],l[12]=t,l}function ll(a){let e,t,l,n,i,s=a[6](a[4][a[12]])+"",f;return{c(){e=E("div"),t=P(),l=E("div"),n=P(),i=E("div"),f=B(s),this.h()},l(o){e=y(o,"DIV",{class:!0,style:!0}),C(e).forEach(_),t=V(o),l=y(o,"DIV",{class:!0,style:!0}),C(l).forEach(_),n=V(o),i=y(o,"DIV",{class:!0,style:!0});var r=C(i);f=M(r,s),r.forEach(_),this.h()},h(){k(e,"class","block svelte-j1hxpu"),T(e,"width",100/(a[4].length-1)+"%"),T(e,"left",a[12]*(100/(a[4].length-1))+"%"),T(e,"background-color",a[5][a[12]]),k(l,"class","line svelte-j1hxpu"),T(l,"left",a[12]*(100/(a[4].length-1))+"%"),k(i,"class","tick svelte-j1hxpu"),T(i,"left",a[12]*(100/(a[4].length-1))+"%"),ae(i,"tick-start",a[12]==0)},m(o,r){p(o,e,r),p(o,t,r),p(o,l,r),p(o,n,r),p(o,i,r),v(i,f)},p(o,r){r&16&&T(e,"width",100/(o[4].length-1)+"%"),r&16&&T(e,"left",o[12]*(100/(o[4].length-1))+"%"),r&32&&T(e,"background-color",o[5][o[12]]),r&16&&T(l,"left",o[12]*(100/(o[4].length-1))+"%"),r&80&&s!==(s=o[6](o[4][o[12]])+"")&&W(f,s),r&16&&T(i,"left",o[12]*(100/(o[4].length-1))+"%")},d(o){o&&_(e),o&&_(t),o&&_(l),o&&_(n),o&&_(i)}}}function tl(a){let e,t,l,n=a[7](a[1])+"",i,s;return{c(){e=E("div"),t=P(),l=E("div"),i=B(n),s=B(a[8]),this.h()},l(f){e=y(f,"DIV",{class:!0,style:!0}),C(e).forEach(_),t=V(f),l=y(f,"DIV",{class:!0,style:!0});var o=C(l);i=M(o,n),s=M(o,a[8]),o.forEach(_),this.h()},h(){k(e,"class","marker svelte-j1hxpu"),T(e,"width",a[2]+"px"),T(e,"left","calc("+a[9](a[1],a[4])+"% - "+a[2]/2+"px)"),k(l,"class","value svelte-j1hxpu"),T(l,"left",a[9](a[1],a[4])+"%")},m(f,o){p(f,e,o),p(f,t,o),p(f,l,o),v(l,i),v(l,s)},p(f,o){o&4&&T(e,"width",f[2]+"px"),o&22&&T(e,"left","calc("+f[9](f[1],f[4])+"% - "+f[2]/2+"px)"),o&130&&n!==(n=f[7](f[1])+"")&&W(i,n),o&256&&W(s,f[8]),o&18&&T(l,"left",f[9](f[1],f[4])+"%")},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function nl(a){let e,t,l,n=a[7](a[0])+"",i,s;return{c(){e=E("div"),t=P(),l=E("div"),i=B(n),s=B(a[8]),this.h()},l(f){e=y(f,"DIV",{class:!0,style:!0}),C(e).forEach(_),t=V(f),l=y(f,"DIV",{class:!0,style:!0});var o=C(l);i=M(o,n),s=M(o,a[8]),o.forEach(_),this.h()},h(){k(e,"class","marker marker-hovered svelte-j1hxpu"),T(e,"width",a[2]+"px"),T(e,"left","calc("+a[9](a[0],a[4])+"% - "+a[2]/2+"px)"),k(l,"class","value svelte-j1hxpu"),T(l,"left",a[9](a[0],a[4])+"%")},m(f,o){p(f,e,o),p(f,t,o),p(f,l,o),v(l,i),v(l,s)},p(f,o){o&4&&T(e,"width",f[2]+"px"),o&21&&T(e,"left","calc("+f[9](f[0],f[4])+"% - "+f[2]/2+"px)"),o&129&&n!==(n=f[7](f[0])+"")&&W(i,n),o&256&&W(s,f[8]),o&17&&T(l,"left",f[9](f[0],f[4])+"%")},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function kn(a){let e,t,l,n,i,s=a[6](a[4][a[4].length-1])+"",f,o,r,u,d=a[4].slice(1),c=[];for(let m=0;m<d.length;m+=1)c[m]=ll(el(a,d,m));let h=a[1]&&tl(a),g=a[0]&&nl(a);return{c(){e=E("div");for(let m=0;m<c.length;m+=1)c[m].c();t=P(),l=E("div"),n=P(),i=E("div"),f=B(s),o=B(a[8]),r=P(),h&&h.c(),u=P(),g&&g.c(),this.h()},l(m){e=y(m,"DIV",{class:!0,style:!0});var w=C(e);for(let z=0;z<c.length;z+=1)c[z].l(w);t=V(w),l=y(w,"DIV",{class:!0,style:!0}),C(l).forEach(_),n=V(w),i=y(w,"DIV",{class:!0,style:!0});var b=C(i);f=M(b,s),o=M(b,a[8]),b.forEach(_),r=V(w),h&&h.l(w),u=V(w),g&&g.l(w),w.forEach(_),this.h()},h(){k(l,"class","line svelte-j1hxpu"),T(l,"left","100%"),k(i,"class","tick tick-end svelte-j1hxpu"),T(i,"left","100%"),k(e,"class","container svelte-j1hxpu"),T(e,"height",a[3]+"px")},m(m,w){p(m,e,w);for(let b=0;b<c.length;b+=1)c[b].m(e,null);v(e,t),v(e,l),v(e,n),v(e,i),v(i,f),v(i,o),v(e,r),h&&h.m(e,null),v(e,u),g&&g.m(e,null)},p(m,[w]){if(w&112){d=m[4].slice(1);let b;for(b=0;b<d.length;b+=1){const z=el(m,d,b);c[b]?c[b].p(z,w):(c[b]=ll(z),c[b].c(),c[b].m(e,t))}for(;b<c.length;b+=1)c[b].d(1);c.length=d.length}w&80&&s!==(s=m[6](m[4][m[4].length-1])+"")&&W(f,s),w&256&&W(o,m[8]),m[1]?h?h.p(m,w):(h=tl(m),h.c(),h.m(e,u)):h&&(h.d(1),h=null),m[0]?g?g.p(m,w):(g=nl(m),g.c(),g.m(e,null)):g&&(g.d(1),g=null),w&8&&T(e,"height",m[3]+"px")},i:U,o:U,d(m){m&&_(e),le(c,m),h&&h.d(),g&&g.d()}}}function pn(a,e,t){let{hovered:l=null}=e,{selected:n=null}=e,{lineWidth:i=3}=e,{height:s=15}=e,{breaks:f=[0,20,40,60,80,100]}=e,{colors:o=["rgba(234,236,177,.8)","rgba(169,216,145,.8)","rgba(0,167,186,.8)","rgba(0,78,166,.8)","rgba(0,13,84,.8)"]}=e,{formatTick:r=h=>h.toFixed(1)}=e,{formatVal:u=h=>h.toFixed(1)}=e,{suffix:d="%"}=e;const c=(h,g)=>{let m=0;for(;h>g[m+1];)m+=1;let w=100/(g.length-1),b=(h-g[m])/(g[m+1]-g[m]);return(m+b)*w};return a.$$set=h=>{"hovered"in h&&t(0,l=h.hovered),"selected"in h&&t(1,n=h.selected),"lineWidth"in h&&t(2,i=h.lineWidth),"height"in h&&t(3,s=h.height),"breaks"in h&&t(4,f=h.breaks),"colors"in h&&t(5,o=h.colors),"formatTick"in h&&t(6,r=h.formatTick),"formatVal"in h&&t(7,u=h.formatVal),"suffix"in h&&t(8,d=h.suffix)},[l,n,i,s,f,o,r,u,d,c]}class wn extends Q{constructor(e){super();$(this,e,pn,kn,x,{hovered:0,selected:1,lineWidth:2,height:3,breaks:4,colors:5,formatTick:6,formatVal:7,suffix:8})}}function il(a,e,t){const l=a.slice();return l[2]=e[t],l[4]=t,l}function al(a){let e,t,l,n=a[2].name+"",i,s,f,o=a[2].value.toFixed(1)+"",r,u,d;return{c(){e=E("tr"),t=E("td"),l=E("strong"),i=B(n),s=P(),f=E("td"),r=B(o),u=B("%"),d=P(),this.h()},l(c){e=y(c,"TR",{});var h=C(e);t=y(h,"TD",{});var g=C(t);l=y(g,"STRONG",{});var m=C(l);i=M(m,n),m.forEach(_),g.forEach(_),s=V(h),f=y(h,"TD",{class:!0});var w=C(f);r=M(w,o),u=M(w,"%"),w.forEach(_),d=V(h),h.forEach(_),this.h()},h(){k(f,"class","text-right svelte-vtsuxa")},m(c,h){p(c,e,h),v(e,t),v(t,l),v(l,i),v(e,s),v(e,f),v(f,r),v(f,u),v(e,d)},p(c,h){h&1&&n!==(n=c[2].name+"")&&W(i,n),h&1&&o!==(o=c[2].value.toFixed(1)+"")&&W(r,o)},d(c){c&&_(e)}}}function En(a){let e,t,l=a[0],n=[];for(let i=0;i<l.length;i+=1)n[i]=al(il(a,l,i));return{c(){e=E("table"),t=E("tbody");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=y(i,"TABLE",{class:!0});var s=C(e);t=y(s,"TBODY",{});var f=C(t);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(_),s.forEach(_),this.h()},h(){k(e,"class","table-rank text-small svelte-vtsuxa")},m(i,s){p(i,e,s),v(e,t);for(let f=0;f<n.length;f+=1)n[f].m(t,null)},p(i,[s]){if(s&1){l=i[0];let f;for(f=0;f<l.length;f+=1){const o=il(i,l,f);n[f]?n[f].p(o,s):(n[f]=al(o),n[f].c(),n[f].m(t,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=l.length}},i:U,o:U,d(i){i&&_(e),le(n,i)}}}function yn(a,e,t){let{data:l}=e,{offset:n=1}=e;return a.$$set=i=>{"data"in i&&t(0,l=i.data),"offset"in i&&t(1,n=i.offset)},[l,n]}class Lt extends Q{constructor(e){super();$(this,e,yn,En,x,{data:0,offset:1})}}function Cn(a){let e,t;return{c(){e=E("p"),t=B(`For each lower-tier local authority area in England and Wales, the map
      shows the count of people in the categories chosen above as a percentage
      of the area's total population.`),this.h()},l(l){e=y(l,"P",{class:!0});var n=C(e);t=M(n,`For each lower-tier local authority area in England and Wales, the map
      shows the count of people in the categories chosen above as a percentage
      of the area's total population.`),n.forEach(_),this.h()},h(){k(e,"class","subtitle svelte-1ijey3s")},m(l,n){p(l,e,n),v(e,t)},d(l){l&&_(e)}}}function sl(a){let e,t;return e=new bn({props:{id:"lad",type:"geojson",data:a[0].geojson,promoteId:a[2].code,$$slots:{default:[Dn]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=l[0].geojson),n&4&&(i.promoteId=l[2].code),n&545&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Dn(a){let e,t,l,n,i;function s(o){a[6](o)}let f={id:"lad-fill",data:a[0].geoPerc,geoCode:"code",nameCode:"name",colorCode:"color",valueCode:"value",hover:!0,tooltip:!0,type:"fill",paint:{"fill-color":["case",["!=",["feature-state","color"],null],["feature-state","color"],"rgba(255, 255, 255, 0)"],"fill-opacity":.8},order:"highway_name_other"};return a[5]!==void 0&&(f.hovered=a[5]),e=new xe({props:f}),Ve.push(()=>Ae(e,"hovered",s)),n=new xe({props:{id:"lad-line",type:"line",paint:{"line-color":"orange","line-width":2,"line-opacity":["case",["==",["feature-state","hovered"],!0],1,0]},order:"highway_name_other"}}),{c(){G(e.$$.fragment),l=P(),G(n.$$.fragment)},l(o){J(e.$$.fragment,o),l=V(o),J(n.$$.fragment,o)},m(o,r){Z(e,o,r),p(o,l,r),Z(n,o,r),i=!0},p(o,r){const u={};r&1&&(u.data=o[0].geoPerc),!t&&r&32&&(t=!0,u.hovered=o[5],Le(()=>t=!1)),e.$set(u)},i(o){i||(j(e.$$.fragment,o),j(n.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),A(n.$$.fragment,o),i=!1},d(o){X(e,o),o&&_(l),X(n,o)}}}function Sn(a){let e,t,l=a[0].geojson&&a[0].geoPerc&&sl(a);return{c(){l&&l.c(),e=R()},l(n){l&&l.l(n),e=R()},m(n,i){l&&l.m(n,i),p(n,e,i),t=!0},p(n,i){n[0].geojson&&n[0].geoPerc?l?(l.p(n,i),i&1&&j(l,1)):(l=sl(n),l.c(),j(l,1),l.m(e.parentNode,e)):l&&(ne(),A(l,1,1,()=>{l=null}),ie())},i(n){t||(j(l),t=!0)},o(n){A(l),t=!1},d(n){l&&l.d(n),n&&_(e)}}}function ol(a){let e,t,l;return t=new wn({props:{breaks:a[0].geoBreaks,hovered:a[5]&&a[0].geoPerc.find(a[7])?a[0].geoPerc.find(a[8]).value:null,colors:a[0].geoBreaks[1]==100?[a[4].seq[4]]:a[4].seq}}),{c(){e=E("div"),G(t.$$.fragment),this.h()},l(n){e=y(n,"DIV",{});var i=C(e);J(t.$$.fragment,i),i.forEach(_),this.h()},h(){T(e,"height","38px",!1),T(e,"width","100%",!1)},m(n,i){p(n,e,i),Z(t,e,null),l=!0},p(n,i){const s={};i&1&&(s.breaks=n[0].geoBreaks),i&33&&(s.hovered=n[5]&&n[0].geoPerc.find(n[7])?n[0].geoPerc.find(n[8]).value:null),i&17&&(s.colors=n[0].geoBreaks[1]==100?[n[4].seq[4]]:n[4].seq),t.$set(s)},i(n){l||(j(t.$$.fragment,n),l=!0)},o(n){A(t.$$.fragment,n),l=!1},d(n){n&&_(e),X(t)}}}function zn(a){let e,t,l,n,i;t=new dn({props:{style:a[1],$$slots:{default:[Sn]},$$scope:{ctx:a}}});let s=a[0].geoBreaks&&a[0].geoPerc&&ol(a);return{c(){e=E("div"),G(t.$$.fragment),l=P(),s&&s.c(),n=R(),this.h()},l(f){e=y(f,"DIV",{});var o=C(e);J(t.$$.fragment,o),o.forEach(_),l=V(f),s&&s.l(f),n=R(),this.h()},h(){T(e,"height","450px",!1)},m(f,o){p(f,e,o),Z(t,e,null),p(f,l,o),s&&s.m(f,o),p(f,n,o),i=!0},p(f,o){const r={};o&2&&(r.style=f[1]),o&549&&(r.$$scope={dirty:o,ctx:f}),t.$set(r),f[0].geoBreaks&&f[0].geoPerc?s?(s.p(f,o),o&1&&j(s,1)):(s=ol(f),s.c(),j(s,1),s.m(n.parentNode,n)):s&&(ne(),A(s,1,1,()=>{s=null}),ie())},i(f){i||(j(t.$$.fragment,f),j(s),i=!0)},o(f){A(t.$$.fragment,f),A(s),i=!1},d(f){f&&_(e),X(t),f&&_(l),s&&s.d(f),f&&_(n)}}}function In(a){let e,t;return{c(){e=E("span"),t=B("Make a selection to see rankings."),this.h()},l(l){e=y(l,"SPAN",{class:!0});var n=C(e);t=M(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){k(e,"class","muted svelte-1ijey3s")},m(l,n){p(l,e,n),v(e,t)},p:U,i:U,o:U,d(l){l&&_(e)}}}function Tn(a){let e,t;return e=new Lt({props:{data:[...a[0].geoPerc].filter(fl).sort(rl).slice(0,5)}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=[...l[0].geoPerc].filter(fl).sort(rl).slice(0,5)),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function jn(a){let e,t,l,n;const i=[Tn,In],s=[];function f(o,r){return o[0].geoPerc&&o[3][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(ne(),A(s[u],1,1,()=>{s[u]=null}),ie(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){n||(j(t),n=!0)},o(o){A(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function Nn(a){let e,t;return{c(){e=E("span"),t=B("Make a selection to see rankings."),this.h()},l(l){e=y(l,"SPAN",{class:!0});var n=C(e);t=M(n,"Make a selection to see rankings."),n.forEach(_),this.h()},h(){k(e,"class","muted svelte-1ijey3s")},m(l,n){p(l,e,n),v(e,t)},p:U,i:U,o:U,d(l){l&&_(e)}}}function Pn(a){let e,t;return e=new Lt({props:{data:a[0].geoPerc.filter(ul).sort(cl).slice(-5),offset:a[0].geoPerc.filter(hl).length-4}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=l[0].geoPerc.filter(ul).sort(cl).slice(-5)),n&1&&(i.offset=l[0].geoPerc.filter(hl).length-4),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Vn(a){let e,t,l,n;const i=[Pn,Nn],s=[];function f(o,r){return o[0].geoPerc&&o[3][0]?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(ne(),A(s[u],1,1,()=>{s[u]=null}),ie(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){n||(j(t),n=!0)},o(o){A(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function An(a){let e,t,l,n,i,s,f,o;return e=new be({props:{colspan:3,rowspan:1,blank:!0,$$slots:{default:[Cn]},$$scope:{ctx:a}}}),l=new be({props:{colspan:2,rowspan:2,blank:!0,$$slots:{default:[zn]},$$scope:{ctx:a}}}),i=new be({props:{title:"Areas with high %",$$slots:{default:[jn]},$$scope:{ctx:a}}}),f=new be({props:{title:"Areas with low %",$$slots:{default:[Vn]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment),t=P(),G(l.$$.fragment),n=P(),G(i.$$.fragment),s=P(),G(f.$$.fragment)},l(r){J(e.$$.fragment,r),t=V(r),J(l.$$.fragment,r),n=V(r),J(i.$$.fragment,r),s=V(r),J(f.$$.fragment,r)},m(r,u){Z(e,r,u),p(r,t,u),Z(l,r,u),p(r,n,u),Z(i,r,u),p(r,s,u),Z(f,r,u),o=!0},p(r,u){const d={};u&512&&(d.$$scope={dirty:u,ctx:r}),e.$set(d);const c={};u&567&&(c.$$scope={dirty:u,ctx:r}),l.$set(c);const h={};u&521&&(h.$$scope={dirty:u,ctx:r}),i.$set(h);const g={};u&521&&(g.$$scope={dirty:u,ctx:r}),f.$set(g)},i(r){o||(j(e.$$.fragment,r),j(l.$$.fragment,r),j(i.$$.fragment,r),j(f.$$.fragment,r),o=!0)},o(r){A(e.$$.fragment,r),A(l.$$.fragment,r),A(i.$$.fragment,r),A(f.$$.fragment,r),o=!1},d(r){X(e,r),r&&_(t),X(l,r),r&&_(n),X(i,r),r&&_(s),X(f,r)}}}function Ln(a){let e,t;return e=new Be({props:{title:"Population by area",$$slots:{default:[An]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,[n]){const i={};n&575&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}const fl=a=>a.value!=null,rl=(a,e)=>e.value-a.value,ul=a=>a.value!=null,cl=(a,e)=>e.value-a.value,hl=a=>a.value!=null;function Bn(a,e,t){let{data:l}=e,{mapStyle:n}=e,{ladBounds:i}=e,{selected:s}=e,{colors:f}=e,o;function r(c){o=c,t(5,o)}const u=c=>c.code==o,d=c=>c.code==o;return a.$$set=c=>{"data"in c&&t(0,l=c.data),"mapStyle"in c&&t(1,n=c.mapStyle),"ladBounds"in c&&t(2,i=c.ladBounds),"selected"in c&&t(3,s=c.selected),"colors"in c&&t(4,f=c.colors)},[l,n,i,s,f,o,r,u,d]}class Mn extends Q{constructor(e){super();$(this,e,Bn,Ln,x,{data:0,mapStyle:1,ladBounds:2,selected:3,colors:4})}}function Kn(a){let e,t,l;var n=a[3];function i(s){return{props:{data:s[2].selected&&Ne("residents",s[1].code,s[2])}}}return n&&(e=new n(i(a))),{c(){e&&G(e.$$.fragment),t=R()},l(s){e&&J(e.$$.fragment,s),t=R()},m(s,f){e&&Z(e,s,f),p(s,t,f),l=!0},p(s,f){const o={};if(f&6&&(o.data=s[2].selected&&Ne("residents",s[1].code,s[2])),n!==(n=s[3])){if(e){ne();const r=e;A(r.$$.fragment,1,0,()=>{X(r,1)}),ie()}n?(e=new n(i(s)),G(e.$$.fragment),j(e.$$.fragment,1),Z(e,t.parentNode,t)):e=null}else n&&e.$set(o)},i(s){l||(e&&j(e.$$.fragment,s),l=!0)},o(s){e&&A(e.$$.fragment,s),l=!1},d(s){s&&_(t),e&&X(e,s)}}}function On(a){let e,t=Se.nodata+"",l;return{c(){e=E("span"),l=B(t),this.h()},l(n){e=y(n,"SPAN",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-1yn8adz")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Fn(a){let e,t=Se.blocked+"",l;return{c(){e=E("span"),l=B(t),this.h()},l(n){e=y(n,"SPAN",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-1yn8adz")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Hn(a){let e,t,l,n,i,s=Fe[a[1].code]+"",f,o;const r=[Fn,On,Kn],u=[];function d(c,h){return c[2].selected.residents[c[1].code].values==="blocked"?0:c[2].selected.residents[c[1].code].values.percent[0]==null?1:2}return e=d(a),t=u[e]=r[e](a),{c(){t.c(),l=P(),n=E("span"),i=B("% of "),f=B(s),this.h()},l(c){t.l(c),l=V(c),n=y(c,"SPAN",{class:!0});var h=C(n);i=M(h,"% of "),f=M(h,s),h.forEach(_),this.h()},h(){k(n,"class","num-desc svelte-1yn8adz")},m(c,h){u[e].m(c,h),p(c,l,h),p(c,n,h),v(n,i),v(n,f),o=!0},p(c,h){let g=e;e=d(c),e===g?u[e].p(c,h):(ne(),A(u[g],1,1,()=>{u[g]=null}),ie(),t=u[e],t?t.p(c,h):(t=u[e]=r[e](c),t.c()),j(t,1),t.m(l.parentNode,l)),(!o||h&2)&&s!==(s=Fe[c[1].code]+"")&&W(f,s)},i(c){o||(j(t),o=!0)},o(c){A(t),o=!1},d(c){u[e].d(c),c&&_(l),c&&_(n)}}}function Rn(a){let e,t;return e=new be({props:{title:a[0],$$slots:{default:[Hn]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,[n]){const i={};n&1&&(i.title=l[0]),n&30&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Wn(a,e,t){let{title:l}=e,{table:n}=e,{data:i}=e,{chart_type:s}=e;return a.$$set=f=>{"title"in f&&t(0,l=f.title),"table"in f&&t(1,n=f.table),"data"in f&&t(2,i=f.data),"chart_type"in f&&t(3,s=f.chart_type)},[l,n,i,s]}class Un extends Q{constructor(e){super();$(this,e,Wn,Rn,x,{title:0,table:1,data:2,chart_type:3})}}function qn(a){let e,t;const l=a[5].default,n=oe(l,a,a[4],null);return{c(){e=E("mark"),n&&n.c(),this.h()},l(i){e=y(i,"MARK",{class:!0,style:!0,role:!0});var s=C(e);n&&n.l(s),s.forEach(_),this.h()},h(){k(e,"class","em svelte-1602h77"),T(e,"background-color",a[0]),T(e,"color",a[2]),k(e,"role","presentation"),ae(e,"nowrap",a[1])},m(i,s){p(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){n&&n.p&&(!t||s&16)&&fe(n,l,i,i[4],t?ue(l,i[4],s,null):re(i[4]),null),(!t||s&1)&&T(e,"background-color",i[0]),(!t||s&4)&&T(e,"color",i[2]),s&2&&ae(e,"nowrap",i[1])},i(i){t||(j(n,i),t=!0)},o(i){A(n,i),t=!1},d(i){i&&_(e),n&&n.d(i)}}}function Gn(a,e,t){let l,{$$slots:n={},$$scope:i}=e,{color:s="lightgrey"}=e,{nowrap:f=!0}=e;function o(u){return(u[0]*299+u[1]*587+u[2]*114)/1e3>125?"black":"white"}let r="black";return a.$$set=u=>{"color"in u&&t(0,s=u.color),"nowrap"in u&&t(1,f=u.nowrap),"$$scope"in u&&t(4,i=u.$$scope)},a.$$.update=()=>{a.$$.dirty&1&&t(3,l=qt(s).rgb),a.$$.dirty&8&&l&&t(2,r=o(l))},[s,f,r,l,i,n]}class Zn extends Q{constructor(e){super();$(this,e,Gn,qn,x,{color:0,nowrap:1})}}function Xn(a){let e,t=a[0].selected.total_pop.count.toLocaleString()+"",l,n,i,s,f,o,r,u=Ue(a[0].selected.total_pop.percent)+"",d,c,h;return r=new Zn({props:{color:"lightgrey"}}),{c(){e=E("div"),l=B(t),n=P(),i=E("div"),s=B("people"),f=P(),o=E("div"),G(r.$$.fragment),d=B(u),c=B("% of the total population of England and Wales"),this.h()},l(g){e=y(g,"DIV",{class:!0});var m=C(e);l=M(m,t),m.forEach(_),n=V(g),i=y(g,"DIV",{class:!0});var w=C(i);s=M(w,"people"),w.forEach(_),f=V(g),o=y(g,"DIV",{class:!0});var b=C(o);J(r.$$.fragment,b),d=M(b,u),c=M(b,"% of the total population of England and Wales"),b.forEach(_),this.h()},h(){k(e,"class","num-big svelte-12pd6wz"),k(i,"class","num-suffix svelte-12pd6wz"),k(o,"class","num-desc svelte-12pd6wz")},m(g,m){p(g,e,m),v(e,l),p(g,n,m),p(g,i,m),v(i,s),p(g,f,m),p(g,o,m),Z(r,o,null),v(o,d),v(o,c),h=!0},p(g,m){(!h||m&1)&&t!==(t=g[0].selected.total_pop.count.toLocaleString()+"")&&W(l,t),(!h||m&1)&&u!==(u=Ue(g[0].selected.total_pop.percent)+"")&&W(d,u)},i(g){h||(j(r.$$.fragment,g),h=!0)},o(g){A(r.$$.fragment,g),h=!1},d(g){g&&_(e),g&&_(n),g&&_(i),g&&_(f),g&&_(o),X(r)}}}function Jn(a){let e,t=Se.nodata+"",l;return{c(){e=E("div"),l=B(t),this.h()},l(n){e=y(n,"DIV",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-12pd6wz")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function Yn(a){let e,t,l,n;const i=[Jn,Xn],s=[];function f(o,r){return o[0].selected.total_pop.count==null?0:1}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(ne(),A(s[u],1,1,()=>{s[u]=null}),ie(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){n||(j(t),n=!0)},o(o){A(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function Qn(a){let e,t;return e=new be({props:{title:"Population",$$slots:{default:[Yn]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,[n]){const i={};n&3&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function $n(a,e,t){let{data:l}=e;return a.$$set=n=>{"data"in n&&t(0,l=n.data)},[l]}class xn extends Q{constructor(e){super();$(this,e,$n,Qn,x,{data:0})}}function ei(a){let e,t,l,n,i=`translateX(${a[3]/a[1]+(a[1]-a[4])}px)`,s,f=`${a[2]}px`,o=`${a[4]}px`;return{c(){e=E("div"),t=B(a[0]),l=P(),n=E("div"),this.h()},l(r){e=y(r,"DIV",{class:!0});var u=C(e);t=M(u,a[0]),l=V(u),n=y(u,"DIV",{class:!0}),C(n).forEach(_),u.forEach(_),this.h()},h(){k(n,"class","caret svelte-1491tb3"),T(n,"transform",i,!1),k(e,"class","tooltip svelte-1491tb3"),jt(()=>a[6].call(e)),T(e,"top",f,!1),T(e,"left",o,!1)},m(r,u){p(r,e,u),v(e,t),v(e,l),v(e,n),s=Nt(e,a[6].bind(e))},p(r,[u]){u&1&&W(t,r[0]),u&26&&i!==(i=`translateX(${r[3]/r[1]+(r[1]-r[4])}px)`)&&T(n,"transform",i,!1),u&4&&f!==(f=`${r[2]}px`)&&T(e,"top",f,!1),u&16&&o!==(o=`${r[4]}px`)&&T(e,"left",o,!1)},i:U,o:U,d(r){r&&_(e),s()}}}const ze=4;function li(a,e,t){let l,{title:n}=e,{x:i}=e,{y:s}=e,{width:f}=e,o;function r(){o=this.clientWidth,t(3,o)}return a.$$set=u=>{"title"in u&&t(0,n=u.title),"x"in u&&t(1,i=u.x),"y"in u&&t(2,s=u.y),"width"in u&&t(5,f=u.width)},a.$$.update=()=>{a.$$.dirty&42&&t(4,l=o&&i+o/2>f-ze?f-o/2-ze:o&&i-o/2<0+ze?o/2+ze:i)},[n,i,s,o,l,f,r]}class ti extends Q{constructor(e){super();$(this,e,li,ei,x,{title:0,x:1,y:2,width:5})}}function ni(a){let e,t;function l(i){e=a.getAttribute("title"),a.removeAttribute("title");let s=document.body.getBoundingClientRect(),f=a.getBoundingClientRect(),o=f.bottom,r=(f.left+f.right)/2;t=new ti({props:{title:e,x:r,y:o-s.y,width:s.width},target:document.body})}function n(){t.$destroy(),a.setAttribute("title",e)}return a.addEventListener("mouseover",l),a.addEventListener("mouseout",n),{destroy(){t&&t.$destroy(),a.removeEventListener("mouseover",l),a.removeEventListener("mouseout",n)}}}function _l(a,e,t){const l=a.slice();return l[19]=e[t],l[21]=t,l}function dl(a,e,t){const l=a.slice();return l[22]=e[t],l[24]=t,l}function ml(a,e,t){const l=a.slice();return l[22]=e[t],l[24]=t,l}function gl(a,e,t){const l=a.slice();return l[26]=e[t],l[21]=t,l}function bl(a){let e,t=a[11],l=[];for(let n=0;n<t.length;n+=1)l[n]=vl(gl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&2064){t=n[11];let s;for(s=0;s<t.length;s+=1){const f=gl(n,t,s);l[s]?l[s].p(f,i):(l[s]=vl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function vl(a){let e,t,l=`${a[21]==0?0:a[4]}px`,n,i,s=a[26]+"",f,o,r;return{c(){e=E("li"),t=E("div"),n=P(),i=E("span"),f=B(s),r=P(),this.h()},l(u){e=y(u,"LI",{class:!0});var d=C(e);t=y(d,"DIV",{class:!0}),C(t).forEach(_),n=V(d),i=y(d,"SPAN",{class:!0});var c=C(i);f=M(c,s),c.forEach(_),r=V(d),d.forEach(_),this.h()},h(){k(t,"class","legend-vis "+(a[21]==0?"bar":"marker-vis")+" svelte-1ajuj8s"),T(t,"border-bottom-width",l,!1),k(i,"class",o=Ce(a[21]==0?"bold":"brackets")+" svelte-1ajuj8s"),k(e,"class","svelte-1ajuj8s")},m(u,d){p(u,e,d),v(e,t),v(e,n),v(e,i),v(i,f),v(e,r)},p(u,d){d&16&&l!==(l=`${u[21]==0?0:u[4]}px`)&&T(t,"border-bottom-width",l,!1),d&2048&&s!==(s=u[26]+"")&&W(f,s)},d(u){u&&_(e)}}}function ii(a){let e,t=a[19].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=kl(dl(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&5650){t=n[19].values;let s;for(s=0;s<t.length;s+=1){const f=dl(n,t,s);l[s]?l[s].p(f,i):(l[s]=kl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function ai(a){let e,t=a[19].values,l=[];for(let n=0;n<t.length;n+=1)l[n]=pl(ml(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&5639){t=n[19].values;let s;for(s=0;s<t.length;s+=1){const f=ml(n,t,s);l[s]?l[s].p(f,i):(l[s]=pl(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function kl(a){let e,t=`calc(${a[10](a[22][a[1]])}% - ${a[4]/2}px)`,l=`${a[24]/a[12].length*100}%`,n=`calc(${1/a[12].length*100}% - 2px)`,i=`${a[4]}px`;return{c(){e=E("div"),this.h()},l(s){e=y(s,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){k(e,"class","marker svelte-1ajuj8s"),T(e,"bottom",t,!1),T(e,"height","0px",!1),T(e,"left",l,!1),T(e,"width",n,!1),T(e,"border-bottom-width",i,!1)},m(s,f){p(s,e,f)},p(s,f){f&1554&&t!==(t=`calc(${s[10](s[22][s[1]])}% - ${s[4]/2}px)`)&&T(e,"bottom",t,!1),f&4096&&l!==(l=`${s[24]/s[12].length*100}%`)&&T(e,"left",l,!1),f&4096&&n!==(n=`calc(${1/s[12].length*100}% - 2px)`)&&T(e,"width",n,!1),f&16&&i!==(i=`${s[4]}px`)&&T(e,"border-bottom-width",i,!1)},d(s){s&&_(e)}}}function pl(a){let e,t,l,n=`${a[10](a[22][a[1]])}%`,i=`calc(${a[24]/a[12].length*100}%)`,s=`calc(${1/a[12].length*100}% - 2px)`,f,o;return{c(){e=E("div"),this.h()},l(r){e=y(r,"DIV",{title:!0,class:!0}),C(e).forEach(_),this.h()},h(){k(e,"title",t=`${a[22][a[0]]}: ${a[2](a[22][a[1]])}%`+(a[9].length>1?` (${a[2](a[9][a[21]+1].values[a[24]][a[1]])}%)`:"")),k(e,"class","bar svelte-1ajuj8s"),T(e,"bottom","0",!1),T(e,"height",n,!1),T(e,"left",i,!1),T(e,"width",s,!1)},m(r,u){p(r,e,u),f||(o=Gt(l=ni.call(null,e)),f=!0)},p(r,u){u&519&&t!==(t=`${r[22][r[0]]}: ${r[2](r[22][r[1]])}%`+(r[9].length>1?` (${r[2](r[9][r[21]+1].values[r[24]][r[1]])}%)`:""))&&k(e,"title",t),u&1538&&n!==(n=`${r[10](r[22][r[1]])}%`)&&T(e,"height",n,!1),u&4096&&i!==(i=`calc(${r[24]/r[12].length*100}%)`)&&T(e,"left",i,!1),u&4096&&s!==(s=`calc(${1/r[12].length*100}% - 2px)`)&&T(e,"width",s,!1)},d(r){r&&_(e),f=!1,o()}}}function wl(a){let e;function t(i,s){return i[21]==0?ai:ii}let n=t(a)(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){n.p(i,s)},d(i){n.d(i),i&&_(e)}}}function El(a){let e,t,l=a[6][0]!=0&&yl(a),n=a[6][1]!=18&&Cl(a);return{c(){l&&l.c(),e=P(),n&&n.c(),t=R()},l(i){l&&l.l(i),e=V(i),n&&n.l(i),t=R()},m(i,s){l&&l.m(i,s),p(i,e,s),n&&n.m(i,s),p(i,t,s)},p(i,s){i[6][0]!=0?l?l.p(i,s):(l=yl(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i[6][1]!=18?n?n.p(i,s):(n=Cl(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){l&&l.d(i),i&&_(e),n&&n.d(i),i&&_(t)}}}function yl(a){let e,t=`${a[14](a[9])}%`;return{c(){e=E("div"),this.h()},l(l){e=y(l,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){k(e,"class","mask svelte-1ajuj8s"),T(e,"bottom","0",!1),T(e,"height",t,!1),T(e,"left","0",!1),T(e,"width",a[13](a[6][0]),!1)},m(l,n){p(l,e,n)},p(l,n){n&512&&t!==(t=`${l[14](l[9])}%`)&&T(e,"height",t,!1),n&64&&T(e,"width",l[13](l[6][0]),!1)},d(l){l&&_(e)}}}function Cl(a){let e,t=`${a[14](a[9])}%`;return{c(){e=E("div"),this.h()},l(l){e=y(l,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){k(e,"class","mask svelte-1ajuj8s"),T(e,"bottom","0",!1),T(e,"height",t,!1),T(e,"left",a[13](a[6][1]),!1),T(e,"right","2px",!1)},m(l,n){p(l,e,n)},p(l,n){n&512&&t!==(t=`${l[14](l[9])}%`)&&T(e,"height",t,!1),n&64&&T(e,"left",l[13](l[6][1]),!1)},d(l){l&&_(e)}}}function Dl(a){let e,t,l;return{c(){e=E("small"),t=B(a[7]),l=B(a[8]),this.h()},l(n){e=y(n,"SMALL",{class:!0});var i=C(e);t=M(i,a[7]),l=M(i,a[8]),i.forEach(_),this.h()},h(){k(e,"class","svelte-1ajuj8s")},m(n,i){p(n,e,i),v(e,t),v(e,l)},p(n,i){i&128&&W(t,n[7]),i&256&&W(l,n[8])},d(n){n&&_(e)}}}function si(a){let e,t,l,n,i=`${a[3]}px`,s,f,o,r=a[5][0]+"",u,d,c,h=a[5][1]+"",g,m,w,b=a[11][1]&&bl(a),z=a[9],D=[];for(let S=0;S<z.length;S+=1)D[S]=wl(_l(a,z,S));let I=a[6]!=null&&El(a),L=a[7]&&Dl(a);return{c(){e=E("ul"),b&&b.c(),t=P(),l=E("div");for(let S=0;S<D.length;S+=1)D[S].c();n=P(),I&&I.c(),s=P(),f=E("div"),o=E("div"),u=B(r),d=P(),c=E("div"),g=B(h),m=P(),L&&L.c(),w=R(),this.h()},l(S){e=y(S,"UL",{class:!0});var O=C(e);b&&b.l(O),O.forEach(_),t=V(S),l=y(S,"DIV",{class:!0});var H=C(l);for(let q=0;q<D.length;q+=1)D[q].l(H);n=V(H),I&&I.l(H),H.forEach(_),s=V(S),f=y(S,"DIV",{class:!0});var N=C(f);o=y(N,"DIV",{class:!0});var F=C(o);u=M(F,r),F.forEach(_),d=V(N),c=y(N,"DIV",{class:!0});var Y=C(c);g=M(Y,h),Y.forEach(_),N.forEach(_),m=V(S),L&&L.l(S),w=R(),this.h()},h(){k(e,"class","legend-block svelte-1ajuj8s"),k(l,"class","bar-group svelte-1ajuj8s"),T(l,"height",i,!1),k(o,"class","svelte-1ajuj8s"),T(o,"left","0",!1),k(c,"class","svelte-1ajuj8s"),T(c,"right","0",!1),k(f,"class","x-scale svelte-1ajuj8s"),T(f,"height","1rem",!1)},m(S,O){p(S,e,O),b&&b.m(e,null),p(S,t,O),p(S,l,O);for(let H=0;H<D.length;H+=1)D[H].m(l,null);v(l,n),I&&I.m(l,null),p(S,s,O),p(S,f,O),v(f,o),v(o,u),v(f,d),v(f,c),v(c,g),p(S,m,O),L&&L.m(S,O),p(S,w,O)},p(S,[O]){if(S[11][1]?b?b.p(S,O):(b=bl(S),b.c(),b.m(e,null)):b&&(b.d(1),b=null),O&5655){z=S[9];let H;for(H=0;H<z.length;H+=1){const N=_l(S,z,H);D[H]?D[H].p(N,O):(D[H]=wl(N),D[H].c(),D[H].m(l,n))}for(;H<D.length;H+=1)D[H].d(1);D.length=z.length}S[6]!=null?I?I.p(S,O):(I=El(S),I.c(),I.m(l,null)):I&&(I.d(1),I=null),O&8&&i!==(i=`${S[3]}px`)&&T(l,"height",i,!1),O&32&&r!==(r=S[5][0]+"")&&W(u,r),O&32&&h!==(h=S[5][1]+"")&&W(g,h),S[7]?L?L.p(S,O):(L=Dl(S),L.c(),L.m(w.parentNode,w)):L&&(L.d(1),L=null)},i:U,o:U,d(S){S&&_(e),b&&b.d(),S&&_(t),S&&_(l),le(D,S),I&&I.d(),S&&_(s),S&&_(f),S&&_(m),L&&L.d(S),S&&_(w)}}}function oi(a,e,t){let l,n,i,s,f,{data:o}=e,{xKey:r="category"}=e,{yKey:u="value"}=e,{zKey:d="areanm"}=e,{formatTick:c=S=>S.toFixed(1)}=e,{height:h=100}=e,{markerWidth:g=2.5}=e,{minmax:m=["0 years","85+"]}=e,{maskRange:w=null}=e,{base:b=null}=e,{base_ext:z=", 5 year age bands"}=e;function D(S,O){let H={};for(const F of S)H[F[O]]||(H[F[O]]={label:F[O],values:[]}),H[F[O]].values.push(F);let N=[];for(const F in H)N.push(H[F]);return N}function I(S){return S%1===0?`calc(${S/l.length*100}% - 1px)`:`calc(${Math.floor(S)/l.length*100}% +(${1/l.length*100}% - 2px) * ${S%1})`}function L(S){return Math.max(...S.map(O=>Math.max(...O.values.map(H=>s(H[u])))))}return a.$$set=S=>{"data"in S&&t(15,o=S.data),"xKey"in S&&t(0,r=S.xKey),"yKey"in S&&t(1,u=S.yKey),"zKey"in S&&t(16,d=S.zKey),"formatTick"in S&&t(2,c=S.formatTick),"height"in S&&t(3,h=S.height),"markerWidth"in S&&t(4,g=S.markerWidth),"minmax"in S&&t(5,m=S.minmax),"maskRange"in S&&t(6,w=S.maskRange),"base"in S&&t(7,b=S.base),"base_ext"in S&&t(8,z=S.base_ext)},a.$$.update=()=>{a.$$.dirty&32769&&t(12,l=o.map(S=>S[r]).filter((S,O,H)=>H.indexOf(S)===O)),a.$$.dirty&32770&&t(17,n=[0,Math.max(...o.map(S=>S[u]))]),a.$$.dirty&98304&&t(11,i=o.map(S=>S[d]).filter((S,O,H)=>H.indexOf(S)===O)),a.$$.dirty&131072&&t(10,s=S=>Math.abs(S/n[1])*100),a.$$.dirty&98304&&t(9,f=D(o,d))},[r,u,c,h,g,m,w,b,z,f,s,i,l,I,L,o,d,n]}class fi extends Q{constructor(e){super();$(this,e,oi,si,x,{data:15,xKey:0,yKey:1,zKey:16,formatTick:2,height:3,markerWidth:4,minmax:5,maskRange:6,base:7,base_ext:8})}}function ri(a){let e,t;return e=new fi({props:{data:a[0].selected&&Ne("residents","resident_age_18b",a[0]),zKey:"group",maskRange:We(a[1])}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&1&&(i.data=l[0].selected&&Ne("residents","resident_age_18b",l[0])),n&2&&(i.maskRange=We(l[1])),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function ui(a){let e,t=Se.nodata+"",l;return{c(){e=E("span"),l=B(t),this.h()},l(n){e=y(n,"SPAN",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-uj0r62")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function ci(a){let e,t=Se.nodata+"",l;return{c(){e=E("span"),l=B(t),this.h()},l(n){e=y(n,"SPAN",{class:!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","num-desc svelte-uj0r62")},m(n,i){p(n,e,i),v(e,l)},p:U,i:U,o:U,d(n){n&&_(e)}}}function hi(a){let e,t,l,n;const i=[ci,ui,ri],s=[];function f(o,r){return o[0].selected.residents.resident_age_18b.values==="blocked"?0:o[0].selected.residents.resident_age_18b.values.percent[0]==null?1:2}return e=f(a),t=s[e]=i[e](a),{c(){t.c(),l=R()},l(o){t.l(o),l=R()},m(o,r){s[e].m(o,r),p(o,l,r),n=!0},p(o,r){let u=e;e=f(o),e===u?s[e].p(o,r):(ne(),A(s[u],1,1,()=>{s[u]=null}),ie(),t=s[e],t?t.p(o,r):(t=s[e]=i[e](o),t.c()),j(t,1),t.m(l.parentNode,l))},i(o){n||(j(t),n=!0)},o(o){A(t),n=!1},d(o){s[e].d(o),o&&_(l)}}}function _i(a){let e,t;return e=new be({props:{title:"Age profile",$$slots:{default:[hi]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,[n]){const i={};n&7&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function di(a,e,t){let{data:l}=e,{selected:n}=e;return a.$$set=i=>{"data"in i&&t(0,l=i.data),"selected"in i&&t(1,n=i.selected)},[l,n]}class mi extends Q{constructor(e){super();$(this,e,di,_i,x,{data:0,selected:1})}}ve.disable_scroll_handling;const gi=ve.goto;ve.invalidate;ve.prefetch;ve.prefetch_routes;ve.before_navigate;const bi=ve.after_navigate;function Sl(a,e,t){const l=a.slice();return l[2]=e[t],l}function vi(a){let e=a[2].label+"",t;return{c(){t=B(e)},l(l){t=M(l,e)},m(l,n){p(l,t,n)},p(l,n){n&1&&e!==(e=l[2].label+"")&&W(t,e)},d(l){l&&_(t)}}}function ki(a){let e,t=a[2].label+"",l,n;return{c(){e=E("a"),l=B(t),this.h()},l(i){e=y(i,"A",{class:!0,href:!0});var s=C(e);l=M(s,t),s.forEach(_),this.h()},h(){k(e,"class","breadcrumb__link"),k(e,"href",n=a[2].url)},m(i,s){p(i,e,s),v(e,l)},p(i,s){s&1&&t!==(t=i[2].label+"")&&W(l,t),s&1&&n!==(n=i[2].url)&&k(e,"href",n)},d(i){i&&_(e)}}}function zl(a){let e,t;function l(s,f){return s[2].url?ki:vi}let n=l(a),i=n(a);return{c(){e=E("li"),i.c(),t=P(),this.h()},l(s){e=y(s,"LI",{class:!0});var f=C(e);i.l(f),t=V(f),f.forEach(_),this.h()},h(){k(e,"class","breadcrumb__item")},m(s,f){p(s,e,f),i.m(e,null),v(e,t)},p(s,f){n===(n=l(s))&&i?i.p(s,f):(i.d(1),i=n(s),i&&(i.c(),i.m(e,t)))},d(s){s&&_(e),i.d()}}}function pi(a){let e,t,l,n,i,s,f,o,r=a[0],u=[];for(let d=0;d<r.length;d+=1)u[d]=zl(Sl(a,r,d));return{c(){e=E("nav"),t=E("div"),l=E("ol"),n=E("li"),i=E("a"),s=B("Home"),f=P();for(let d=0;d<u.length;d+=1)u[d].c();this.h()},l(d){e=y(d,"NAV",{"aria-label":!0});var c=C(e);t=y(c,"DIV",{class:!0});var h=C(t);l=y(h,"OL",{class:!0});var g=C(l);n=y(g,"LI",{class:!0});var m=C(n);i=y(m,"A",{class:!0,href:!0});var w=C(i);s=M(w,"Home"),w.forEach(_),m.forEach(_),f=V(g);for(let b=0;b<u.length;b+=1)u[b].l(g);g.forEach(_),h.forEach(_),c.forEach(_),this.h()},h(){k(i,"class","breadcrumb__link"),k(i,"href","/"),k(n,"class","breadcrumb__item"),k(l,"class","breadcrumb__list"),k(t,"class",o=(a[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide"),k(e,"aria-label","Breadcrumbs")},m(d,c){p(d,e,c),v(e,t),v(t,l),v(l,n),v(n,i),v(i,s),v(l,f);for(let h=0;h<u.length;h+=1)u[h].m(l,null)},p(d,[c]){if(c&1){r=d[0];let h;for(h=0;h<r.length;h+=1){const g=Sl(d,r,h);u[h]?u[h].p(g,c):(u[h]=zl(g),u[h].c(),u[h].m(l,null))}for(;h<u.length;h+=1)u[h].d(1);u.length=r.length}c&2&&o!==(o=(d[1]=="neutral"?"breadcrumb-neutral":"breadcrumb")+" print--hide")&&k(t,"class",o)},i:U,o:U,d(d){d&&_(e),le(u,d)}}}function wi(a,e,t){let{links:l=[]}=e,{mode:n="neutral"}=e;return a.$$set=i=>{"links"in i&&t(0,l=i.links),"mode"in i&&t(1,n=i.mode)},[l,n]}class Ei extends Q{constructor(e){super();$(this,e,wi,pi,x,{links:0,mode:1})}}function Il(a,e,t){const l=a.slice();return l[2]=e[t],l}function Tl(a){let e,t,l=a[2].label+"",n,i,s,f;return{c(){e=E("li"),t=E("a"),n=B(l),f=P(),this.h()},l(o){e=y(o,"LI",{});var r=C(e);t=y(r,"A",{href:!0,"data-gtm-title":!0,"data-gtm-type":!0});var u=C(t);n=M(u,l),u.forEach(_),f=V(r),r.forEach(_),this.h()},h(){k(t,"href",i=a[2].url),k(t,"data-gtm-title",s=a[2].label),k(t,"data-gtm-type","highlighted-links")},m(o,r){p(o,e,r),v(e,t),v(t,n),v(e,f)},p(o,r){r&2&&l!==(l=o[2].label+"")&&W(n,l),r&2&&i!==(i=o[2].url)&&k(t,"href",i),r&2&&s!==(s=o[2].label)&&k(t,"data-gtm-title",s)},d(o){o&&_(e)}}}function yi(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=Tl(Il(a,s,o));return{c(){e=E("div"),t=E("h2"),l=B(a[0]),n=P(),i=E("ul");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=y(o,"DIV",{class:!0});var r=C(e);t=y(r,"H2",{class:!0});var u=C(t);l=M(u,a[0]),u.forEach(_),n=V(r),i=y(r,"UL",{class:!0});var d=C(i);for(let c=0;c<f.length;c+=1)f[c].l(d);d.forEach(_),r.forEach(_),this.h()},h(){k(t,"class","margin-top-lg--1"),k(i,"class","list--neutral margin-top--negative-one-fix"),k(e,"class","nav-secondary--border-left-lg col col--md-47 col--lg-19 col--lg-offset-2 padding-left margin-top-lg--3")},m(o,r){p(o,e,r),v(e,t),v(t,l),v(e,n),v(e,i);for(let u=0;u<f.length;u+=1)f[u].m(i,null)},p(o,[r]){if(r&1&&W(l,o[0]),r&2){s=o[1];let u;for(u=0;u<s.length;u+=1){const d=Il(o,s,u);f[u]?f[u].p(d,r):(f[u]=Tl(d),f[u].c(),f[u].m(i,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}},i:U,o:U,d(o){o&&_(e),le(f,o)}}}function Ci(a,e,t){let{title:l="Highlighted content"}=e,{links:n=[]}=e;return a.$$set=i=>{"title"in i&&t(0,l=i.title),"links"in i&&t(1,n=i.links)},[l,n]}class Di extends Q{constructor(e){super();$(this,e,Ci,yi,x,{title:0,links:1})}}function jl(a,e,t){const l=a.slice();return l[2]=e[t],l}function Si(a){let e,t=a[2].label+"",l;return{c(){e=E("li"),l=B(t),this.h()},l(n){e=y(n,"LI",{class:!0,"aria-current":!0});var i=C(e);l=M(i,t),i.forEach(_),this.h()},h(){k(e,"class","ons-list__item svelte-1dyzlhu"),k(e,"aria-current","true")},m(n,i){p(n,e,i),v(e,l)},p(n,i){i&2&&t!==(t=n[2].label+"")&&W(l,t)},d(n){n&&_(e)}}}function zi(a){let e,t,l=a[2].label+"",n,i,s;return{c(){e=E("li"),t=E("a"),n=B(l),s=P(),this.h()},l(f){e=y(f,"LI",{class:!0});var o=C(e);t=y(o,"A",{href:!0,class:!0});var r=C(t);n=M(r,l),r.forEach(_),s=V(o),o.forEach(_),this.h()},h(){k(t,"href",i=a[2].url),k(t,"class","ons-list__link"),k(e,"class","ons-list__item svelte-1dyzlhu")},m(f,o){p(f,e,o),v(e,t),v(t,n),v(e,s)},p(f,o){o&2&&l!==(l=f[2].label+"")&&W(n,l),o&2&&i!==(i=f[2].url)&&k(t,"href",i)},d(f){f&&_(e)}}}function Nl(a){let e;function t(i,s){return i[2].url?zi:Si}let l=t(a),n=l(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&_(e)}}}function Ii(a){let e,t,l,n,i,s=a[1],f=[];for(let o=0;o<s.length;o+=1)f[o]=Nl(jl(a,s,o));return{c(){e=E("nav"),t=E("h2"),l=B(a[0]),n=P(),i=E("ol");for(let o=0;o<f.length;o+=1)f[o].c();this.h()},l(o){e=y(o,"NAV",{class:!0,"aria-label":!0});var r=C(e);t=y(r,"H2",{class:!0});var u=C(t);l=M(u,a[0]),u.forEach(_),n=V(r),i=y(r,"OL",{class:!0});var d=C(i);for(let c=0;c<f.length;c+=1)f[c].l(d);d.forEach(_),r.forEach(_),this.h()},h(){k(t,"class","ons-toc__title ons-u-fs-r--b ons-u-mb-s svelte-1dyzlhu"),k(i,"class","ons-list ons-u-mb-m ons-list--dashed svelte-1dyzlhu"),k(e,"class","ons-toc svelte-1dyzlhu"),k(e,"aria-label","Pages in this guide")},m(o,r){p(o,e,r),v(e,t),v(t,l),v(e,n),v(e,i);for(let u=0;u<f.length;u+=1)f[u].m(i,null)},p(o,[r]){if(r&1&&W(l,o[0]),r&2){s=o[1];let u;for(u=0;u<s.length;u+=1){const d=jl(o,s,u);f[u]?f[u].p(d,r):(f[u]=Nl(d),f[u].c(),f[u].m(i,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}},i:U,o:U,d(o){o&&_(e),le(f,o)}}}function Ti(a,e,t){let{label:l="Contents"}=e,{links:n=[]}=e;return a.$$set=i=>{"label"in i&&t(0,l=i.label),"links"in i&&t(1,n=i.links)},[l,n]}class ji extends Q{constructor(e){super();$(this,e,Ti,Ii,x,{label:0,links:1})}}function Ni(a){let e,t,l,n,i,s,f,o,r;return{c(){e=E("div"),t=E("div"),l=E("dl"),n=E("div"),i=E("dt"),s=B(a[1]),f=B(":"),o=P(),r=E("dd"),this.h()},l(u){e=y(u,"DIV",{class:!0});var d=C(e);t=y(d,"DIV",{class:!0});var c=C(t);l=y(c,"DL",{class:!0});var h=C(l);n=y(h,"DIV",{class:!0});var g=C(n);i=y(g,"DT",{class:!0});var m=C(i);s=M(m,a[1]),f=M(m,":"),m.forEach(_),o=V(g),r=y(g,"DD",{class:!0});var w=C(r);w.forEach(_),g.forEach(_),h.forEach(_),c.forEach(_),d.forEach(_),this.h()},h(){k(i,"class","meta__term inline"),k(r,"class","inline"),k(n,"class","col padding-left--0 meta__item meta__item--no-border"),k(l,"class","col-wrap"),k(t,"class","wrapper"),k(e,"class","meta-wrap--thin"),ae(e,"meta-wrap",a[0]=="grey")},m(u,d){p(u,e,d),v(e,t),v(t,l),v(l,n),v(n,i),v(i,s),v(i,f),v(n,o),v(n,r),r.innerHTML=a[2]},p(u,[d]){d&2&&W(s,u[1]),d&4&&(r.innerHTML=u[2]),d&1&&ae(e,"meta-wrap",u[0]=="grey")},i:U,o:U,d(u){u&&_(e)}}}function Pi(a,e,t){let{background:l="grey"}=e,{label:n="Last updated"}=e,{value:i="date"}=e;return a.$$set=s=>{"background"in s&&t(0,l=s.background),"label"in s&&t(1,n=s.label),"value"in s&&t(2,i=s.value)},[l,n,i]}class Vi extends Q{constructor(e){super();$(this,e,Pi,Ni,x,{background:0,label:1,value:2})}}const Ai=a=>({}),Pl=a=>({});function Vl(a){let e,t;return e=new Ei({props:{links:a[2],mode:a[0]}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&4&&(i.links=l[2]),n&1&&(i.mode=l[0]),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Al(a){let e,t;return{c(){e=E("p"),t=B(a[6]),this.h()},l(l){e=y(l,"P",{class:!0});var n=C(e);t=M(n,a[6]),n.forEach(_),this.h()},h(){k(e,"class","page-neutral-intro__meta margin-top--0 margin-bottom--3")},m(l,n){p(l,e,n),v(e,t)},p(l,n){n&64&&W(t,l[6])},d(l){l&&_(e)}}}function Ll(a){let e,t;return e=new ji({props:{links:a[3],label:"Contents"}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&8&&(i.links=l[3]),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Bl(a){let e,t;return e=new Di({props:{links:a[4]}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&16&&(i.links=l[4]),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Ml(a){let e,t;return e=new Vi({props:{label:"Last updated",value:a[5],background:a[1]}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n&32&&(i.value=l[5]),n&2&&(i.background=l[1]),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Kl(a){let e,t,l,n;return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("hr"),this.h()},l(i){e=y(i,"DIV",{class:!0});var s=C(e);t=y(s,"DIV",{class:!0});var f=C(t);l=y(f,"DIV",{class:!0});var o=C(l);n=y(o,"HR",{style:!0}),o.forEach(_),f.forEach(_),s.forEach(_),this.h()},h(){T(n,"border","0"),T(n,"height","0"),T(n,"border-top","1px solid #808080"),k(l,"class","col"),k(t,"class","col-wrap"),k(e,"class","wrapper")},m(i,s){p(i,e,s),v(e,t),v(t,l),v(l,n)},d(i){i&&_(e)}}}function Li(a){let e,t,l,n,i,s,f,o,r,u,d,c,h,g,m=a[2]&&Vl(a);const w=a[8].default,b=oe(w,a,a[7],null);let z=a[6]&&Al(a),D=a[3]&&Ll(a),I=a[4]&&Bl(a);const L=a[8].meta,S=oe(L,a,a[7],Pl);let O=a[5]&&Ml(a),H=a[1]=="none"&&Kl();return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),m&&m.c(),i=P(),s=E("div"),b&&b.c(),f=P(),z&&z.c(),o=P(),D&&D.c(),r=P(),I&&I.c(),u=P(),S&&S.c(),d=P(),O&&O.c(),c=P(),H&&H.c(),this.h()},l(N){e=y(N,"DIV",{class:!0});var F=C(e);t=y(F,"DIV",{class:!0});var Y=C(t);l=y(Y,"DIV",{class:!0});var q=C(l);n=y(q,"DIV",{class:!0});var ee=C(n);m&&m.l(ee),i=V(ee),s=y(ee,"DIV",{class:!0});var ce=C(s);b&&b.l(ce),f=V(ce),z&&z.l(ce),o=V(ce),D&&D.l(ce),ce.forEach(_),r=V(ee),I&&I.l(ee),ee.forEach(_),q.forEach(_),Y.forEach(_),u=V(F),S&&S.l(F),d=V(F),O&&O.l(F),c=V(F),H&&H.l(F),F.forEach(_),this.h()},h(){k(s,"class","col col--md-47"),ae(s,"col--lg-38",a[4]),ae(s,"col--lg-48",!a[4]),k(n,"class","col"),k(l,"class","col-wrap"),k(t,"class","wrapper"),k(e,"class",h="page-neutral-intro "+(a[1]=="grey"?"background--gallery":""))},m(N,F){p(N,e,F),v(e,t),v(t,l),v(l,n),m&&m.m(n,null),v(n,i),v(n,s),b&&b.m(s,null),v(s,f),z&&z.m(s,null),v(s,o),D&&D.m(s,null),v(n,r),I&&I.m(n,null),v(e,u),S&&S.m(e,null),v(e,d),O&&O.m(e,null),v(e,c),H&&H.m(e,null),g=!0},p(N,[F]){N[2]?m?(m.p(N,F),F&4&&j(m,1)):(m=Vl(N),m.c(),j(m,1),m.m(n,i)):m&&(ne(),A(m,1,1,()=>{m=null}),ie()),b&&b.p&&(!g||F&128)&&fe(b,w,N,N[7],g?ue(w,N[7],F,null):re(N[7]),null),N[6]?z?z.p(N,F):(z=Al(N),z.c(),z.m(s,o)):z&&(z.d(1),z=null),N[3]?D?(D.p(N,F),F&8&&j(D,1)):(D=Ll(N),D.c(),j(D,1),D.m(s,null)):D&&(ne(),A(D,1,1,()=>{D=null}),ie()),F&16&&ae(s,"col--lg-38",N[4]),F&16&&ae(s,"col--lg-48",!N[4]),N[4]?I?(I.p(N,F),F&16&&j(I,1)):(I=Bl(N),I.c(),j(I,1),I.m(n,null)):I&&(ne(),A(I,1,1,()=>{I=null}),ie()),S&&S.p&&(!g||F&128)&&fe(S,L,N,N[7],g?ue(L,N[7],F,Ai):re(N[7]),Pl),N[5]?O?(O.p(N,F),F&32&&j(O,1)):(O=Ml(N),O.c(),j(O,1),O.m(e,c)):O&&(ne(),A(O,1,1,()=>{O=null}),ie()),N[1]=="none"?H||(H=Kl(),H.c(),H.m(e,null)):H&&(H.d(1),H=null),(!g||F&2&&h!==(h="page-neutral-intro "+(N[1]=="grey"?"background--gallery":"")))&&k(e,"class",h)},i(N){g||(j(m),j(b,N),j(D),j(I),j(S,N),j(O),g=!0)},o(N){A(m),A(b,N),A(D),A(I),A(S,N),A(O),g=!1},d(N){N&&_(e),m&&m.d(),b&&b.d(N),z&&z.d(),D&&D.d(),I&&I.d(),S&&S.d(N),O&&O.d(),H&&H.d()}}}function Bi(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i="neutral"}=e,{background:s="grey"}=e,{breadcrumb:f=null}=e,{contents:o=null}=e,{highlighted:r=null}=e,{updated:u=null}=e,{date:d=null}=e;return pe("mode",i),pe("background",s),a.$$set=c=>{"mode"in c&&t(0,i=c.mode),"background"in c&&t(1,s=c.background),"breadcrumb"in c&&t(2,f=c.breadcrumb),"contents"in c&&t(3,o=c.contents),"highlighted"in c&&t(4,r=c.highlighted),"updated"in c&&t(5,u=c.updated),"date"in c&&t(6,d=c.date),"$$scope"in c&&t(7,n=c.$$scope)},[i,s,f,o,r,u,d,n,l]}class Mi extends Q{constructor(e){super();$(this,e,Bi,Li,x,{mode:0,background:1,breadcrumb:2,contents:3,highlighted:4,updated:5,date:6})}}function Ki(a){let e,t,l;const n=a[2].default,i=oe(n,a,a[1],null);return{c(){e=E("h1"),i&&i.c(),this.h()},l(s){e=y(s,"H1",{class:!0});var f=C(e);i&&i.l(f),f.forEach(_),this.h()},h(){k(e,"class",t=a[0]=="neutral"?"page-neutral-intro__title":"page-intro__title")},m(s,f){p(s,e,f),i&&i.m(e,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&2)&&fe(i,n,s,s[1],l?ue(n,s[1],f,null):re(s[1]),null),(!l||f&1&&t!==(t=s[0]=="neutral"?"page-neutral-intro__title":"page-intro__title"))&&k(e,"class",t)},i(s){l||(j(i,s),l=!0)},o(s){A(i,s),l=!1},d(s){s&&_(e),i&&i.d(s)}}}function Oi(a,e,t){let{$$slots:l={},$$scope:n}=e,{mode:i=De("mode")}=e;return a.$$set=s=>{"mode"in s&&t(0,i=s.mode),"$$scope"in s&&t(1,n=s.$$scope)},[i,n,l]}class Fi extends Q{constructor(e){super();$(this,e,Oi,Ki,x,{mode:0})}}function Ol(a,e,t){const l=a.slice();return l[14]=e[t],l}function Fl(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Hl(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function Rl(a,e,t){const l=a.slice();return l[14]=e[t],l[19]=t,l}function Wl(a){let e,t=a[8],l=[];for(let n=0;n<t.length;n+=1)l[n]=Ul(Rl(a,t,n));return{c(){e=E("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=y(n,"UL",{class:!0});var i=C(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){k(e,"class","legend-block svelte-1sx4bpf")},m(n,i){p(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&288){t=n[8];let s;for(s=0;s<t.length;s+=1){const f=Rl(n,t,s);l[s]?l[s].p(f,i):(l[s]=Ul(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),le(l,n)}}}function Ul(a){let e,t,l,n,i=a[14]+"",s,f,o;return{c(){e=E("li"),t=E("div"),l=P(),n=E("span"),s=B(i),o=P(),this.h()},l(r){e=y(r,"LI",{class:!0});var u=C(e);t=y(u,"DIV",{class:!0}),C(t).forEach(_),l=V(u),n=y(u,"SPAN",{class:!0});var d=C(n);s=M(d,i),d.forEach(_),o=V(u),u.forEach(_),this.h()},h(){k(t,"class","legend-vis "+(a[19]==0?"bar":"marker")+" svelte-1sx4bpf"),T(t,"height","1rem",!1),T(t,"width",a[19]==0?"1rem":a[5]+"px",!1),k(n,"class",f=Ce(a[19]==0?"bold":"brackets")+" svelte-1sx4bpf"),k(e,"class","svelte-1sx4bpf"),ae(e,"ew",a[19]!=0)},m(r,u){p(r,e,u),v(e,t),v(e,l),v(e,n),v(n,s),v(e,o)},p(r,u){u&32&&T(t,"width",r[19]==0?"1rem":r[5]+"px",!1),u&256&&i!==(i=r[14]+"")&&W(s,i)},d(r){r&&_(e)}}}function ql(a){let e,t=a[1](a[17][a[0]])+"",l,n,i;return{c(){e=E("span"),l=B(t),n=B(a[2]),this.h()},l(s){e=y(s,"SPAN",{class:!0});var f=C(e);l=M(f,t),n=M(f,a[2]),f.forEach(_),this.h()},h(){k(e,"class",i="label "+(a[19]==0?"bold":"sml brackets")+" svelte-1sx4bpf")},m(s,f){p(s,e,f),v(e,l),v(e,n)},p(s,f){f&67&&t!==(t=s[1](s[17][s[0]])+"")&&W(l,t),f&4&&W(n,s[2])},d(s){s&&_(e)}}}function Hi(a){let e,t=`calc(${a[7](a[17][a[0]])}% - ${a[5]/2}px)`,l=`${a[5]}px`;return{c(){e=E("div"),this.h()},l(n){e=y(n,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){k(e,"class","marker svelte-1sx4bpf"),T(e,"left",t,!1),T(e,"border-left-width",l,!1)},m(n,i){p(n,e,i)},p(n,i){i&225&&t!==(t=`calc(${n[7](n[17][n[0]])}% - ${n[5]/2}px)`)&&T(e,"left",t,!1),i&32&&l!==(l=`${n[5]}px`)&&T(e,"border-left-width",l,!1)},d(n){n&&_(e)}}}function Ri(a){let e,t=`${a[7](a[17][a[0]])}%`;return{c(){e=E("div"),this.h()},l(l){e=y(l,"DIV",{class:!0}),C(e).forEach(_),this.h()},h(){k(e,"class","bar svelte-1sx4bpf"),T(e,"left","0",!1),T(e,"width",t,!1)},m(l,n){p(l,e,n)},p(l,n){n&193&&t!==(t=`${l[7](l[17][l[0]])}%`)&&T(e,"width",t,!1)},d(l){l&&_(e)}}}function Gl(a){let e;function t(i,s){return i[19]==0?Ri:Hi}let n=t(a)(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){n.p(i,s)},d(i){n.d(i),i&&_(e)}}}function Zl(a){let e,t=a[14].label+"",l,n,i,s,f,o=`${a[4]}px`,r=a[14].values,u=[];for(let h=0;h<r.length;h+=1)u[h]=ql(Hl(a,r,h));let d=a[14].values,c=[];for(let h=0;h<d.length;h+=1)c[h]=Gl(Fl(a,d,h));return{c(){e=E("div"),l=B(t),n=P(),i=E("span");for(let h=0;h<u.length;h+=1)u[h].c();s=P(),f=E("div");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){e=y(h,"DIV",{class:!0});var g=C(e);l=M(g,t),n=V(g),i=y(g,"SPAN",{class:!0});var m=C(i);for(let b=0;b<u.length;b+=1)u[b].l(m);m.forEach(_),g.forEach(_),s=V(h),f=y(h,"DIV",{class:!0});var w=C(f);for(let b=0;b<c.length;b+=1)c[b].l(w);w.forEach(_),this.h()},h(){k(i,"class","nowrap svelte-1sx4bpf"),k(e,"class","label-group svelte-1sx4bpf"),k(f,"class","bar-group svelte-1sx4bpf"),T(f,"height",o,!1)},m(h,g){p(h,e,g),v(e,l),v(e,n),v(e,i);for(let m=0;m<u.length;m+=1)u[m].m(i,null);p(h,s,g),p(h,f,g);for(let m=0;m<c.length;m+=1)c[m].m(f,null)},p(h,g){if(g&64&&t!==(t=h[14].label+"")&&W(l,t),g&71){r=h[14].values;let m;for(m=0;m<r.length;m+=1){const w=Hl(h,r,m);u[m]?u[m].p(w,g):(u[m]=ql(w),u[m].c(),u[m].m(i,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=r.length}if(g&225){d=h[14].values;let m;for(m=0;m<d.length;m+=1){const w=Fl(h,d,m);c[m]?c[m].p(w,g):(c[m]=Gl(w),c[m].c(),c[m].m(f,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=d.length}g&16&&o!==(o=`${h[4]}px`)&&T(f,"height",o,!1)},d(h){h&&_(e),le(u,h),h&&_(s),h&&_(f),le(c,h)}}}function Xl(a){let e,t;return{c(){e=E("small"),t=B(a[3]),this.h()},l(l){e=y(l,"SMALL",{class:!0});var n=C(e);t=M(n,a[3]),n.forEach(_),this.h()},h(){k(e,"class","svelte-1sx4bpf")},m(l,n){p(l,e,n),v(e,t)},p(l,n){n&8&&W(t,l[3])},d(l){l&&_(e)}}}function Wi(a){let e,t,l,n=a[8][1]&&Wl(a),i=a[6],s=[];for(let o=0;o<i.length;o+=1)s[o]=Zl(Ol(a,i,o));let f=a[3]&&Xl(a);return{c(){n&&n.c(),e=P();for(let o=0;o<s.length;o+=1)s[o].c();t=P(),f&&f.c(),l=R()},l(o){n&&n.l(o),e=V(o);for(let r=0;r<s.length;r+=1)s[r].l(o);t=V(o),f&&f.l(o),l=R()},m(o,r){n&&n.m(o,r),p(o,e,r);for(let u=0;u<s.length;u+=1)s[u].m(o,r);p(o,t,r),f&&f.m(o,r),p(o,l,r)},p(o,[r]){if(o[8][1]?n?n.p(o,r):(n=Wl(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),r&247){i=o[6];let u;for(u=0;u<i.length;u+=1){const d=Ol(o,i,u);s[u]?s[u].p(d,r):(s[u]=Zl(d),s[u].c(),s[u].m(t.parentNode,t))}for(;u<s.length;u+=1)s[u].d(1);s.length=i.length}o[3]?f?f.p(o,r):(f=Xl(o),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null)},i:U,o:U,d(o){n&&n.d(o),o&&_(e),le(s,o),o&&_(t),f&&f.d(o),o&&_(l)}}}function Ui(a,e,t){let l,n,i,s,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:u="areanm"}=e,{formatTick:d=b=>b.toFixed(1)}=e,{suffix:c="%"}=e,{base:h=null}=e,{barHeight:g=25}=e,{markerWidth:m=3}=e;function w(b,z){let D={},I=[];for(const S of b)D[S[z]]||(D[S[z]]={label:S[z],values:[]},I.push(S[z])),D[S[z]].values.push(S);let L=[];return I.forEach(S=>{L.push(D[S])}),L}return a.$$set=b=>{"data"in b&&t(9,f=b.data),"xKey"in b&&t(0,o=b.xKey),"yKey"in b&&t(10,r=b.yKey),"zKey"in b&&t(11,u=b.zKey),"formatTick"in b&&t(1,d=b.formatTick),"suffix"in b&&t(2,c=b.suffix),"base"in b&&t(3,h=b.base),"barHeight"in b&&t(4,g=b.barHeight),"markerWidth"in b&&t(5,m=b.markerWidth)},a.$$.update=()=>{a.$$.dirty&513&&t(12,l=Math.max(...f.map(b=>b[o]))),a.$$.dirty&2560&&t(8,n=f.map(b=>b[u]).filter((b,z,D)=>D.indexOf(b)===z)),a.$$.dirty&4096&&t(7,i=b=>b/l*100),a.$$.dirty&1536&&t(6,s=w(f,r))},[o,d,c,h,g,m,s,i,n,f,r,u,l]}class Jl extends Q{constructor(e){super();$(this,e,Ui,Wi,x,{data:9,xKey:0,yKey:10,zKey:11,formatTick:1,suffix:2,base:3,barHeight:4,markerWidth:5})}}function Yl(a,e,t){const l=a.slice();return l[14]=e[t],l}function Ql(a,e,t){const l=a.slice();return l[17]=e[t],l[19]=t,l}function $l(a,e,t){const l=a.slice();return l[14]=e[t],l[19]=t,l}function xl(a){let e,t=a[7],l=[];for(let n=0;n<t.length;n+=1)l[n]=et($l(a,t,n));return{c(){e=E("ul");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=y(n,"UL",{class:!0});var i=C(e);for(let s=0;s<l.length;s+=1)l[s].l(i);i.forEach(_),this.h()},h(){k(e,"class","legend-block svelte-7hzvwr")},m(n,i){p(n,e,i);for(let s=0;s<l.length;s+=1)l[s].m(e,null)},p(n,i){if(i&128){t=n[7];let s;for(s=0;s<t.length;s+=1){const f=$l(n,t,s);l[s]?l[s].p(f,i):(l[s]=et(f),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&_(e),le(l,n)}}}function et(a){let e,t,l,n,i=a[14]+"",s,f;return{c(){e=E("li"),t=E("div"),l=P(),n=E("span"),s=B(i),f=P(),this.h()},l(o){e=y(o,"LI",{class:!0});var r=C(e);t=y(r,"DIV",{class:!0}),C(t).forEach(_),l=V(r),n=y(r,"SPAN",{class:!0});var u=C(n);s=M(u,i),u.forEach(_),f=V(r),r.forEach(_),this.h()},h(){k(t,"class","legend-vis "+(a[19]==0?"bar":"bar2")+" svelte-7hzvwr"),k(n,"class","svelte-7hzvwr"),ae(n,"bold",a[19]==0),k(e,"class","svelte-7hzvwr")},m(o,r){p(o,e,r),v(e,t),v(e,l),v(e,n),v(n,s),v(e,f)},p(o,r){r&128&&i!==(i=o[14]+"")&&W(s,i)},d(o){o&&_(e)}}}function lt(a){let e,t=`${a[6](a[17][a[0]])}%`,l,n,i=a[1](a[17][a[0]])+"",s,f,o=`calc(${a[6](a[17][a[0]])}% + 2px)`;return{c(){e=E("div"),l=P(),n=E("div"),s=B(i),f=B(a[2]),this.h()},l(r){e=y(r,"DIV",{class:!0}),C(e).forEach(_),l=V(r),n=y(r,"DIV",{class:!0});var u=C(n);s=M(u,i),f=M(u,a[2]),u.forEach(_),this.h()},h(){k(e,"class",Ce(a[19]==0?"bar":"bar2")+" svelte-7hzvwr"),T(e,"left","0",!1),T(e,"width",t,!1),T(e,"top",a[19]==0?"0":"50%",!1),T(e,"height",a[7][1]?"50%":"100%",!1),k(n,"class","label svelte-7hzvwr"),ae(n,"bold",a[19]==0),T(n,"left",o,!1),T(n,"top",a[19]==0?"0":"50%",!1),T(n,"height","50%",!1)},m(r,u){p(r,e,u),p(r,l,u),p(r,n,u),v(n,s),v(n,f)},p(r,u){u&97&&t!==(t=`${r[6](r[17][r[0]])}%`)&&T(e,"width",t,!1),u&128&&T(e,"height",r[7][1]?"50%":"100%",!1),u&35&&i!==(i=r[1](r[17][r[0]])+"")&&W(s,i),u&4&&W(f,r[2]),u&97&&o!==(o=`calc(${r[6](r[17][r[0]])}% + 2px)`)&&T(n,"left",o,!1)},d(r){r&&_(e),r&&_(l),r&&_(n)}}}function tt(a){let e,t=a[14].label+"",l,n,i,s,f=`${a[7][1]?a[3]*2:a[3]}px`,o=`calc(100% - ${a[4]}px)`,r=a[14].values,u=[];for(let d=0;d<r.length;d+=1)u[d]=lt(Ql(a,r,d));return{c(){e=E("div"),l=B(t),n=P(),i=E("div");for(let d=0;d<u.length;d+=1)u[d].c();s=P(),this.h()},l(d){e=y(d,"DIV",{class:!0});var c=C(e);l=M(c,t),c.forEach(_),n=V(d),i=y(d,"DIV",{class:!0});var h=C(i);for(let g=0;g<u.length;g+=1)u[g].l(h);s=V(h),h.forEach(_),this.h()},h(){k(e,"class","label-group svelte-7hzvwr"),k(i,"class","bar-group svelte-7hzvwr"),T(i,"height",f,!1),T(i,"width",o,!1)},m(d,c){p(d,e,c),v(e,l),p(d,n,c),p(d,i,c);for(let h=0;h<u.length;h+=1)u[h].m(i,null);v(i,s)},p(d,c){if(c&32&&t!==(t=d[14].label+"")&&W(l,t),c&231){r=d[14].values;let h;for(h=0;h<r.length;h+=1){const g=Ql(d,r,h);u[h]?u[h].p(g,c):(u[h]=lt(g),u[h].c(),u[h].m(i,s))}for(;h<u.length;h+=1)u[h].d(1);u.length=r.length}c&136&&f!==(f=`${d[7][1]?d[3]*2:d[3]}px`)&&T(i,"height",f,!1),c&16&&o!==(o=`calc(100% - ${d[4]}px)`)&&T(i,"width",o,!1)},d(d){d&&_(e),d&&_(n),d&&_(i),le(u,d)}}}function qi(a){let e,t,l=a[7][1]&&xl(a),n=a[5],i=[];for(let s=0;s<n.length;s+=1)i[s]=tt(Yl(a,n,s));return{c(){l&&l.c(),e=P();for(let s=0;s<i.length;s+=1)i[s].c();t=R()},l(s){l&&l.l(s),e=V(s);for(let f=0;f<i.length;f+=1)i[f].l(s);t=R()},m(s,f){l&&l.m(s,f),p(s,e,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);p(s,t,f)},p(s,[f]){if(s[7][1]?l?l.p(s,f):(l=xl(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&255){n=s[5];let o;for(o=0;o<n.length;o+=1){const r=Yl(s,n,o);i[o]?i[o].p(r,f):(i[o]=tt(r),i[o].c(),i[o].m(t.parentNode,t))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},i:U,o:U,d(s){l&&l.d(s),s&&_(e),le(i,s),s&&_(t)}}}function Gi(a,e,t){let l,n,i,s,{data:f}=e,{xKey:o="value"}=e,{yKey:r="category"}=e,{zKey:u="group"}=e,{formatTick:d=w=>Math.round(w)}=e,{suffix:c="%"}=e,{barHeight:h=20}=e,{margin:g=30}=e;function m(w,b){let z={};for(const I of w)z[I[b]]||(z[I[b]]={label:I[b],values:[]}),z[I[b]].values.push(I);let D=[];for(const I in z)D.push(z[I]);return D}return a.$$set=w=>{"data"in w&&t(8,f=w.data),"xKey"in w&&t(0,o=w.xKey),"yKey"in w&&t(9,r=w.yKey),"zKey"in w&&t(10,u=w.zKey),"formatTick"in w&&t(1,d=w.formatTick),"suffix"in w&&t(2,c=w.suffix),"barHeight"in w&&t(3,h=w.barHeight),"margin"in w&&t(4,g=w.margin)},a.$$.update=()=>{a.$$.dirty&257&&t(11,l=[0,Math.max(...f.map(w=>w[o]))]),a.$$.dirty&768&&f.map(w=>w[r]).filter((w,b,z)=>z.indexOf(w)===b),a.$$.dirty&1280&&t(7,n=f.map(w=>w[u]).filter((w,b,z)=>z.indexOf(w)===b)),a.$$.dirty&2048&&t(6,i=w=>w/l[1]*100),a.$$.dirty&768&&t(5,s=m(f,r))},[o,d,c,h,g,s,i,n,f,r,u,l]}class Zi extends Q{constructor(e){super();$(this,e,Gi,qi,x,{data:8,xKey:0,yKey:9,zKey:10,formatTick:1,suffix:2,barHeight:3,margin:4})}}function Xi(a){let e,t,l;const n=a[1].default,i=oe(n,a,a[0],null);return{c(){e=E("div"),t=E("div"),i&&i.c(),this.h()},l(s){e=y(s,"DIV",{class:!0});var f=C(e);t=y(f,"DIV",{class:!0});var o=C(t);i&&i.l(o),o.forEach(_),f.forEach(_),this.h()},h(){k(t,"class","wrapper"),k(e,"class","page-content")},m(s,f){p(s,e,f),v(e,t),i&&i.m(t,null),l=!0},p(s,[f]){i&&i.p&&(!l||f&1)&&fe(i,n,s,s[0],l?ue(n,s[0],f,null):re(s[0]),null)},i(s){l||(j(i,s),l=!0)},o(s){A(i,s),l=!1},d(s){s&&_(e),i&&i.d(s)}}}function Ji(a,e,t){let{$$slots:l={},$$scope:n}=e;return a.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,l]}class Yi extends Q{constructor(e){super();$(this,e,Ji,Xi,x,{})}}function nt(a,e,t){const l=a.slice();return l[16]=e[t],l[20]=t,l}function it(a,e,t){const l=a.slice();return l[16]=e[t],l}function at(a){let e,t,l,n;return{c(){e=E("button"),t=B("Back"),this.h()},l(i){e=y(i,"BUTTON",{class:!0});var s=C(e);t=M(s,"Back"),s.forEach(_),this.h()},h(){k(e,"class","hidden-on-desktop svelte-1tjig1x")},m(i,s){p(i,e,s),v(e,t),l||(n=de(e,"click",function(){Zt(a[4])&&a[4].apply(this,arguments)}),l=!0)},p(i,s){a=i},d(i){i&&_(e),l=!1,n()}}}function Qi(a){let e,t=a[1],l=[];for(let n=0;n<t.length;n+=1)l[n]=ot(nt(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&686){t=n[1];let s;for(s=0;s<t.length;s+=1){const f=nt(n,t,s);l[s]?l[s].p(f,i):(l[s]=ot(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function $i(a){let e,t=a[1],l=[];for(let n=0;n<t.length;n+=1)l[n]=rt(it(a,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=R()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=R()},m(n,i){for(let s=0;s<l.length;s+=1)l[s].m(n,i);p(n,e,i)},p(n,i){if(i&167){t=n[1];let s;for(s=0;s<t.length;s+=1){const f=it(n,t,s);l[s]?l[s].p(f,i):(l[s]=rt(f),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){le(l,n),n&&_(e)}}}function st(a){let e,t,l,n;function i(){return a[15](a[16])}return{c(){e=E("button"),t=B("Remove"),this.h()},l(s){e=y(s,"BUTTON",{style:!0});var f=C(e);t=M(f,"Remove"),f.forEach(_),this.h()},h(){T(e,"float","right"),e.disabled=a[9]},m(s,f){p(s,e,f),v(e,t),l||(n=de(e,"click",i),l=!0)},p(s,f){a=s,f&512&&(e.disabled=a[9])},d(s){s&&_(e),l=!1,n()}}}function ot(a){let e,t,l,n,i,s,f=a[7](a[16])+"",o,r,u,d=Ie(a[16],a[5]),c,h,g;function m(){return a[14](a[16])}let w=d&&st(a);return{c(){e=E("p"),t=E("input"),i=P(),s=E("label"),o=B(f),u=P(),w&&w.c(),c=P(),this.h()},l(b){e=y(b,"P",{class:!0});var z=C(e);t=y(z,"INPUT",{type:!0,id:!0,name:!0,class:!0}),i=V(z),s=y(z,"LABEL",{for:!0,class:!0});var D=C(s);o=M(D,f),D.forEach(_),u=V(z),w&&w.l(z),c=V(z),z.forEach(_),this.h()},h(){k(t,"type","radio"),k(t,"id",l="category-option-"+a[20]),k(t,"name","selected-category"),t.checked=n=Ie(a[16],a[5]),t.disabled=a[9],k(t,"class","svelte-1tjig1x"),k(s,"for",r="category-option-"+a[20]),k(s,"class","svelte-1tjig1x"),k(e,"class","svelte-1tjig1x")},m(b,z){p(b,e,z),v(e,t),v(e,i),v(e,s),v(s,o),v(e,u),w&&w.m(e,null),v(e,c),h||(g=de(t,"click",m),h=!0)},p(b,z){a=b,z&34&&n!==(n=Ie(a[16],a[5]))&&(t.checked=n),z&512&&(t.disabled=a[9]),z&130&&f!==(f=a[7](a[16])+"")&&W(o,f),z&34&&(d=Ie(a[16],a[5])),d?w?w.p(a,z):(w=st(a),w.c(),w.m(e,c)):w&&(w.d(1),w=null)},d(b){b&&_(e),w&&w.d(),h=!1,g()}}}function ft(a){let e,t,l,n,i=Pe(a[16],a[5])+"",s;return{c(){e=E("br"),t=P(),l=E("div"),n=B("Currently selected: "),s=B(i),this.h()},l(f){e=y(f,"BR",{}),t=V(f),l=y(f,"DIV",{class:!0});var o=C(l);n=M(o,"Currently selected: "),s=M(o,i),o.forEach(_),this.h()},h(){k(l,"class","svelte-1tjig1x")},m(f,o){p(f,e,o),p(f,t,o),p(f,l,o),v(l,n),v(l,s)},p(f,o){o&34&&i!==(i=Pe(f[16],f[5])+"")&&W(s,i)},d(f){f&&_(e),f&&_(t),f&&_(l)}}}function rt(a){let e,t=a[7](a[16])+"",l,n,i,s,f,o=Pe(a[16],a[5]),r,u,d,c=o&&ft(a);function h(){return a[13](a[16])}return{c(){e=E("button"),l=B(t),n=P(),i=E("span"),s=B("\u203A"),f=P(),c&&c.c(),r=P(),this.h()},l(g){e=y(g,"BUTTON",{class:!0});var m=C(e);l=M(m,t),n=V(m),i=y(m,"SPAN",{class:!0});var w=C(i);s=M(w,"\u203A"),w.forEach(_),f=V(m),c&&c.l(m),r=V(m),m.forEach(_),this.h()},h(){k(i,"class","right-chevron svelte-1tjig1x"),k(e,"class","svelte-1tjig1x"),ae(e,"plain-button",!0),ae(e,"selected",a[16]===a[0])},m(g,m){p(g,e,m),v(e,l),v(e,n),v(e,i),v(i,s),v(e,f),c&&c.m(e,null),v(e,r),u||(d=de(e,"click",h),u=!0)},p(g,m){a=g,m&130&&t!==(t=a[7](a[16])+"")&&W(l,t),m&34&&(o=Pe(a[16],a[5])),o?c?c.p(a,m):(c=ft(a),c.c(),c.m(e,r)):c&&(c.d(1),c=null),m&3&&ae(e,"selected",a[16]===a[0])},d(g){g&&_(e),c&&c.d(),u=!1,d()}}}function xi(a){let e,t,l,n,i,s,f,o=a[4]!=null&&at(a);function r(g,m){return g[8]?$i:Qi}let u=r(a),d=u(a);const c=a[12].default,h=oe(c,a,a[11],null);return{c(){e=E("div"),o&&o.c(),t=P(),l=E("h5"),n=B(a[6]),i=P(),d.c(),s=P(),h&&h.c(),this.h()},l(g){e=y(g,"DIV",{class:!0});var m=C(e);o&&o.l(m),t=V(m),l=y(m,"H5",{class:!0});var w=C(l);n=M(w,a[6]),w.forEach(_),i=V(m),d.l(m),s=V(m),h&&h.l(m),m.forEach(_),this.h()},h(){k(l,"class","column-title svelte-1tjig1x"),k(e,"class","column svelte-1tjig1x"),ae(e,"hidden-first-column",a[10])},m(g,m){p(g,e,m),o&&o.m(e,null),v(e,t),v(e,l),v(l,n),v(e,i),d.m(e,null),v(e,s),h&&h.m(e,null),f=!0},p(g,[m]){g[4]!=null?o?o.p(g,m):(o=at(g),o.c(),o.m(e,t)):o&&(o.d(1),o=null),(!f||m&64)&&W(n,g[6]),u===(u=r(g))&&d?d.p(g,m):(d.d(1),d=u(g),d&&(d.c(),d.m(e,s))),h&&h.p&&(!f||m&2048)&&fe(h,c,g,g[11],f?ue(c,g[11],m,null):re(g[11]),null),m&1024&&ae(e,"hidden-first-column",g[10])},i(g){f||(j(h,g),f=!0)},o(g){A(h,g),f=!1},d(g){g&&_(e),o&&o.d(),d.d(),h&&h.d(g)}}}function ut(a){console.log("clicked",a)}function Pe(a,e){for(let t of e)if(t.topic===a.label)return t.label;return!1}function Ie(a,e){for(const t of e)if(t.var===a.var&&t.code===a.code)return!0;return!1}function ea(a,e,t){let{$$slots:l={},$$scope:n}=e,{options:i=[]}=e,{clickCallback:s=ut}=e,{removeCatCallback:f=ut}=e,{backButtonCallback:o=null}=e,{globalSelectedCategories:r=[]}=e,{columnTitle:u="column title"}=e,{labeller:d=D=>D.label}=e,{selected:c=null}=e,{hasChildren:h=!0}=e,{disabled:g=!1}=e,{hiddenOnMobile:m=!1}=e;const w=D=>{t(0,c=D),s(D)},b=D=>s(D),z=D=>f(D);return a.$$set=D=>{"options"in D&&t(1,i=D.options),"clickCallback"in D&&t(2,s=D.clickCallback),"removeCatCallback"in D&&t(3,f=D.removeCatCallback),"backButtonCallback"in D&&t(4,o=D.backButtonCallback),"globalSelectedCategories"in D&&t(5,r=D.globalSelectedCategories),"columnTitle"in D&&t(6,u=D.columnTitle),"labeller"in D&&t(7,d=D.labeller),"selected"in D&&t(0,c=D.selected),"hasChildren"in D&&t(8,h=D.hasChildren),"disabled"in D&&t(9,g=D.disabled),"hiddenOnMobile"in D&&t(10,m=D.hiddenOnMobile),"$$scope"in D&&t(11,n=D.$$scope)},[c,i,s,f,o,r,u,d,h,g,m,n,l,w,b,z]}class Bt extends Q{constructor(e){super();$(this,e,ea,xi,x,{options:1,clickCallback:2,removeCatCallback:3,backButtonCallback:4,globalSelectedCategories:5,columnTitle:6,labeller:7,selected:0,hasChildren:8,disabled:9,hiddenOnMobile:10})}}function ct(a,e,t){const l=a.slice();return l[25]=e[t],l}function ht(a){let e,t,l=[a[5].vars[a[7][a[5].label]]],n=[];for(let s=0;s<1;s+=1)n[s]=mt(ct(a,l,s));const i=s=>A(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<1;s+=1)n[s].c();e=R()},l(s){for(let f=0;f<1;f+=1)n[f].l(s);e=R()},m(s,f){for(let o=0;o<1;o+=1)n[o].m(s,f);p(s,e,f),t=!0},p(s,f){if(f&1022){l=[s[5].vars[s[7][s[5].label]]];let o;for(o=0;o<1;o+=1){const r=ct(s,l,o);n[o]?(n[o].p(r,f),j(n[o],1)):(n[o]=mt(r),n[o].c(),j(n[o],1),n[o].m(e.parentNode,e))}for(ne(),o=1;o<1;o+=1)i(o);ie()}},i(s){if(!t){for(let f=0;f<1;f+=1)j(n[f]);t=!0}},o(s){n=n.filter(Boolean);for(let f=0;f<1;f+=1)A(n[f]);t=!1},d(s){le(n,s),s&&_(e)}}}function _t(a){let e,t,l,n;return{c(){e=E("button"),t=B("Fewer categories")},l(i){e=y(i,"BUTTON",{});var s=C(e);t=M(s,"Fewer categories"),s.forEach(_)},m(i,s){p(i,e,s),v(e,t),l||(n=de(e,"click",a[9]),l=!0)},p:U,d(i){i&&_(e),l=!1,n()}}}function dt(a){let e,t,l,n;return{c(){e=E("button"),t=B("More categories")},l(i){e=y(i,"BUTTON",{});var s=C(e);t=M(s,"More categories"),s.forEach(_)},m(i,s){p(i,e,s),v(e,t),l||(n=de(e,"click",a[8]),l=!0)},p:U,d(i){i&&_(e),l=!1,n()}}}function la(a){let e,t,l=a[7][a[5].label]>0&&_t(a),n=a[7][a[5].label]<a[5].vars.length-1&&dt(a);return{c(){l&&l.c(),e=P(),n&&n.c(),t=P()},l(i){l&&l.l(i),e=V(i),n&&n.l(i),t=V(i)},m(i,s){l&&l.m(i,s),p(i,e,s),n&&n.m(i,s),p(i,t,s)},p(i,s){i[7][i[5].label]>0?l?l.p(i,s):(l=_t(i),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),i[7][i[5].label]<i[5].vars.length-1?n?n.p(i,s):(n=dt(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){l&&l.d(i),i&&_(e),n&&n.d(i),i&&_(t)}}}function mt(a){let e,t,l;function n(...o){return a[11](a[25],...o)}function i(...o){return a[12](a[25],...o)}function s(o){a[14](o)}let f={columnTitle:a[5].label,options:a[25].cats,clickCallback:n,removeCatCallback:i,backButtonCallback:a[13],hasChildren:!1,globalSelectedCategories:a[3],disabled:a[4],$$slots:{default:[la]},$$scope:{ctx:a}};return a[6]!==void 0&&(f.selected=a[6]),e=new Bt({props:f}),Ve.push(()=>Ae(e,"selected",s)),{c(){G(e.$$.fragment)},l(o){J(e.$$.fragment,o)},m(o,r){Z(e,o,r),l=!0},p(o,r){a=o;const u={};r&32&&(u.columnTitle=a[5].label),r&160&&(u.options=a[25].cats),r&162&&(u.clickCallback=n),r&164&&(u.removeCatCallback=i),r&32&&(u.backButtonCallback=a[13]),r&8&&(u.globalSelectedCategories=a[3]),r&16&&(u.disabled=a[4]),r&268435616&&(u.$$scope={dirty:r,ctx:a}),!t&&r&64&&(t=!0,u.selected=a[6],Le(()=>t=!1)),e.$set(u)},i(o){l||(j(e.$$.fragment,o),l=!0)},o(o){A(e.$$.fragment,o),l=!1},d(o){X(e,o)}}}function ta(a){let e,t,l,n,i,s,f;function o(d){a[10](d)}let r={columnTitle:"Select a variable",clickCallback:aa,options:a[0],globalSelectedCategories:a[3],hiddenOnMobile:a[5]!=null};a[5]!==void 0&&(r.selected=a[5]),t=new Bt({props:r}),Ve.push(()=>Ae(t,"selected",o));let u=a[5]!=null&&ht(a);return{c(){e=E("div"),G(t.$$.fragment),n=P(),u&&u.c(),i=P(),s=R(),this.h()},l(d){e=y(d,"DIV",{class:!0});var c=C(e);J(t.$$.fragment,c),n=V(c),u&&u.l(c),c.forEach(_),i=V(d),s=R(),this.h()},h(){k(e,"class","container svelte-1eu7aha")},m(d,c){p(d,e,c),Z(t,e,null),v(e,n),u&&u.m(e,null),p(d,i,c),p(d,s,c),f=!0},p(d,[c]){const h={};c&1&&(h.options=d[0]),c&8&&(h.globalSelectedCategories=d[3]),c&32&&(h.hiddenOnMobile=d[5]!=null),!l&&c&32&&(l=!0,h.selected=d[5],Le(()=>l=!1)),t.$set(h),d[5]!=null?u?(u.p(d,c),c&32&&j(u,1)):(u=ht(d),u.c(),j(u,1),u.m(e,null)):u&&(ne(),A(u,1,1,()=>{u=null}),ie())},i(d){f||(j(t.$$.fragment,d),j(u),f=!0)},o(d){A(t.$$.fragment,d),A(u),f=!1},d(d){d&&_(e),X(t),u&&u.d(),d&&_(i),d&&_(s)}}}function na(a,e){console.log(a,e)}function ia(a,e){console.log(a,e)}const aa=()=>{};function sa(a,e,t){let l,{options:n=[]}=e,{clickCallback:i=na}=e,{removeCatCallback:s=ia}=e,{globalSelectedCategories:f=[]}=e,{disabled:o=!1}=e,r=null,u=null;function d(){t(7,++l[r.label],l)}function c(){t(7,--l[r.label],l)}function h(D){r=D,t(5,r)}const g=(D,I)=>i(D,I),m=(D,I)=>s(D,I),w=()=>t(5,r=null);function b(D){u=D,t(6,u)}const z=(D,I)=>i(D,I);return a.$$set=D=>{"options"in D&&t(0,n=D.options),"clickCallback"in D&&t(1,i=D.clickCallback),"removeCatCallback"in D&&t(2,s=D.removeCatCallback),"globalSelectedCategories"in D&&t(3,f=D.globalSelectedCategories),"disabled"in D&&t(4,o=D.disabled)},a.$$.update=()=>{a.$$.dirty&1&&t(7,l=function(){let D={};return n.forEach(I=>D[I.label]=0),D}())},[n,i,s,f,o,r,u,l,d,c,h,g,m,w,b,z]}class oa extends Q{constructor(e){super();$(this,e,sa,ta,x,{options:0,clickCallback:1,removeCatCallback:2,globalSelectedCategories:3,disabled:4})}}function gt(a,e,t){const l=a.slice();return l[24]=e[t],l}function bt(a,e,t){const l=a.slice();return l[27]=e[t],l}function vt(a,e,t){const l=a.slice();return l[30]=e[t],l}function kt(a,e,t){const l=a.slice();return l[33]=e[t],l[35]=t,l}function fa(a){let e;return{c(){e=B("Create a population group profile")},l(t){e=M(t,"Create a population group profile")},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function ra(a){let e,t,l,n,i,s,f,o,r,u,d;return e=new Fi({props:{$$slots:{default:[fa]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment),t=P(),l=E("p"),n=B(`Select one or more identity characteristics to define a population group to
    compare with the whole population of England and Wales. For example, see `),i=E("a"),s=B("Sikhs born in the UK"),f=B(`
    or
    `),o=E("a"),r=B("people aged 65+ born in Ireland"),u=B("."),this.h()},l(c){J(e.$$.fragment,c),t=V(c),l=y(c,"P",{class:!0});var h=C(l);n=M(h,`Select one or more identity characteristics to define a population group to
    compare with the whole population of England and Wales. For example, see `),i=y(h,"A",{href:!0,class:!0});var g=C(i);s=M(g,"Sikhs born in the UK"),g.forEach(_),f=M(h,`
    or
    `),o=y(h,"A",{href:!0,class:!0});var m=C(o);r=M(m,"people aged 65+ born in Ireland"),m.forEach(_),u=M(h,"."),h.forEach(_),this.h()},h(){k(i,"href","?religion_tb=7&country_of_birth_3a=1"),k(i,"class","svelte-1gx872z"),k(o,"href","?resident_age_3a=3&country_of_birth_8a=2"),k(o,"class","svelte-1gx872z"),k(l,"class","subtitle svelte-1gx872z")},m(c,h){Z(e,c,h),p(c,t,h),p(c,l,h),v(l,n),v(l,i),v(i,s),v(l,f),v(l,o),v(o,r),v(l,u),d=!0},p(c,h){const g={};h[1]&32&&(g.$$scope={dirty:h,ctx:c}),e.$set(g)},i(c){d||(j(e.$$.fragment,c),d=!0)},o(c){A(e.$$.fragment,c),d=!1},d(c){X(e,c),c&&_(t),c&&_(l)}}}function pt(a){let e,t,l,n=a[0],i=[];for(let s=0;s<n.length;s+=1)i[s]=wt(kt(a,n,s));return{c(){e=E("br"),t=P();for(let s=0;s<i.length;s+=1)i[s].c();l=R()},l(s){e=y(s,"BR",{}),t=V(s);for(let f=0;f<i.length;f+=1)i[f].l(s);l=R()},m(s,f){p(s,e,f),p(s,t,f);for(let o=0;o<i.length;o+=1)i[o].m(s,f);p(s,l,f)},p(s,f){if(f[0]&259){n=s[0];let o;for(o=0;o<n.length;o+=1){const r=kt(s,n,o);i[o]?i[o].p(r,f):(i[o]=wt(r),i[o].c(),i[o].m(l.parentNode,l))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(s){s&&_(e),s&&_(t),le(i,s),s&&_(l)}}}function ua(a){let e,t,l=_e(a[33].topic)+"",n,i,s=_e(a[33].label)+"",f,o,r,u,d,c;function h(){return a[13](a[33])}return{c(){e=E("div"),t=E("span"),n=B(l),i=B(": "),f=B(s),o=P(),r=E("button"),u=P(),this.h()},l(g){e=y(g,"DIV",{class:!0});var m=C(e);t=y(m,"SPAN",{class:!0});var w=C(t);n=M(w,l),i=M(w,": "),f=M(w,s),w.forEach(_),o=V(m),r=y(m,"BUTTON",{class:!0}),C(r).forEach(_),u=V(m),m.forEach(_),this.h()},h(){k(t,"class","svelte-1gx872z"),k(r,"class","svelte-1gx872z"),k(e,"class","chip svelte-1gx872z")},m(g,m){p(g,e,m),v(e,t),v(t,n),v(t,i),v(t,f),v(e,o),v(e,r),v(e,u),d||(c=de(r,"click",h),d=!0)},p(g,m){a=g,m[0]&1&&l!==(l=_e(a[33].topic)+"")&&W(n,l),m[0]&1&&s!==(s=_e(a[33].label)+"")&&W(f,s)},d(g){g&&_(e),d=!1,c()}}}function ca(a){let e,t,l=_e(a[33].topic)+"",n,i,s=_e(a[33].label)+"",f,o,r,u;return{c(){e=E("div"),t=E("span"),n=B(l),i=B(": "),f=B(s),o=P(),r=E("div"),u=P(),this.h()},l(d){e=y(d,"DIV",{class:!0});var c=C(e);t=y(c,"SPAN",{class:!0});var h=C(t);n=M(h,l),i=M(h,": "),f=M(h,s),h.forEach(_),o=V(c),r=y(c,"DIV",{class:!0}),C(r).forEach(_),u=V(c),c.forEach(_),this.h()},h(){k(t,"class","svelte-1gx872z"),k(r,"class","chip-loader svelte-1gx872z"),k(e,"class","chip chip-pending svelte-1gx872z")},m(d,c){p(d,e,c),v(e,t),v(t,n),v(t,i),v(t,f),v(e,o),v(e,r),v(e,u)},p(d,c){c[0]&1&&l!==(l=_e(d[33].topic)+"")&&W(n,l),c[0]&1&&s!==(s=_e(d[33].label)+"")&&W(f,s)},d(d){d&&_(e)}}}function wt(a){let e;function t(i,s){return i[1]=="loading"?ca:ua}let l=t(a),n=l(a);return{c(){n.c(),e=R()},l(i){n.l(i),e=R()},m(i,s){n.m(i,s),p(i,e,s)},p(i,s){l===(l=t(i))&&n?n.p(i,s):(n.d(1),n=l(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){n.d(i),i&&_(e)}}}function Et(a){let e,t,l,n=a[1]=="failed"&&yt(),i=a[2]==!0&&Ct();return{c(){e=E("div"),t=B(`Some datasets not available for selected variables.
        `),n&&n.c(),l=P(),i&&i.c(),this.h()},l(s){e=y(s,"DIV",{class:!0});var f=C(e);t=M(f,`Some datasets not available for selected variables.
        `),n&&n.l(f),l=V(f),i&&i.l(f),f.forEach(_),this.h()},h(){k(e,"class","warning svelte-1gx872z")},m(s,f){p(s,e,f),v(e,t),n&&n.m(e,null),v(e,l),i&&i.m(e,null)},p(s,f){s[1]=="failed"?n||(n=yt(),n.c(),n.m(e,l)):n&&(n.d(1),n=null),s[2]==!0?i||(i=Ct(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(s){s&&_(e),n&&n.d(),i&&i.d()}}}function yt(a){let e;return{c(){e=B("Try removing a variable to see more datasets.")},l(t){e=M(t,"Try removing a variable to see more datasets.")},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function Ct(a){let e;return{c(){e=B(`Economic indicators (employment, social status etc) not available for
          ages 0 to 15.`)},l(t){e=M(t,`Economic indicators (employment, social status etc) not available for
          ages 0 to 15.`)},m(t,l){p(t,e,l)},d(t){t&&_(e)}}}function Dt(a){let e,t;return e=new oa({props:{options:ln,clickCallback:a[6],removeCatCallback:a[7],globalSelectedCategories:a[0],disabled:a[1]==="loading"}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n[0]&1&&(i.globalSelectedCategories=l[0]),n[0]&2&&(i.disabled=l[1]==="loading"),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function ha(a){let e,t,l,n,i=a[0][0]&&pt(a),s=(a[1]=="failed"||a[2]==!0)&&Et(a),f=a[0].length<3&&Dt(a);return{c(){e=E("div"),i&&i.c(),t=P(),s&&s.c(),l=P(),f&&f.c(),this.h()},l(o){e=y(o,"DIV",{slot:!0,class:!0});var r=C(e);i&&i.l(r),t=V(r),s&&s.l(r),l=V(r),f&&f.l(r),r.forEach(_),this.h()},h(){k(e,"slot","meta"),k(e,"class","wrapper")},m(o,r){p(o,e,r),i&&i.m(e,null),v(e,t),s&&s.m(e,null),v(e,l),f&&f.m(e,null),n=!0},p(o,r){o[0][0]?i?i.p(o,r):(i=pt(o),i.c(),i.m(e,t)):i&&(i.d(1),i=null),o[1]=="failed"||o[2]==!0?s?s.p(o,r):(s=Et(o),s.c(),s.m(e,l)):s&&(s.d(1),s=null),o[0].length<3?f?(f.p(o,r),r[0]&1&&j(f,1)):(f=Dt(o),f.c(),j(f,1),f.m(e,null)):f&&(ne(),A(f,1,1,()=>{f=null}),ie())},i(o){n||(j(f),n=!0)},o(o){A(f),n=!1},d(o){o&&_(e),i&&i.d(),s&&s.d(),f&&f.d()}}}function _a(a){let e,t,l,n;return e=new xn({props:{data:a[4]}}),l=new mi({props:{data:a[4],selected:a[0]}}),{c(){G(e.$$.fragment),t=P(),G(l.$$.fragment)},l(i){J(e.$$.fragment,i),t=V(i),J(l.$$.fragment,i)},m(i,s){Z(e,i,s),p(i,t,s),Z(l,i,s),n=!0},p(i,s){const f={};s[0]&16&&(f.data=i[4]),e.$set(f);const o={};s[0]&16&&(o.data=i[4]),s[0]&1&&(o.selected=i[0]),l.$set(o)},i(i){n||(j(e.$$.fragment,i),j(l.$$.fragment,i),n=!0)},o(i){A(e.$$.fragment,i),A(l.$$.fragment,i),n=!1},d(i){X(e,i),i&&_(t),X(l,i)}}}function St(a){let e,t,l,n=a[30].name+"",i,s,f;return{c(){e=E("label"),t=E("input"),i=B(n),this.h()},l(o){e=y(o,"LABEL",{});var r=C(e);t=y(r,"INPUT",{type:!0,name:!0}),i=M(r,n),r.forEach(_),this.h()},h(){k(t,"type","radio"),k(t,"name","chart-type"),t.__value=l=a[30].component,t.value=t.__value,a[15][0].push(t)},m(o,r){p(o,e,r),v(e,t),t.checked=t.__value===a[3],v(e,i),s||(f=de(t,"change",a[14]),s=!0)},p(o,r){r[0]&8&&(t.checked=t.__value===o[3])},d(o){o&&_(e),a[15][0].splice(a[15][0].indexOf(t),1),s=!1,f()}}}function zt(a){let e,t;return e=new Un({props:{title:Re(a[27].key),table:a[27],data:a[4],chart_type:a[3]}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n[0]&16&&(i.title=Re(l[27].key)),n[0]&16&&(i.table=l[27]),n[0]&16&&(i.data=l[4]),n[0]&8&&(i.chart_type=l[3]),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function da(a){let e,t,l=a[24].tables.filter(a[16]),n=[];for(let s=0;s<l.length;s+=1)n[s]=zt(bt(a,l,s));const i=s=>A(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=P()},l(s){for(let f=0;f<n.length;f+=1)n[f].l(s);e=V(s)},m(s,f){for(let o=0;o<n.length;o+=1)n[o].m(s,f);p(s,e,f),t=!0},p(s,f){if(f[0]&24){l=s[24].tables.filter(s[16]);let o;for(o=0;o<l.length;o+=1){const r=bt(s,l,o);n[o]?(n[o].p(r,f),j(n[o],1)):(n[o]=zt(r),n[o].c(),j(n[o],1),n[o].m(e.parentNode,e))}for(ne(),o=l.length;o<n.length;o+=1)i(o);ie()}},i(s){if(!t){for(let f=0;f<l.length;f+=1)j(n[f]);t=!0}},o(s){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)A(n[f]);t=!1},d(s){le(n,s),s&&_(e)}}}function It(a){let e,t;return e=new Be({props:{title:a[24].categoryName,$$slots:{default:[da]},$$scope:{ctx:a}}}),{c(){G(e.$$.fragment)},l(l){J(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const i={};n[0]&24|n[1]&32&&(i.$$scope={dirty:n,ctx:l}),e.$set(i)},i(l){t||(j(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function ma(a){let e,t,l,n,i,s,f,o,r,u,d;e=new Be({props:{title:"Demographics",$$slots:{default:[_a]},$$scope:{ctx:a}}}),l=new Mn({props:{data:a[4],mapStyle:$t,ladBounds:ye,selected:a[0],colors:ke}});let c=a[5],h=[];for(let b=0;b<c.length;b+=1)h[b]=St(vt(a,c,b));let g=je[0].tablesCategorised,m=[];for(let b=0;b<g.length;b+=1)m[b]=It(gt(a,g,b));const w=b=>A(m[b],1,1,()=>{m[b]=null});return{c(){G(e.$$.fragment),t=P(),G(l.$$.fragment),n=P(),i=E("span"),s=E("strong"),f=B("Chart type:"),o=P();for(let b=0;b<h.length;b+=1)h[b].c();r=P();for(let b=0;b<m.length;b+=1)m[b].c();u=R()},l(b){J(e.$$.fragment,b),t=V(b),J(l.$$.fragment,b),n=V(b),i=y(b,"SPAN",{});var z=C(i);s=y(z,"STRONG",{});var D=C(s);f=M(D,"Chart type:"),D.forEach(_),o=V(z);for(let I=0;I<h.length;I+=1)h[I].l(z);z.forEach(_),r=V(b);for(let I=0;I<m.length;I+=1)m[I].l(b);u=R()},m(b,z){Z(e,b,z),p(b,t,z),Z(l,b,z),p(b,n,z),p(b,i,z),v(i,s),v(s,f),v(i,o);for(let D=0;D<h.length;D+=1)h[D].m(i,null);p(b,r,z);for(let D=0;D<m.length;D+=1)m[D].m(b,z);p(b,u,z),d=!0},p(b,z){const D={};z[0]&17|z[1]&32&&(D.$$scope={dirty:z,ctx:b}),e.$set(D);const I={};if(z[0]&16&&(I.data=b[4]),z[0]&1&&(I.selected=b[0]),l.$set(I),z[0]&40){c=b[5];let L;for(L=0;L<c.length;L+=1){const S=vt(b,c,L);h[L]?h[L].p(S,z):(h[L]=St(S),h[L].c(),h[L].m(i,null))}for(;L<h.length;L+=1)h[L].d(1);h.length=c.length}if(z[0]&24){g=je[0].tablesCategorised;let L;for(L=0;L<g.length;L+=1){const S=gt(b,g,L);m[L]?(m[L].p(S,z),j(m[L],1)):(m[L]=It(S),m[L].c(),j(m[L],1),m[L].m(u.parentNode,u))}for(ne(),L=g.length;L<m.length;L+=1)w(L);ie()}},i(b){if(!d){j(e.$$.fragment,b),j(l.$$.fragment,b);for(let z=0;z<g.length;z+=1)j(m[z]);d=!0}},o(b){A(e.$$.fragment,b),A(l.$$.fragment,b),m=m.filter(Boolean);for(let z=0;z<m.length;z+=1)A(m[z]);d=!1},d(b){X(e,b),b&&_(t),X(l,b),b&&_(n),b&&_(i),le(h,b),b&&_(r),le(m,b),b&&_(u)}}}function ga(a){let e,t,l,n,i,s,f,o,r,u,d,c;return r=new Mi({props:{background:"none",breadcrumb:[{label:"Census",url:"/census"},{label:"Create a population group profile"}],$$slots:{meta:[ha],default:[ra]},$$scope:{ctx:a}}}),d=new Yi({props:{$$slots:{default:[ma]},$$scope:{ctx:a}}}),{c(){e=E("meta"),t=E("meta"),l=E("meta"),n=E("meta"),i=E("meta"),s=E("meta"),f=E("meta"),o=P(),G(r.$$.fragment),u=P(),G(d.$$.fragment),this.h()},l(h){const g=Xt('[data-svelte="svelte-1yphpwa"]',document.head);e=y(g,"META",{name:!0,content:!0}),t=y(g,"META",{property:!0,content:!0}),l=y(g,"META",{property:!0,content:!0}),n=y(g,"META",{property:!0,content:!0}),i=y(g,"META",{property:!0,content:!0}),s=y(g,"META",{property:!0,content:!0}),f=y(g,"META",{name:!0,content:!0}),g.forEach(_),o=V(h),J(r.$$.fragment,h),u=V(h),J(d.$$.fragment,h),this.h()},h(){document.title="Create a population group profile",k(e,"name","description"),k(e,"content",""),k(t,"property","og:title"),k(t,"content","Create a population group profile"),k(l,"property","og:type"),k(l,"content","website"),k(n,"property","og:url"),k(n,"content",Pt+"/"),k(i,"property","og:image:type"),k(i,"content","image/jpeg"),k(s,"property","og:description"),k(s,"content",""),k(f,"name","description"),k(f,"content","")},m(h,g){v(document.head,e),v(document.head,t),v(document.head,l),v(document.head,n),v(document.head,i),v(document.head,s),v(document.head,f),p(h,o,g),Z(r,h,g),p(h,u,g),Z(d,h,g),c=!0},p(h,g){const m={};g[0]&7|g[1]&32&&(m.$$scope={dirty:g,ctx:h}),r.$set(m);const w={};g[0]&25|g[1]&32&&(w.$$scope={dirty:g,ctx:h}),d.$set(w)},i(h){c||(j(r.$$.fragment,h),j(d.$$.fragment,h),c=!0)},o(h){A(r.$$.fragment,h),A(d.$$.fragment,h),c=!1},d(h){_(e),_(t),_(l),_(n),_(i),_(s),_(f),h&&_(o),X(r,h),h&&_(u),X(d,h)}}}const Da=!1;async function Sa({fetch:a}){let e=await sn(Pt+ye.url,ye.layer,a),t=(await Vt(je,[],a)).data;t.total_pop=At(t.residents.sex.values.count);let l=e.features.map(i=>({code:i.properties[ye.code],name:i.properties[ye.name]})),n=l.map(({code:i,name:s})=>({code:i,name:s,value:100,color:ke.seq[4]}));return{props:{geojson:e,geoCodesAndNames:l,geoPerc:n,dataAll:t}}}let ba="light";function va(a){let e=[];a.forEach(l=>e.push(l[0]));const t=a.flat().pop();return(a.length===1||t!=e[e.length-1])&&e.push(t),e}function ka(a,e,t){let l;Tt(a,tn,N=>t(18,l=N));let{geojson:n,geoCodesAndNames:i,geoPerc:s,dataAll:f}=e;pe("theme",xt[ba]);let o=[{name:"Comparison marker",component:Jl},{name:"Grouped bar",component:Zi}],r=[],u="success",d=!1,c=Jl,h={all:f,selected:f,geojson:n,geoCodesAndNames:i,geoPerc:s,geoBreaks:[0,100]};function g(){gi(`${Yt}?${r.map(N=>`${N.key}=${N.code}`).join("&")}`,{noscroll:!0})}function m(N,F){t(0,r=[...r.filter(Y=>Y.topic!==N.shortLabel),ge({topic:N.shortLabel,key:N.key},F)]),g()}function w(N,F){t(0,r=r.filter(Y=>Y.label!==F.label)),g()}function b(N){t(0,r=r.filter(F=>F.topic!=N)),g()}function z(N){t(4,h.selected=N.data,h),t(4,h.selected.total_pop=r.length===0?At(f.residents.sex.values.count):N.total_pop,h),t(4,h.geoPerc=[],h);let F=null;{h.geoCodesAndNames.forEach(({code:q,name:ee})=>{let ce=r.length===0?100:N.mapData[q]!=null?N.mapData[q][1]:null;h.geoPerc.push({code:q,name:ee,value:ce})});let Y=h.geoPerc.map(q=>q.value).filter(q=>q!=null);F=Y.length===0?null:Jt(Y,Math.min(5,Y.length))}if(F==null)h.geoPerc.forEach(Y=>Y.color=ke.nodata),t(4,h.geoBreaks=[0,100],h);else if(r.length===0)h.geoPerc.forEach(Y=>Y.color=ke.seq[4]),t(4,h.geoBreaks=[100,100],h);else{let Y=va(F);h.geoPerc.forEach(q=>q.color=q.value!=null?an(q.value,Y,ke.seq):ke.nodata),t(4,h.geoBreaks=Y,h)}t(1,u="success")}function D(){t(1,u="loading"),t(2,d=r&&r.some(N=>["Aged 4 years and under","Aged 5 to 9 years","Aged 10 to 14 years","Aged 15 years and under"].includes(N.label))),Vt(je,r).then(z)}function I(){t(0,r=[]);for(let N of l.url.searchParams.entries()){let F=en.find(q=>q.key==N[0]);if(!F)continue;let Y=F.cats.find(q=>q.code==N[1]);!Y||r.push(ge({topic:F.shortLabel,key:F.key},Y))}D()}bi(I);const L=[[]],S=N=>b(N.topic);function O(){c=this.__value,t(3,c)}const H=N=>!N.code.startsWith("resident_age")&&h.selected.residents[N.code].values!=="blocked"&&h.selected.residents[N.code].values!==void 0;return a.$$set=N=>{"geojson"in N&&t(9,n=N.geojson),"geoCodesAndNames"in N&&t(10,i=N.geoCodesAndNames),"geoPerc"in N&&t(11,s=N.geoPerc),"dataAll"in N&&t(12,f=N.dataAll)},[r,u,d,c,h,o,m,w,b,n,i,s,f,S,O,L,H]}class za extends Q{constructor(e){super();$(this,e,ka,ga,x,{geojson:9,geoCodesAndNames:10,geoPerc:11,dataAll:12},null,[-1,-1])}}export{za as default,Sa as load,Da as prerender};
